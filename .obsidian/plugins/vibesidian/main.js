/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var jP=Object.create;var cp=Object.defineProperty;var LP=Object.getOwnPropertyDescriptor;var VP=Object.getOwnPropertyNames;var UP=Object.getPrototypeOf,zP=Object.prototype.hasOwnProperty;var BP=(e,t)=>()=>(e&&(t=e(e=0)),t);var xn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fp=(e,t)=>{for(var n in t)cp(e,n,{get:t[n],enumerable:!0})},ow=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of VP(t))!zP.call(e,a)&&a!==n&&cp(e,a,{get:()=>t[a],enumerable:!(r=LP(t,a))||r.enumerable});return e};var Ae=(e,t,n)=>(n=e!=null?jP(UP(e)):{},ow(t||!e||!e.__esModule?cp(n,"default",{value:e,enumerable:!0}):n,e)),qP=e=>ow(cp({},"__esModule",{value:!0}),e);var Kw=xn((Vq,rl)=>{"use strict";var fN=typeof Buffer!="undefined",$w=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Gw=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Yw(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),fN&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;let a=n&&n.protoAction||"error",i=n&&n.constructorAction||"error";if(a==="ignore"&&i==="ignore")return r;if(a!=="ignore"&&i!=="ignore"){if($w.test(e)===!1&&Gw.test(e)===!1)return r}else if(a!=="ignore"&&i==="ignore"){if($w.test(e)===!1)return r}else if(Gw.test(e)===!1)return r;return Zw(r,{protoAction:a,constructorAction:i,safe:n&&n.safe})}function Zw(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let a=[e];for(;a.length;){let i=a;a=[];for(let o of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let s in o){let l=o[s];l&&typeof l=="object"&&a.push(l)}}}return e}function Og(e,t,n){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Yw(e,t,n)}finally{Error.stackTraceLimit=r}}function pN(e,t){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Yw(e,t,{safe:!0})}catch(r){return null}finally{Error.stackTraceLimit=n}}rl.exports=Og;rl.exports.default=Og;rl.exports.parse=Og;rl.exports.safeParse=pN;rl.exports.scan=Zw});var h1=xn(Xe=>{"use strict";var yy=Symbol.for("react.transitional.element"),ZV=Symbol.for("react.portal"),KV=Symbol.for("react.fragment"),JV=Symbol.for("react.strict_mode"),XV=Symbol.for("react.profiler"),QV=Symbol.for("react.consumer"),WV=Symbol.for("react.context"),eU=Symbol.for("react.forward_ref"),tU=Symbol.for("react.suspense"),nU=Symbol.for("react.memo"),u1=Symbol.for("react.lazy"),a1=Symbol.iterator;function rU(e){return e===null||typeof e!="object"?null:(e=a1&&e[a1]||e["@@iterator"],typeof e=="function"?e:null)}var c1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1=Object.assign,p1={};function xl(e,t,n){this.props=e,this.context=t,this.refs=p1,this.updater=n||c1}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d1(){}d1.prototype=xl.prototype;function vy(e,t,n){this.props=e,this.context=t,this.refs=p1,this.updater=n||c1}var by=vy.prototype=new d1;by.constructor=vy;f1(by,xl.prototype);by.isPureReactComponent=!0;var i1=Array.isArray,Pt={H:null,A:null,T:null,S:null,V:null},m1=Object.prototype.hasOwnProperty;function xy(e,t,n,r,a,i){return n=i.ref,{$$typeof:yy,type:e,key:t,ref:n!==void 0?n:null,props:i}}function aU(e,t){return xy(e.type,t,void 0,void 0,void 0,e.props)}function wy(e){return typeof e=="object"&&e!==null&&e.$$typeof===yy}function iU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o1=/\/+/g;function gy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iU(""+e.key):t.toString(36)}function s1(){}function oU(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(s1,s1):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function bl(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yy:case ZV:o=!0;break;case u1:return o=e._init,bl(o(e._payload),t,n,r,a)}}if(o)return a=a(e),o=r===""?"."+gy(e,0):r,i1(a)?(n="",o!=null&&(n=o.replace(o1,"$&/")+"/"),bl(a,t,n,"",function(u){return u})):a!=null&&(wy(a)&&(a=aU(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(o1,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=r===""?".":r+":";if(i1(e))for(var l=0;l<e.length;l++)r=e[l],i=s+gy(r,l),o+=bl(r,t,n,i,a);else if(l=rU(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,i=s+gy(r,l++),o+=bl(r,t,n,i,a);else if(i==="object"){if(typeof e.then=="function")return bl(oU(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Fp(e,t,n){if(e==null)return e;var r=[],a=0;return bl(e,r,"","",function(i){return t.call(n,i,a++)}),r}function sU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var l1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lU(){}Xe.Children={map:Fp,forEach:function(e,t,n){Fp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fp(e,function(){t++}),t},toArray:function(e){return Fp(e,function(t){return t})||[]},only:function(e){if(!wy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=xl;Xe.Fragment=KV;Xe.Profiler=XV;Xe.PureComponent=vy;Xe.StrictMode=JV;Xe.Suspense=tU;Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt;Xe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pt.H.useMemoCache(e)}};Xe.cache=function(e){return function(){return e.apply(null,arguments)}};Xe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=f1({},e.props),a=e.key,i=void 0;if(t!=null)for(o in t.ref!==void 0&&(i=void 0),t.key!==void 0&&(a=""+t.key),t)!m1.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}return xy(e.type,a,void 0,void 0,i,r)};Xe.createContext=function(e){return e={$$typeof:WV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:QV,_context:e},e};Xe.createElement=function(e,t,n){var r,a={},i=null;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)m1.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return xy(e,i,void 0,void 0,null,a)};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:eU,render:e}};Xe.isValidElement=wy;Xe.lazy=function(e){return{$$typeof:u1,_payload:{_status:-1,_result:e},_init:sU}};Xe.memo=function(e,t){return{$$typeof:nU,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Pt.T,n={};Pt.T=n;try{var r=e(),a=Pt.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(lU,l1)}catch(i){l1(i)}finally{Pt.T=t}};Xe.unstable_useCacheRefresh=function(){return Pt.H.useCacheRefresh()};Xe.use=function(e){return Pt.H.use(e)};Xe.useActionState=function(e,t,n){return Pt.H.useActionState(e,t,n)};Xe.useCallback=function(e,t){return Pt.H.useCallback(e,t)};Xe.useContext=function(e){return Pt.H.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e,t){return Pt.H.useDeferredValue(e,t)};Xe.useEffect=function(e,t,n){var r=Pt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};Xe.useId=function(){return Pt.H.useId()};Xe.useImperativeHandle=function(e,t,n){return Pt.H.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return Pt.H.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Pt.H.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Pt.H.useMemo(e,t)};Xe.useOptimistic=function(e,t){return Pt.H.useOptimistic(e,t)};Xe.useReducer=function(e,t,n){return Pt.H.useReducer(e,t,n)};Xe.useRef=function(e){return Pt.H.useRef(e)};Xe.useState=function(e){return Pt.H.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return Pt.H.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return Pt.H.useTransition()};Xe.version="19.1.0"});var et=xn((IZ,g1)=>{"use strict";g1.exports=h1()});var k1=xn(Nt=>{"use strict";function Ey(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<Hp(a,t))e[r]=t,e[n]=a,n=r;else break e}}function Oa(e){return e.length===0?null:e[0]}function Gp(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,s=e[o],l=o+1,u=e[l];if(0>Hp(s,n))l<a&&0>Hp(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[o]=n,r=o);else if(l<a&&0>Hp(u,n))e[r]=u,e[l]=n,r=l;else break e}}return t}function Hp(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}Nt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(y1=performance,Nt.unstable_now=function(){return y1.now()}):(Sy=Date,v1=Sy.now(),Nt.unstable_now=function(){return Sy.now()-v1});var y1,Sy,v1,si=[],Yi=[],uU=1,Xr=null,Yn=3,ky=!1,vc=!1,bc=!1,Ay=!1,w1=typeof setTimeout=="function"?setTimeout:null,S1=typeof clearTimeout=="function"?clearTimeout:null,b1=typeof setImmediate!="undefined"?setImmediate:null;function $p(e){for(var t=Oa(Yi);t!==null;){if(t.callback===null)Gp(Yi);else if(t.startTime<=e)Gp(Yi),t.sortIndex=t.expirationTime,Ey(si,t);else break;t=Oa(Yi)}}function Cy(e){if(bc=!1,$p(e),!vc)if(Oa(si)!==null)vc=!0,Sl||(Sl=!0,wl());else{var t=Oa(Yi);t!==null&&My(Cy,t.startTime-e)}}var Sl=!1,xc=-1,T1=5,_1=-1;function E1(){return Ay?!0:!(Nt.unstable_now()-_1<T1)}function Ty(){if(Ay=!1,Sl){var e=Nt.unstable_now();_1=e;var t=!0;try{e:{vc=!1,bc&&(bc=!1,S1(xc),xc=-1),ky=!0;var n=Yn;try{t:{for($p(e),Xr=Oa(si);Xr!==null&&!(Xr.expirationTime>e&&E1());){var r=Xr.callback;if(typeof r=="function"){Xr.callback=null,Yn=Xr.priorityLevel;var a=r(Xr.expirationTime<=e);if(e=Nt.unstable_now(),typeof a=="function"){Xr.callback=a,$p(e),t=!0;break t}Xr===Oa(si)&&Gp(si),$p(e)}else Gp(si);Xr=Oa(si)}if(Xr!==null)t=!0;else{var i=Oa(Yi);i!==null&&My(Cy,i.startTime-e),t=!1}}break e}finally{Xr=null,Yn=n,ky=!1}t=void 0}}finally{t?wl():Sl=!1}}}var wl;typeof b1=="function"?wl=function(){b1(Ty)}:typeof MessageChannel!="undefined"?(_y=new MessageChannel,x1=_y.port2,_y.port1.onmessage=Ty,wl=function(){x1.postMessage(null)}):wl=function(){w1(Ty,0)};var _y,x1;function My(e,t){xc=w1(function(){e(Nt.unstable_now())},t)}Nt.unstable_IdlePriority=5;Nt.unstable_ImmediatePriority=1;Nt.unstable_LowPriority=4;Nt.unstable_NormalPriority=3;Nt.unstable_Profiling=null;Nt.unstable_UserBlockingPriority=2;Nt.unstable_cancelCallback=function(e){e.callback=null};Nt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T1=0<e?Math.floor(1e3/e):5};Nt.unstable_getCurrentPriorityLevel=function(){return Yn};Nt.unstable_next=function(e){switch(Yn){case 1:case 2:case 3:var t=3;break;default:t=Yn}var n=Yn;Yn=t;try{return e()}finally{Yn=n}};Nt.unstable_requestPaint=function(){Ay=!0};Nt.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Yn;Yn=e;try{return t()}finally{Yn=n}};Nt.unstable_scheduleCallback=function(e,t,n){var r=Nt.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=n+a,e={id:uU++,callback:t,priorityLevel:e,startTime:n,expirationTime:a,sortIndex:-1},n>r?(e.sortIndex=n,Ey(Yi,e),Oa(si)===null&&e===Oa(Yi)&&(bc?(S1(xc),xc=-1):bc=!0,My(Cy,n-r))):(e.sortIndex=a,Ey(si,e),vc||ky||(vc=!0,Sl||(Sl=!0,wl()))),e};Nt.unstable_shouldYield=E1;Nt.unstable_wrapCallback=function(e){var t=Yn;return function(){var n=Yn;Yn=t;try{return e.apply(this,arguments)}finally{Yn=n}}}});var C1=xn((LZ,A1)=>{"use strict";A1.exports=k1()});var R1=xn(or=>{"use strict";var cU=et();function M1(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var ir={d:{f:Zi,r:function(){throw Error(M1(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},fU=Symbol.for("react.portal");function pU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fU,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var wc=cU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Yp(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ir;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(M1(299));return pU(e,t,null,n)};or.flushSync=function(e){var t=wc.T,n=ir.p;try{if(wc.T=null,ir.p=2,e)return e()}finally{wc.T=t,ir.p=n,ir.d.f()}};or.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ir.d.C(e,t))};or.prefetchDNS=function(e){typeof e=="string"&&ir.d.D(e)};or.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Yp(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ir.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&ir.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};or.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Yp(t.as,t.crossOrigin);ir.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ir.d.M(e)};or.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Yp(n,t.crossOrigin);ir.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};or.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Yp(t.as,t.crossOrigin);ir.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ir.d.m(e)};or.requestFormReset=function(e){ir.d.r(e)};or.unstable_batchedUpdates=function(e,t){return e(t)};or.useFormState=function(e,t,n){return wc.H.useFormState(e,t,n)};or.useFormStatus=function(){return wc.H.useHostTransitionStatus()};or.version="19.1.0"});var P1=xn((UZ,D1)=>{"use strict";function O1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O1)}catch(e){console.error(e)}}O1(),D1.exports=R1()});var IC=xn(hm=>{"use strict";var gn=C1(),tk=et(),dU=P1();function V(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N1(e){if(uf(e)!==e)throw Error(V(188))}function mU(e){var t=e.alternate;if(!t){if(t=uf(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return N1(a),e;if(i===r)return N1(a),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function ak(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ak(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,hU=Symbol.for("react.element"),Zp=Symbol.for("react.transitional.element"),Rc=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),gU=Symbol.for("react.provider"),ok=Symbol.for("react.consumer"),pi=Symbol.for("react.context"),nb=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),uv=Symbol.for("react.suspense_list"),rb=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy");Symbol.for("react.scope");var cv=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var yU=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I1=Symbol.iterator;function Sc(e){return e===null||typeof e!="object"?null:(e=I1&&e[I1]||e["@@iterator"],typeof e=="function"?e:null)}var vU=Symbol.for("react.client.reference");function fv(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vU?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ml:return"Fragment";case sv:return"Profiler";case ik:return"StrictMode";case lv:return"Suspense";case uv:return"SuspenseList";case cv:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Rc:return"Portal";case pi:return(e.displayName||"Context")+".Provider";case ok:return(e._context.displayName||"Context")+".Consumer";case nb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rb:return t=e.displayName||null,t!==null?t:fv(e.type)||"Memo";case Xi:t=e._payload,e=e._init;try{return fv(e(t))}catch(n){}}return null}var Oc=Array.isArray,Pe=tk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=dU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,os={pending:!1,data:null,method:null,action:null},pv=[],Rl=-1;function Va(e){return{current:e}}function kn(e){0>Rl||(e.current=pv[Rl],pv[Rl]=null,Rl--)}function jt(e,t){Rl++,pv[Rl]=e.current,e.current=t}var Ia=Va(null),Zc=Va(null),so=Va(null),_d=Va(null);function Ed(e,t){switch(jt(so,t),jt(Zc,e),jt(Ia,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?BE(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=BE(t),e=TC(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}kn(Ia),jt(Ia,e)}function Kl(){kn(Ia),kn(Zc),kn(so)}function dv(e){e.memoizedState!==null&&jt(_d,e);var t=Ia.current,n=TC(t,e.type);t!==n&&(jt(Zc,e),jt(Ia,n))}function kd(e){Zc.current===e&&(kn(Ia),kn(Zc)),_d.current===e&&(kn(_d),af._currentValue=os)}var mv=Object.prototype.hasOwnProperty,ab=gn.unstable_scheduleCallback,Ry=gn.unstable_cancelCallback,bU=gn.unstable_shouldYield,xU=gn.unstable_requestPaint,ja=gn.unstable_now,wU=gn.unstable_getCurrentPriorityLevel,sk=gn.unstable_ImmediatePriority,lk=gn.unstable_UserBlockingPriority,Ad=gn.unstable_NormalPriority,SU=gn.unstable_LowPriority,uk=gn.unstable_IdlePriority,TU=gn.log,_U=gn.unstable_setDisableYieldValue,cf=null,Lr=null;function ro(e){if(typeof TU=="function"&&_U(e),Lr&&typeof Lr.setStrictMode=="function")try{Lr.setStrictMode(cf,e)}catch(t){}}var Vr=Math.clz32?Math.clz32:AU,EU=Math.log,kU=Math.LN2;function AU(e){return e>>>=0,e===0?32:31-(EU(e)/kU|0)|0}var Kp=256,Jp=4194304;function rs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function em(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s!==0?(r=s&~i,r!==0?a=rs(r):(o&=s,o!==0?a=rs(o):n||(n=s&~e,n!==0&&(a=rs(n))))):(s=r&~i,s!==0?a=rs(s):o!==0?a=rs(o):n||(n=r&~e,n!==0&&(a=rs(n)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:a}function ff(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function CU(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ck(){var e=Kp;return Kp<<=1,!(Kp&4194048)&&(Kp=256),e}function fk(){var e=Jp;return Jp<<=1,!(Jp&62914560)&&(Jp=4194304),e}function Oy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function MU(e,t,n,r,a,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Vr(n),f=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(p!==null)for(u[c]=null,c=0;c<p.length;c++){var m=p[c];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&pk(e,r,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function pk(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Vr(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function dk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vr(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function ib(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ob(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mk(){var e=dt.p;return e!==0?e:(e=window.event,e===void 0?32:PC(e.type))}function RU(e,t){var n=dt.p;try{return dt.p=e,t()}finally{dt.p=n}}var bo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+bo,yr="__reactProps$"+bo,ou="__reactContainer$"+bo,hv="__reactEvents$"+bo,OU="__reactListeners$"+bo,DU="__reactHandles$"+bo,j1="__reactResources$"+bo,df="__reactMarker$"+bo;function sb(e){delete e[Zn],delete e[yr],delete e[hv],delete e[OU],delete e[DU]}function Ol(e){var t=e[Zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ou]||n[Zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=HE(e);e!==null;){if(n=e[Zn])return n;e=HE(e)}return t}e=n,n=e.parentNode}return null}function su(e){if(e=e[Zn]||e[ou]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Dc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(V(33))}function Bl(e){var t=e[j1];return t||(t=e[j1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function _n(e){e[df]=!0}var hk=new Set,gk={};function ys(e,t){Jl(e,t),Jl(e+"Capture",t)}function Jl(e,t){for(gk[e]=t,e=0;e<t.length;e++)hk.add(t[e])}var PU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L1={},V1={};function NU(e){return mv.call(V1,e)?!0:mv.call(L1,e)?!1:PU.test(e)?V1[e]=!0:(L1[e]=!0,!1)}function fd(e,t,n){if(NU(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xp(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function li(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Dy,U1;function kl(e){if(Dy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dy=t&&t[1]||"",U1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dy+e+U1}var Py=!1;function Ny(e,t){if(!e||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var p=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){p=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){p=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&p&&typeof m.stack=="string")return[m.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=a);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?kl(n):""}function IU(e){switch(e.tag){case 26:case 27:case 5:return kl(e.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 15:return Ny(e.type,!1);case 11:return Ny(e.type.render,!1);case 1:return Ny(e.type,!0);case 31:return kl("Activity");default:return""}}function z1(e){try{var t="";do t+=IU(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Wr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jU(e){var t=yk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cd(e){e._valueTracker||(e._valueTracker=jU(e))}function vk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Md(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var LU=/[\n"\\]/g;function na(e){return e.replace(LU,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gv(e,t,n,r,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wr(t)):e.value!==""+Wr(t)&&(e.value=""+Wr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?yv(e,o,Wr(t)):n!=null?yv(e,o,Wr(n)):r!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Wr(s):e.removeAttribute("name")}function bk(e,t,n,r,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;n=n!=null?""+Wr(n):"",t=t!=null?""+Wr(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r=r!=null?r:a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function yv(e,t,n){t==="number"&&Md(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ql(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wr(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xk(e,t,n){if(t!=null&&(t=""+Wr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Wr(n):""}function wk(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(V(92));if(Oc(r)){if(1<r.length)throw Error(V(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Wr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var VU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function B1(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||VU.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sk(e,t,n){if(t!=null&&typeof t!="object")throw Error(V(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&B1(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&B1(e,i,t[i])}function lb(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(e){return zU.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vv=null;function ub(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Fl=null;function q1(e){var t=su(e);if(t&&(e=t.stateNode)){var n=e[yr]||null;e:switch(e=t.stateNode,t.type){case"input":if(gv(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+na(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[yr]||null;if(!a)throw Error(V(90));gv(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&vk(r)}break e;case"textarea":xk(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ql(e,!!n.multiple,t,!1)}}}var Iy=!1;function Tk(e,t,n){if(Iy)return e(t,n);Iy=!0;try{var r=e(t);return r}finally{if(Iy=!1,(Dl!==null||Fl!==null)&&(cm(),Dl&&(t=Dl,e=Fl,Fl=Dl=null,q1(t),e)))for(t=0;t<e.length;t++)q1(e[t])}}function Kc(e,t){var n=e.stateNode;if(n===null)return null;var r=n[yr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var bi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bv=!1;if(bi)try{Tl={},Object.defineProperty(Tl,"passive",{get:function(){bv=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch(e){bv=!1}var Tl,ao=null,cb=null,dd=null;function _k(){if(dd)return dd;var e,t=cb,n=t.length,r,a="value"in ao?ao.value:ao.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return dd=a.slice(e,1<r?1-r:void 0)}function md(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qp(){return!0}function F1(){return!1}function vr(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qp:F1,this.isPropagationStopped=F1,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=vr(vs),mf=Ct({},vs,{view:0,detail:0}),BU=vr(mf),jy,Ly,Tc,nm=Ct({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tc&&(Tc&&e.type==="mousemove"?(jy=e.screenX-Tc.screenX,Ly=e.screenY-Tc.screenY):Ly=jy=0,Tc=e),jy)},movementY:function(e){return"movementY"in e?e.movementY:Ly}}),H1=vr(nm),qU=Ct({},nm,{dataTransfer:0}),FU=vr(qU),HU=Ct({},mf,{relatedTarget:0}),Vy=vr(HU),$U=Ct({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),GU=vr($U),YU=Ct({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZU=vr(YU),KU=Ct({},vs,{data:0}),$1=vr(KU),JU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QU[e])?!!t[e]:!1}function fb(){return WU}var ez=Ct({},mf,{key:function(e){if(e.key){var t=JU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fb,charCode:function(e){return e.type==="keypress"?md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tz=vr(ez),nz=Ct({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G1=vr(nz),rz=Ct({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fb}),az=vr(rz),iz=Ct({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),oz=vr(iz),sz=Ct({},nm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lz=vr(sz),uz=Ct({},vs,{newState:0,oldState:0}),cz=vr(uz),fz=[9,13,27,32],pb=bi&&"CompositionEvent"in window,Nc=null;bi&&"documentMode"in document&&(Nc=document.documentMode);var pz=bi&&"TextEvent"in window&&!Nc,Ek=bi&&(!pb||Nc&&8<Nc&&11>=Nc),Y1=String.fromCharCode(32),Z1=!1;function kk(e,t){switch(e){case"keyup":return fz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ak(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pl=!1;function dz(e,t){switch(e){case"compositionend":return Ak(t);case"keypress":return t.which!==32?null:(Z1=!0,Y1);case"textInput":return e=t.data,e===Y1&&Z1?null:e;default:return null}}function mz(e,t){if(Pl)return e==="compositionend"||!pb&&kk(e,t)?(e=_k(),dd=cb=ao=null,Pl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ek&&t.locale!=="ko"?null:t.data;default:return null}}var hz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hz[e.type]:t==="textarea"}function Ck(e,t,n,r){Dl?Fl?Fl.push(r):Fl=[r]:Dl=r,t=Yd(t,"onChange"),0<t.length&&(n=new tm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ic=null,Jc=null;function gz(e){xC(e,0)}function rm(e){var t=Dc(e);if(vk(t))return e}function J1(e,t){if(e==="change")return t}var Mk=!1;bi&&(bi?(ed="oninput"in document,ed||(Uy=document.createElement("div"),Uy.setAttribute("oninput","return;"),ed=typeof Uy.oninput=="function"),Wp=ed):Wp=!1,Mk=Wp&&(!document.documentMode||9<document.documentMode));var Wp,ed,Uy;function X1(){Ic&&(Ic.detachEvent("onpropertychange",Rk),Jc=Ic=null)}function Rk(e){if(e.propertyName==="value"&&rm(Jc)){var t=[];Ck(t,Jc,e,ub(e)),Tk(gz,t)}}function yz(e,t,n){e==="focusin"?(X1(),Ic=t,Jc=n,Ic.attachEvent("onpropertychange",Rk)):e==="focusout"&&X1()}function vz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rm(Jc)}function bz(e,t){if(e==="click")return rm(t)}function xz(e,t){if(e==="input"||e==="change")return rm(t)}function wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Br=typeof Object.is=="function"?Object.is:wz;function Xc(e,t){if(Br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!mv.call(t,a)||!Br(e[a],t[a]))return!1}return!0}function Q1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W1(e,t){var n=Q1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q1(n)}}function Ok(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ok(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dk(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Md(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Md(e.document)}return t}function db(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sz=bi&&"documentMode"in document&&11>=document.documentMode,Nl=null,xv=null,jc=null,wv=!1;function eE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wv||Nl==null||Nl!==Md(r)||(r=Nl,"selectionStart"in r&&db(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jc&&Xc(jc,r)||(jc=r,r=Yd(xv,"onSelect"),0<r.length&&(t=new tm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nl)))}function ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Il={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},zy={},Pk={};bi&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function bs(e){if(zy[e])return zy[e];if(!Il[e])return e;var t=Il[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pk)return zy[e]=t[n];return e}var Nk=bs("animationend"),Ik=bs("animationiteration"),jk=bs("animationstart"),Tz=bs("transitionrun"),_z=bs("transitionstart"),Ez=bs("transitioncancel"),Lk=bs("transitionend"),Vk=new Map,Sv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sv.push("scrollEnd");function ba(e,t){Vk.set(e,t),ys(t,[e])}var tE=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var n=tE.get(e);return n!==void 0?n:(t={value:e,source:t,stack:z1(t)},tE.set(e,t),t)}return{value:e,source:t,stack:z1(t)}}var Qr=[],jl=0,mb=0;function am(){for(var e=jl,t=mb=jl=0;t<e;){var n=Qr[t];Qr[t++]=null;var r=Qr[t];Qr[t++]=null;var a=Qr[t];Qr[t++]=null;var i=Qr[t];if(Qr[t++]=null,r!==null&&a!==null){var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}i!==0&&Uk(n,a,i)}}function im(e,t,n,r){Qr[jl++]=e,Qr[jl++]=t,Qr[jl++]=n,Qr[jl++]=r,mb|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function hb(e,t,n,r){return im(e,t,n,r),Rd(e)}function lu(e,t){return im(e,null,null,t),Rd(e)}function Uk(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=e.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-Vr(n),e=i.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),i):null}function Rd(e){if(50<Gc)throw Gc=0,Fv=null,Error(V(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ll={};function kz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new kz(e,t,n,r)}function gb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,t){var n=e.alternate;return n===null?(n=jr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zk(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hd(e,t,n,r,a,i){var o=0;if(r=e,typeof e=="function")gb(e)&&(o=1);else if(typeof e=="string")o=k3(e,n,Ia.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case cv:return e=jr(31,n,t,a),e.elementType=cv,e.lanes=i,e;case Ml:return ss(n.children,a,i,t);case ik:o=8,a|=24;break;case sv:return e=jr(12,n,t,a|2),e.elementType=sv,e.lanes=i,e;case lv:return e=jr(13,n,t,a),e.elementType=lv,e.lanes=i,e;case uv:return e=jr(19,n,t,a),e.elementType=uv,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gU:case pi:o=10;break e;case ok:o=9;break e;case nb:o=11;break e;case rb:o=14;break e;case Xi:o=16,r=null;break e}o=29,n=Error(V(130,e===null?"null":typeof e,"")),r=null}return t=jr(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ss(e,t,n,r){return e=jr(7,e,r,t),e.lanes=n,e}function By(e,t,n){return e=jr(6,e,null,t),e.lanes=n,e}function qy(e,t,n){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vl=[],Ul=0,Od=null,Dd=0,ea=[],ta=0,ls=null,di=1,mi="";function as(e,t){Vl[Ul++]=Dd,Vl[Ul++]=Od,Od=e,Dd=t}function Bk(e,t,n){ea[ta++]=di,ea[ta++]=mi,ea[ta++]=ls,ls=e;var r=di;e=mi;var a=32-Vr(r)-1;r&=~(1<<a),n+=1;var i=32-Vr(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,di=1<<32-Vr(t)+a|n<<a|r,mi=i+e}else di=1<<i|n<<a|r,mi=e}function yb(e){e.return!==null&&(as(e,1),Bk(e,1,0))}function vb(e){for(;e===Od;)Od=Vl[--Ul],Vl[Ul]=null,Dd=Vl[--Ul],Vl[Ul]=null;for(;e===ls;)ls=ea[--ta],ea[ta]=null,mi=ea[--ta],ea[ta]=null,di=ea[--ta],ea[ta]=null}var sr=null,qt=null,pt=!1,us=null,Pa=!1,Tv=Error(V(519));function ds(e){var t=Error(V(418,""));throw Qc(ra(t,e)),Tv}function nE(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Zn]=e,t[yr]=r,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<tf.length;n++)tt(tf[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),bk(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Cd(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),wk(t,r.value,r.defaultValue,r.children),Cd(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||SC(t.textContent,n)?(r.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),r.onScroll!=null&&tt("scroll",t),r.onScrollEnd!=null&&tt("scrollend",t),r.onClick!=null&&(t.onclick=dm),t=!0):t=!1,t||ds(e)}function rE(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:Pa=!1;return;case 27:case 3:Pa=!0;return;default:sr=sr.return}}function _c(e){if(e!==sr)return!1;if(!pt)return rE(e),pt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kv(e.type,e.memoizedProps)),n=!n),n&&qt&&ds(e),rE(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){qt=va(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}qt=null}}else t===27?(t=qt,xo(e.type)?(e=Qv,Qv=null,qt=e):qt=t):qt=sr?va(e.stateNode.nextSibling):null;return!0}function hf(){qt=sr=null,pt=!1}function aE(){var e=us;return e!==null&&(gr===null?gr=e:gr.push.apply(gr,e),us=null),e}function Qc(e){us===null?us=[e]:us.push(e)}var _v=Va(null),xs=null,hi=null;function Wi(e,t,n){jt(_v,t._currentValue),t._currentValue=n}function vi(e){e._currentValue=_v.current,kn(_v)}function Ev(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kv(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var l=0;l<t.length;l++)if(s.context===t[l]){i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Ev(i.return,n,e),r||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(V(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ev(o,n,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function gf(e,t,n,r){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(V(387));if(o=o.memoizedProps,o!==null){var s=a.type;Br(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===_d.current){if(o=a.alternate,o===null)throw Error(V(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(af):e=[af])}a=a.return}e!==null&&kv(t,e,n,r),t.flags|=262144}function Pd(e){for(e=e.firstContext;e!==null;){if(!Br(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){xs=e,hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kn(e){return qk(xs,e)}function td(e,t){return xs===null&&ms(e),qk(e,t)}function qk(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hi===null){if(e===null)throw Error(V(308));hi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hi=hi.next=t;return n}var Az=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Cz=gn.unstable_scheduleCallback,Mz=gn.unstable_NormalPriority,mn={$$typeof:pi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bb(){return{controller:new Az,data:new Map,refCount:0}}function yf(e){e.refCount--,e.refCount===0&&Cz(Mz,function(){e.controller.abort()})}var Lc=null,Av=0,Ql=0,Hl=null;function Rz(e,t){if(Lc===null){var n=Lc=[];Av=0,Ql=qb(),Hl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Av++,t.then(iE,iE),t}function iE(){if(--Av===0&&Lc!==null){Hl!==null&&(Hl.status="fulfilled");var e=Lc;Lc=null,Ql=0,Hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Oz(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var oE=Pe.S;Pe.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rz(e,t),oE!==null&&oE(e,t)};var cs=Va(null);function xb(){var e=cs.current;return e!==null?e:_t.pooledCache}function gd(e,t){t===null?jt(cs,cs.current):jt(cs,t.pool)}function Fk(){var e=xb();return e===null?null:{parent:mn._currentValue,pool:e}}var vf=Error(V(460)),Hk=Error(V(474)),om=Error(V(542)),Cv={then:function(){}};function sE(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nd(){}function $k(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nd,nd),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uE(e),e;default:if(typeof t.status=="string")t.then(nd,nd);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(V(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uE(e),e}throw Vc=t,vf}}var Vc=null;function lE(){if(Vc===null)throw Error(V(459));var e=Vc;return Vc=null,e}function uE(e){if(e===vf||e===om)throw Error(V(483))}var Qi=!1;function wb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function uo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Rd(e),Uk(e,null,n),t}return im(e,r,t,n),Rd(e)}function Uc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dk(e,n)}}function Fy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rv=!1;function zc(){if(Rv){var e=Hl;if(e!==null)throw e}}function Bc(e,t,n,r){Rv=!1;var a=e.updateQueue;Qi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,c=u=l=null,s=i;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(lt&p)===p:(r&p)===p){p!==0&&p===Ql&&(Rv=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var w=e,b=s;p=t;var x=n;switch(b.tag){case 1:if(w=b.payload,typeof w=="function"){f=w.call(x,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,p=typeof w=="function"?w.call(x,f,p):w,p==null)break e;f=Ct({},f,p);break e;case 2:Qi=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;m=s,s=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,i===null&&(a.shared.lanes=0),vo|=o,e.lanes=o,e.memoizedState=f}}function Gk(e,t){if(typeof e!="function")throw Error(V(191,e));e.call(t)}function Yk(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gk(n[e],t)}var Wl=Va(null),Nd=Va(0);function cE(e,t){e=Si,jt(Nd,e),jt(Wl,t),Si=e|t.baseLanes}function Ov(){jt(Nd,Si),jt(Wl,Wl.current)}function Sb(){Si=Nd.current,kn(Wl),kn(Nd)}var go=0,Qe=null,xt=null,an=null,Id=!1,$l=!1,hs=!1,jd=0,Wc=0,Gl=null,Dz=0;function Xt(){throw Error(V(321))}function Tb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function _b(e,t,n,r,a,i){return go=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pe.H=e===null||e.memoizedState===null?_A:EA,hs=!1,i=n(r,a),hs=!1,$l&&(i=Kk(t,n,r,a)),Zk(e),i}function Zk(e){Pe.H=Ld;var t=xt!==null&&xt.next!==null;if(go=0,an=xt=Qe=null,Id=!1,Wc=0,Gl=null,t)throw Error(V(300));e===null||En||(e=e.dependencies,e!==null&&Pd(e)&&(En=!0))}function Kk(e,t,n,r){Qe=e;var a=0;do{if($l&&(Gl=null),Wc=0,$l=!1,25<=a)throw Error(V(301));if(a+=1,an=xt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Pe.H=Uz,i=t(n,r)}while($l);return i}function Pz(){var e=Pe.H,t=e.useState()[0];return t=typeof t.then=="function"?bf(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(Qe.flags|=1024),t}function Eb(){var e=jd!==0;return jd=0,e}function kb(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ab(e){if(Id){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Id=!1}go=0,an=xt=Qe=null,$l=!1,Wc=jd=0,Gl=null}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Qe.memoizedState=an=e:an=an.next=e,an}function on(){if(xt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=an===null?Qe.memoizedState:an.next;if(t!==null)an=t,xt=e;else{if(e===null)throw Qe.alternate===null?Error(V(467)):Error(V(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},an===null?Qe.memoizedState=an=e:an=an.next=e}return an}function Cb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bf(e){var t=Wc;return Wc+=1,Gl===null&&(Gl=[]),e=$k(Gl,e,t),t=Qe,(an===null?t.memoizedState:an.next)===null&&(t=t.alternate,Pe.H=t===null||t.memoizedState===null?_A:EA),e}function sm(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bf(e);if(e.$$typeof===pi)return Kn(e)}throw Error(V(438,String(e)))}function Mb(e){var t=null,n=Qe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Qe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cb(),Qe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=yU;return t.index++,n}function xi(e,t){return typeof t=="function"?t(e):t}function yd(e){var t=on();return Rb(t,xt,e)}function Rb(e,t,n){var r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(lt&f)===f:(go&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ql&&(c=!0);else if((go&p)===p){u=u.next,p===Ql&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=i):l=l.next=f,Qe.lanes|=p,vo|=p;f=u.action,hs&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=p,o=i):l=l.next=p,Qe.lanes|=f,vo|=f;u=u.next}while(u!==null&&u!==t);if(l===null?o=i:l.next=s,!Br(i,e.memoizedState)&&(En=!0,c&&(n=Hl,n!==null)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=l,r.lastRenderedState=i}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Hy(e){var t=on(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Br(i,t.memoizedState)||(En=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jk(e,t,n){var r=Qe,a=on(),i=pt;if(i){if(n===void 0)throw Error(V(407));n=n()}else n=t();var o=!Br((xt||a).memoizedState,n);o&&(a.memoizedState=n,En=!0),a=a.queue;var s=Wk.bind(null,r,a,e);if(xf(2048,8,s,[e]),a.getSnapshot!==t||o||an!==null&&an.memoizedState.tag&1){if(r.flags|=2048,eu(9,lm(),Qk.bind(null,r,a,n,t),null),_t===null)throw Error(V(349));i||go&124||Xk(r,t,n)}return n}function Xk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t=Cb(),Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qk(e,t,n,r){t.value=n,t.getSnapshot=r,eA(t)&&tA(e)}function Wk(e,t,n){return n(function(){eA(t)&&tA(e)})}function eA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Br(e,n)}catch(r){return!0}}function tA(e){var t=lu(e,2);t!==null&&zr(t,e,2)}function Dv(e){var t=mr();if(typeof e=="function"){var n=e;if(e=n(),hs){ro(!0);try{n()}finally{ro(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t}function nA(e,t,n,r){return e.baseState=n,Rb(e,xt,typeof r=="function"?r:xi)}function Nz(e,t,n,r,a){if(um(e))throw Error(V(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Pe.T!==null?n(!0):i.isTransition=!1,r(i),n=t.pending,n===null?(i.next=t.pending=i,rA(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rA(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=Pe.T,o={};Pe.T=o;try{var s=n(a,r),l=Pe.S;l!==null&&l(o,s),fE(e,t,s)}catch(u){Pv(e,t,u)}finally{Pe.T=i}}else try{i=n(a,r),fE(e,t,i)}catch(u){Pv(e,t,u)}}function fE(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){pE(e,t,r)},function(r){return Pv(e,t,r)}):pE(e,t,n)}function pE(e,t,n){t.status="fulfilled",t.value=n,aA(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rA(e,n)))}function Pv(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,aA(t),t=t.next;while(t!==r)}e.action=null}function aA(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function iA(e,t){return t}function dE(e,t){if(pt){var n=_t.formState;if(n!==null){e:{var r=Qe;if(pt){if(qt){t:{for(var a=qt,i=Pa;a.nodeType!==8;){if(!i){a=null;break t}if(a=va(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){qt=va(a.nextSibling),r=a.data==="F!";break e}}ds(r)}r=!1}r&&(t=n[0])}}return n=mr(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iA,lastRenderedState:t},n.queue=r,n=wA.bind(null,Qe,r),r.dispatch=n,r=Dv(!1),i=Nb.bind(null,Qe,!1,r.queue),r=mr(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=Nz.bind(null,Qe,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function mE(e){var t=on();return oA(t,xt,e)}function oA(e,t,n){if(t=Rb(e,t,iA)[0],e=yd(xi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=bf(t)}catch(o){throw o===vf?om:o}else r=t;t=on();var a=t.queue,i=a.dispatch;return n!==t.memoizedState&&(Qe.flags|=2048,eu(9,lm(),Iz.bind(null,a,n),null)),[r,i,e]}function Iz(e,t){e.action=t}function hE(e){var t=on(),n=xt;if(n!==null)return oA(t,n,e);on(),t=t.memoizedState,n=on();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function eu(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Qe.updateQueue,t===null&&(t=Cb(),Qe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function lm(){return{destroy:void 0,resource:void 0}}function sA(){return on().memoizedState}function vd(e,t,n,r){var a=mr();r=r===void 0?null:r,Qe.flags|=e,a.memoizedState=eu(1|t,lm(),n,r)}function xf(e,t,n,r){var a=on();r=r===void 0?null:r;var i=a.memoizedState.inst;xt!==null&&r!==null&&Tb(r,xt.memoizedState.deps)?a.memoizedState=eu(t,i,n,r):(Qe.flags|=e,a.memoizedState=eu(1|t,i,n,r))}function gE(e,t){vd(8390656,8,e,t)}function lA(e,t){xf(2048,8,e,t)}function uA(e,t){return xf(4,2,e,t)}function cA(e,t){return xf(4,4,e,t)}function fA(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pA(e,t,n){n=n!=null?n.concat([e]):null,xf(4,4,fA.bind(null,t,e),n)}function Ob(){}function dA(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Tb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mA(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Tb(t,r[1]))return r[0];if(r=e(),hs){ro(!0);try{e()}finally{ro(!1)}}return n.memoizedState=[r,t],r}function Db(e,t,n){return n===void 0||go&1073741824?e.memoizedState=t:(e.memoizedState=n,e=aC(),Qe.lanes|=e,vo|=e,n)}function hA(e,t,n,r){return Br(n,t)?n:Wl.current!==null?(e=Db(e,n,r),Br(e,t)||(En=!0),e):go&42?(e=aC(),Qe.lanes|=e,vo|=e,t):(En=!0,e.memoizedState=n)}function gA(e,t,n,r,a){var i=dt.p;dt.p=i!==0&&8>i?i:8;var o=Pe.T,s={};Pe.T=s,Nb(e,!1,t,n);try{var l=a(),u=Pe.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=Oz(l,r);qc(e,t,c,Ur(e))}else qc(e,t,r,Ur(e))}catch(f){qc(e,t,{then:function(){},status:"rejected",reason:f},Ur())}finally{dt.p=i,Pe.T=o}}function jz(){}function Nv(e,t,n,r){if(e.tag!==5)throw Error(V(476));var a=yA(e).queue;gA(e,a,t,os,n===null?jz:function(){return vA(e),n(r)})}function yA(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:os,baseState:os,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:os},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vA(e){var t=yA(e).next.queue;qc(e,t,{},Ur())}function Pb(){return Kn(af)}function bA(){return on().memoizedState}function xA(){return on().memoizedState}function Lz(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ur();e=lo(n);var r=uo(t,e,n);r!==null&&(zr(r,t,n),Uc(r,t,n)),t={cache:bb()},e.payload=t;return}t=t.return}}function Vz(e,t,n){var r=Ur();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},um(e)?SA(t,n):(n=hb(e,t,n,r),n!==null&&(zr(n,e,r),TA(n,t,r)))}function wA(e,t,n){var r=Ur();qc(e,t,n,r)}function qc(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(um(e))SA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Br(s,o))return im(e,t,a,0),_t===null&&am(),!1}catch(l){}finally{}if(n=hb(e,t,a,r),n!==null)return zr(n,e,r),TA(n,t,r),!0}return!1}function Nb(e,t,n,r){if(r={lane:2,revertLane:qb(),action:r,hasEagerState:!1,eagerState:null,next:null},um(e)){if(t)throw Error(V(479))}else t=hb(e,n,r,2),t!==null&&zr(t,e,2)}function um(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function SA(e,t){$l=Id=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TA(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dk(e,n)}}var Ld={readContext:Kn,use:sm,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},_A={readContext:Kn,use:sm,useCallback:function(e,t){return mr().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:gE,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vd(4194308,4,fA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){vd(4,2,e,t)},useMemo:function(e,t){var n=mr();t=t===void 0?null:t;var r=e();if(hs){ro(!0);try{e()}finally{ro(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=mr();if(n!==void 0){var a=n(t);if(hs){ro(!0);try{n(t)}finally{ro(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Vz.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=mr();return e={current:e},t.memoizedState=e},useState:function(e){e=Dv(e);var t=e.queue,n=wA.bind(null,Qe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ob,useDeferredValue:function(e,t){var n=mr();return Db(n,e,t)},useTransition:function(){var e=Dv(!1);return e=gA.bind(null,Qe,e.queue,!0,!1),mr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Qe,a=mr();if(pt){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),_t===null)throw Error(V(349));lt&124||Xk(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,gE(Wk.bind(null,r,i,e),[e]),r.flags|=2048,eu(9,lm(),Qk.bind(null,r,i,n,t),null),n},useId:function(){var e=mr(),t=_t.identifierPrefix;if(pt){var n=mi,r=di;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,t="\xAB"+t+"R"+n,n=jd++,0<n&&(t+="H"+n.toString(32)),t+="\xBB"}else n=Dz++,t="\xAB"+t+"r"+n.toString(32)+"\xBB";return e.memoizedState=t},useHostTransitionStatus:Pb,useFormState:dE,useActionState:dE,useOptimistic:function(e){var t=mr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nb.bind(null,Qe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mb,useCacheRefresh:function(){return mr().memoizedState=Lz.bind(null,Qe)}},EA={readContext:Kn,use:sm,useCallback:dA,useContext:Kn,useEffect:lA,useImperativeHandle:pA,useInsertionEffect:uA,useLayoutEffect:cA,useMemo:mA,useReducer:yd,useRef:sA,useState:function(){return yd(xi)},useDebugValue:Ob,useDeferredValue:function(e,t){var n=on();return hA(n,xt.memoizedState,e,t)},useTransition:function(){var e=yd(xi)[0],t=on().memoizedState;return[typeof e=="boolean"?e:bf(e),t]},useSyncExternalStore:Jk,useId:bA,useHostTransitionStatus:Pb,useFormState:mE,useActionState:mE,useOptimistic:function(e,t){var n=on();return nA(n,xt,e,t)},useMemoCache:Mb,useCacheRefresh:xA},Uz={readContext:Kn,use:sm,useCallback:dA,useContext:Kn,useEffect:lA,useImperativeHandle:pA,useInsertionEffect:uA,useLayoutEffect:cA,useMemo:mA,useReducer:Hy,useRef:sA,useState:function(){return Hy(xi)},useDebugValue:Ob,useDeferredValue:function(e,t){var n=on();return xt===null?Db(n,e,t):hA(n,xt.memoizedState,e,t)},useTransition:function(){var e=Hy(xi)[0],t=on().memoizedState;return[typeof e=="boolean"?e:bf(e),t]},useSyncExternalStore:Jk,useId:bA,useHostTransitionStatus:Pb,useFormState:hE,useActionState:hE,useOptimistic:function(e,t){var n=on();return xt!==null?nA(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mb,useCacheRefresh:xA},Yl=null,ef=0;function rd(e){var t=ef;return ef+=1,Yl===null&&(Yl=[]),$k(Yl,e,t)}function Ec(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ad(e,t){throw t.$$typeof===hU?Error(V(525)):(e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yE(e){var t=e._init;return t(e._payload)}function kA(e){function t(h,g){if(e){var y=h.deletions;y===null?(h.deletions=[g],h.flags|=16):y.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h){for(var g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(h,g){return h=yi(h,g),h.index=0,h.sibling=null,h}function i(h,g,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<g?(h.flags|=67108866,g):y):(h.flags|=67108866,g)):(h.flags|=1048576,g)}function o(h){return e&&h.alternate===null&&(h.flags|=67108866),h}function s(h,g,y,S){return g===null||g.tag!==6?(g=By(y,h.mode,S),g.return=h,g):(g=a(g,y),g.return=h,g)}function l(h,g,y,S){var _=y.type;return _===Ml?c(h,g,y.props.children,S,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xi&&yE(_)===g.type)?(g=a(g,y.props),Ec(g,y),g.return=h,g):(g=hd(y.type,y.key,y.props,null,h.mode,S),Ec(g,y),g.return=h,g)}function u(h,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=qy(y,h.mode,S),g.return=h,g):(g=a(g,y.children||[]),g.return=h,g)}function c(h,g,y,S,_){return g===null||g.tag!==7?(g=ss(y,h.mode,S,_),g.return=h,g):(g=a(g,y),g.return=h,g)}function f(h,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=By(""+g,h.mode,y),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zp:return y=hd(g.type,g.key,g.props,null,h.mode,y),Ec(y,g),y.return=h,y;case Rc:return g=qy(g,h.mode,y),g.return=h,g;case Xi:var S=g._init;return g=S(g._payload),f(h,g,y)}if(Oc(g)||Sc(g))return g=ss(g,h.mode,y,null),g.return=h,g;if(typeof g.then=="function")return f(h,rd(g),y);if(g.$$typeof===pi)return f(h,td(h,g),y);ad(h,g)}return null}function p(h,g,y,S){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return _!==null?null:s(h,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zp:return y.key===_?l(h,g,y,S):null;case Rc:return y.key===_?u(h,g,y,S):null;case Xi:return _=y._init,y=_(y._payload),p(h,g,y,S)}if(Oc(y)||Sc(y))return _!==null?null:c(h,g,y,S,null);if(typeof y.then=="function")return p(h,g,rd(y),S);if(y.$$typeof===pi)return p(h,g,td(h,y),S);ad(h,y)}return null}function m(h,g,y,S,_){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return h=h.get(y)||null,s(g,h,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zp:return h=h.get(S.key===null?y:S.key)||null,l(g,h,S,_);case Rc:return h=h.get(S.key===null?y:S.key)||null,u(g,h,S,_);case Xi:var T=S._init;return S=T(S._payload),m(h,g,y,S,_)}if(Oc(S)||Sc(S))return h=h.get(y)||null,c(g,h,S,_,null);if(typeof S.then=="function")return m(h,g,y,rd(S),_);if(S.$$typeof===pi)return m(h,g,y,td(g,S),_);ad(g,S)}return null}function w(h,g,y,S){for(var _=null,T=null,R=g,k=g=0,D=null;R!==null&&k<y.length;k++){R.index>k?(D=R,R=null):D=R.sibling;var F=p(h,R,y[k],S);if(F===null){R===null&&(R=D);break}e&&R&&F.alternate===null&&t(h,R),g=i(F,g,k),T===null?_=F:T.sibling=F,T=F,R=D}if(k===y.length)return n(h,R),pt&&as(h,k),_;if(R===null){for(;k<y.length;k++)R=f(h,y[k],S),R!==null&&(g=i(R,g,k),T===null?_=R:T.sibling=R,T=R);return pt&&as(h,k),_}for(R=r(R);k<y.length;k++)D=m(R,h,k,y[k],S),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?k:D.key),g=i(D,g,k),T===null?_=D:T.sibling=D,T=D);return e&&R.forEach(function(Ne){return t(h,Ne)}),pt&&as(h,k),_}function b(h,g,y,S){if(y==null)throw Error(V(151));for(var _=null,T=null,R=g,k=g=0,D=null,F=y.next();R!==null&&!F.done;k++,F=y.next()){R.index>k?(D=R,R=null):D=R.sibling;var Ne=p(h,R,F.value,S);if(Ne===null){R===null&&(R=D);break}e&&R&&Ne.alternate===null&&t(h,R),g=i(Ne,g,k),T===null?_=Ne:T.sibling=Ne,T=Ne,R=D}if(F.done)return n(h,R),pt&&as(h,k),_;if(R===null){for(;!F.done;k++,F=y.next())F=f(h,F.value,S),F!==null&&(g=i(F,g,k),T===null?_=F:T.sibling=F,T=F);return pt&&as(h,k),_}for(R=r(R);!F.done;k++,F=y.next())F=m(R,h,k,F.value,S),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?k:F.key),g=i(F,g,k),T===null?_=F:T.sibling=F,T=F);return e&&R.forEach(function(Te){return t(h,Te)}),pt&&as(h,k),_}function x(h,g,y,S){if(typeof y=="object"&&y!==null&&y.type===Ml&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zp:e:{for(var _=y.key;g!==null;){if(g.key===_){if(_=y.type,_===Ml){if(g.tag===7){n(h,g.sibling),S=a(g,y.props.children),S.return=h,h=S;break e}}else if(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xi&&yE(_)===g.type){n(h,g.sibling),S=a(g,y.props),Ec(S,y),S.return=h,h=S;break e}n(h,g);break}else t(h,g);g=g.sibling}y.type===Ml?(S=ss(y.props.children,h.mode,S,y.key),S.return=h,h=S):(S=hd(y.type,y.key,y.props,null,h.mode,S),Ec(S,y),S.return=h,h=S)}return o(h);case Rc:e:{for(_=y.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(h,g.sibling),S=a(g,y.children||[]),S.return=h,h=S;break e}else{n(h,g);break}else t(h,g);g=g.sibling}S=qy(y,h.mode,S),S.return=h,h=S}return o(h);case Xi:return _=y._init,y=_(y._payload),x(h,g,y,S)}if(Oc(y))return w(h,g,y,S);if(Sc(y)){if(_=Sc(y),typeof _!="function")throw Error(V(150));return y=_.call(y),b(h,g,y,S)}if(typeof y.then=="function")return x(h,g,rd(y),S);if(y.$$typeof===pi)return x(h,g,td(h,y),S);ad(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(h,g.sibling),S=a(g,y),S.return=h,h=S):(n(h,g),S=By(y,h.mode,S),S.return=h,h=S),o(h)):n(h,g)}return function(h,g,y,S){try{ef=0;var _=x(h,g,y,S);return Yl=null,_}catch(R){if(R===vf||R===om)throw R;var T=jr(29,R,null,h.mode);return T.lanes=S,T.return=h,T}finally{}}}var tu=kA(!0),AA=kA(!1),ia=Va(null),La=null;function eo(e){var t=e.alternate;jt(hn,hn.current&1),jt(ia,e),La===null&&(t===null||Wl.current!==null||t.memoizedState!==null)&&(La=e)}function CA(e){if(e.tag===22){if(jt(hn,hn.current),jt(ia,e),La===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(La=e)}}else to(e)}function to(){jt(hn,hn.current),jt(ia,ia.current)}function gi(e){kn(ia),La===e&&(La=null),kn(hn)}var hn=Va(0);function Vd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Xv(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function $y(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iv={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ur(),a=lo(r);a.payload=t,n!=null&&(a.callback=n),t=uo(e,a,r),t!==null&&(zr(t,e,r),Uc(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ur(),a=lo(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=uo(e,a,r),t!==null&&(zr(t,e,r),Uc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ur(),r=lo(n);r.tag=2,t!=null&&(r.callback=t),t=uo(e,r,n),t!==null&&(zr(t,e,n),Uc(t,e,n))}};function vE(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xc(n,r)||!Xc(a,i):!0}function bE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Iv.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Ud=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function MA(e){Ud(e)}function RA(e){console.error(e)}function OA(e){Ud(e)}function zd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function xE(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function jv(e,t,n){return n=lo(n),n.tag=3,n.payload={element:null},n.callback=function(){zd(e,t)},n}function DA(e){return e=lo(e),e.tag=3,e}function PA(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){xE(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xE(t,n,r),typeof a!="function"&&(co===null?co=new Set([this]):co.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function zz(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gf(t,n,a,!0),n=ia.current,n!==null){switch(n.tag){case 13:return La===null?Hv():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Cv?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),nv(e,r,a)),!1;case 22:return n.flags|=65536,r===Cv?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),nv(e,r,a)),!1}throw Error(V(435,n.tag))}return nv(e,r,a),Hv(),!1}if(pt)return t=ia.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Tv&&(e=Error(V(422),{cause:r}),Qc(ra(e,n)))):(r!==Tv&&(t=Error(V(423),{cause:r}),Qc(ra(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=ra(r,n),a=jv(e.stateNode,r,a),Fy(e,a),Ft!==4&&(Ft=2)),!1;var i=Error(V(520),{cause:r});if(i=ra(i,n),$c===null?$c=[i]:$c.push(i),Ft!==4&&(Ft=2),t===null)return!0;r=ra(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=jv(n.stateNode,r,e),Fy(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(co===null||!co.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=DA(a),PA(a,e,n,r),Fy(n,a),!1}n=n.return}while(n!==null);return!1}var NA=Error(V(461)),En=!1;function jn(e,t,n,r){t.child=e===null?AA(t,null,n,r):tu(t,e.child,n,r)}function wE(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return ms(t),r=_b(e,t,n,o,i,a),s=Eb(),e!==null&&!En?(kb(e,t,a),wi(e,t,a)):(pt&&s&&yb(t),t.flags|=1,jn(e,t,r,a),t.child)}function SE(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!gb(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,IA(e,t,i,r,a)):(e=hd(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ib(e,a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(o,r)&&e.ref===t.ref)return wi(e,t,a)}return t.flags|=1,e=yi(i,r),e.ref=t.ref,e.return=t,t.child=e}function IA(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Xc(i,r)&&e.ref===t.ref)if(En=!1,t.pendingProps=r=i,Ib(e,a))e.flags&131072&&(En=!0);else return t.lanes=e.lanes,wi(e,t,a)}return Lv(e,t,n,r,a)}function jA(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return TE(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gd(t,i!==null?i.cachePool:null),i!==null?cE(t,i):Ov(),CA(t);else return t.lanes=t.childLanes=536870912,TE(e,t,i!==null?i.baseLanes|n:n,n)}else i!==null?(gd(t,i.cachePool),cE(t,i),to(t),t.memoizedState=null):(e!==null&&gd(t,null),Ov(),to(t));return jn(e,t,a,n),t.child}function TE(e,t,n,r){var a=xb();return a=a===null?null:{parent:mn._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&gd(t,null),Ov(),CA(t),e!==null&&gf(e,t,r,!0),null}function bd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(V(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Lv(e,t,n,r,a){return ms(t),n=_b(e,t,n,r,void 0,a),r=Eb(),e!==null&&!En?(kb(e,t,a),wi(e,t,a)):(pt&&r&&yb(t),t.flags|=1,jn(e,t,n,a),t.child)}function _E(e,t,n,r,a,i){return ms(t),t.updateQueue=null,n=Kk(t,r,n,a),Zk(e),r=Eb(),e!==null&&!En?(kb(e,t,i),wi(e,t,i)):(pt&&r&&yb(t),t.flags|=1,jn(e,t,n,i),t.child)}function EE(e,t,n,r,a){if(ms(t),t.stateNode===null){var i=Ll,o=n.contextType;typeof o=="object"&&o!==null&&(i=Kn(o)),i=new n(r,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Iv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=r,i.state=t.memoizedState,i.refs={},wb(t),o=n.contextType,i.context=typeof o=="object"&&o!==null?Kn(o):Ll,i.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&($y(t,n,o,r),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Iv.enqueueReplaceState(i,i.state,null),Bc(t,r,i,a),zc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,l=gs(n,s);i.props=l;var u=i.context,c=n.contextType;o=Ll,typeof c=="object"&&c!==null&&(o=Kn(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&bE(t,i,r,o),Qi=!1;var p=t.memoizedState;i.state=p,Bc(t,r,i,a),zc(),u=t.memoizedState,s||p!==u||Qi?(typeof f=="function"&&($y(t,n,f,r),u=t.memoizedState),(l=Qi||vE(t,n,l,r,p,u,o))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=o,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Mv(e,t),o=t.memoizedProps,c=gs(n,o),i.props=c,f=t.pendingProps,p=i.context,u=n.contextType,l=Ll,typeof u=="object"&&u!==null&&(l=Kn(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||p!==l)&&bE(t,i,r,l),Qi=!1,p=t.memoizedState,i.state=p,Bc(t,r,i,a),zc();var m=t.memoizedState;o!==f||p!==m||Qi||e!==null&&e.dependencies!==null&&Pd(e.dependencies)?(typeof s=="function"&&($y(t,n,s,r),m=t.memoizedState),(c=Qi||vE(t,n,c,r,p,m,l)||e!==null&&e.dependencies!==null&&Pd(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,bd(e,t),r=(t.flags&128)!==0,i||r?(i=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&r?(t.child=tu(t,e.child,null,a),t.child=tu(t,null,n,a)):jn(e,t,n,a),t.memoizedState=i.state,e=t.child):e=wi(e,t,a),e}function kE(e,t,n,r){return hf(),t.flags|=256,jn(e,t,n,r),t.child}var Gy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(e){return{baseLanes:e,cachePool:Fk()}}function Zy(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=aa),e}function LA(e,t,n){var r=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(hn.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(pt){if(a?eo(t):to(t),pt){var s=qt,l;if(l=s){e:{for(l=s,s=Pa;l.nodeType!==8;){if(!s){s=null;break e}if(l=va(l.nextSibling),l===null){s=null;break e}}s=l}s!==null?(t.memoizedState={dehydrated:s,treeContext:ls!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},l=jr(18,null,null,0),l.stateNode=s,l.return=t,t.child=l,sr=t,qt=null,l=!0):l=!1}l||ds(t)}if(s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return Xv(s)?t.lanes=32:t.lanes=536870912,null;gi(t)}return s=r.children,r=r.fallback,a?(to(t),a=t.mode,s=Bd({mode:"hidden",children:s},a),r=ss(r,a,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,a=t.child,a.memoizedState=Yy(n),a.childLanes=Zy(e,o,n),t.memoizedState=Gy,r):(eo(t),Vv(t,s))}if(l=e.memoizedState,l!==null&&(s=l.dehydrated,s!==null)){if(i)t.flags&256?(eo(t),t.flags&=-257,t=Ky(e,t,n)):t.memoizedState!==null?(to(t),t.child=e.child,t.flags|=128,t=null):(to(t),a=r.fallback,s=t.mode,r=Bd({mode:"visible",children:r.children},s),a=ss(a,s,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,tu(t,e.child,null,n),r=t.child,r.memoizedState=Yy(n),r.childLanes=Zy(e,o,n),t.memoizedState=Gy,t=a);else if(eo(t),Xv(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(V(419)),r.stack="",r.digest=o,Qc({value:r,source:null,stack:null}),t=Ky(e,t,n)}else if(En||gf(e,t,n,!1),o=(n&e.childLanes)!==0,En||o){if(o=_t,o!==null&&(r=n&-n,r=r&42?1:ib(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,lu(e,r),zr(o,e,r),NA;s.data==="$?"||Hv(),t=Ky(e,t,n)}else s.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,qt=va(s.nextSibling),sr=t,pt=!0,us=null,Pa=!1,e!==null&&(ea[ta++]=di,ea[ta++]=mi,ea[ta++]=ls,di=e.id,mi=e.overflow,ls=t),t=Vv(t,r.children),t.flags|=4096);return t}return a?(to(t),a=r.fallback,s=t.mode,l=e.child,u=l.sibling,r=yi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?a=yi(u,a):(a=ss(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s===null?s=Yy(n):(l=s.cachePool,l!==null?(u=mn._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Fk(),s={baseLanes:s.baseLanes|n,cachePool:l}),a.memoizedState=s,a.childLanes=Zy(e,o,n),t.memoizedState=Gy,r):(eo(t),n=e.child,e=n.sibling,n=yi(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Vv(e,t){return t=Bd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Bd(e,t){return e=jr(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ky(e,t,n){return tu(t,e.child,null,n),e=Vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ev(e.return,t,n)}function Jy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function VA(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(jn(e,t,r.children,n),r=hn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AE(e,n,t);else if(e.tag===19)AE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(jt(hn,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Vd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jy(t,!0,n,null,i);break;case"together":Jy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(n&t.childLanes))if(e!==null){if(gf(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ib(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pd(e)))}function Bz(e,t,n){switch(t.tag){case 3:Ed(t,t.stateNode.containerInfo),Wi(t,mn,e.memoizedState.cache),hf();break;case 27:case 5:dv(t);break;case 4:Ed(t,t.stateNode.containerInfo);break;case 10:Wi(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(eo(t),t.flags|=128,null):n&t.child.childLanes?LA(e,t,n):(eo(t),e=wi(e,t,n),e!==null?e.sibling:null);eo(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gf(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return VA(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jt(hn,hn.current),r)break;return null;case 22:case 23:return t.lanes=0,jA(e,t,n);case 24:Wi(t,mn,e.memoizedState.cache)}return wi(e,t,n)}function UA(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)En=!0;else{if(!Ib(e,n)&&!(t.flags&128))return En=!1,Bz(e,t,n);En=!!(e.flags&131072)}else En=!1,pt&&t.flags&1048576&&Bk(t,Dd,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")gb(r)?(e=gs(r,e),t.tag=1,t=EE(null,t,r,e,n)):(t.tag=0,t=Lv(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===nb){t.tag=11,t=wE(null,t,r,e,n);break e}else if(a===rb){t.tag=14,t=SE(null,t,r,e,n);break e}}throw t=fv(r)||r,Error(V(306,t,""))}}return t;case 0:return Lv(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=gs(r,t.pendingProps),EE(e,t,r,a,n);case 3:e:{if(Ed(t,t.stateNode.containerInfo),e===null)throw Error(V(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,Mv(e,t),Bc(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Wi(t,mn,r),r!==i.cache&&kv(t,[mn],n,!0),zc(),r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=kE(e,t,r,n);break e}else if(r!==a){a=ra(Error(V(424)),t),Qc(a),t=kE(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qt=va(e.firstChild),sr=t,pt=!0,us=null,Pa=!0,n=AA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(hf(),r===a){t=wi(e,t,n);break e}jn(e,t,r,n)}t=t.child}return t;case 26:return bd(e,t),e===null?(n=GE(t.type,null,t.pendingProps,null))?t.memoizedState=n:pt||(n=t.type,e=t.pendingProps,r=Zd(so.current).createElement(n),r[Zn]=t,r[yr]=e,Vn(r,n,e),_n(r),t.stateNode=r):t.memoizedState=GE(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return dv(t),e===null&&pt&&(r=t.stateNode=EC(t.type,t.pendingProps,so.current),sr=t,Pa=!0,a=qt,xo(t.type)?(Qv=a,qt=va(r.firstChild)):qt=a),jn(e,t,t.pendingProps.children,n),bd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pt&&((a=r=qt)&&(r=d3(r,t.type,t.pendingProps,Pa),r!==null?(t.stateNode=r,sr=t,qt=va(r.firstChild),Pa=!1,a=!0):a=!1),a||ds(t)),dv(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,r=i.children,Kv(a,i)?r=null:o!==null&&Kv(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=_b(e,t,Pz,null,null,n),af._currentValue=a),bd(e,t),jn(e,t,r,n),t.child;case 6:return e===null&&pt&&((e=n=qt)&&(n=m3(n,t.pendingProps,Pa),n!==null?(t.stateNode=n,sr=t,qt=null,e=!0):e=!1),e||ds(t)),null;case 13:return LA(e,t,n);case 4:return Ed(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tu(t,null,r,n):jn(e,t,r,n),t.child;case 11:return wE(e,t,t.type,t.pendingProps,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Wi(t,t.type,r.value),jn(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ms(t),a=Kn(a),r=r(a),t.flags|=1,jn(e,t,r,n),t.child;case 14:return SE(e,t,t.type,t.pendingProps,n);case 15:return IA(e,t,t.type,t.pendingProps,n);case 19:return VA(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Bd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=yi(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return jA(e,t,n);case 24:return ms(t),r=Kn(mn),e===null?(a=xb(),a===null&&(a=_t,i=bb(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},wb(t),Wi(t,mn,a)):(e.lanes&n&&(Mv(e,t),Bc(t,null,null,n),zc()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Wi(t,mn,r)):(r=i.cache,Wi(t,mn,r),r!==a.cache&&kv(t,[mn],n,!0))),jn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(V(156,t.tag))}function ui(e){e.flags|=4}function CE(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!CC(t)){if(t=ia.current,t!==null&&((lt&4194048)===lt?La!==null:(lt&62914560)!==lt&&!(lt&536870912)||t!==La))throw Vc=Cv,Hk;e.flags|=8192}}function id(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fk():536870912,e.lanes|=t,nu|=t)}function kc(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qz(e,t,n){var r=t.pendingProps;switch(vb(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vi(mn),Kl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_c(t)?ui(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,aE())),Vt(t),null;case 26:return n=t.memoizedState,e===null?(ui(t),n!==null?(Vt(t),CE(t,n)):(Vt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ui(t),Vt(t),CE(t,n)):(Vt(t),t.flags&=-16777217):(e.memoizedProps!==r&&ui(t),Vt(t),t.flags&=-16777217),null;case 27:kd(t),n=so.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ui(t);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Vt(t),null}e=Ia.current,_c(t)?nE(t,e):(e=EC(a,r,n),t.stateNode=e,ui(t))}return Vt(t),null;case 5:if(kd(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ui(t);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Vt(t),null}if(e=Ia.current,_c(t))nE(t,e);else{switch(a=Zd(so.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Zn]=t,e[yr]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Vn(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ui(t)}}return Vt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ui(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(e=so.current,_c(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=sr,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Zn]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||SC(e.nodeValue,n)),e||ds(t)}else e=Zd(e).createTextNode(r),e[Zn]=t,t.stateNode=e}return Vt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=_c(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Zn]=t}else hf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),a=!1}else a=aE(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(gi(t),t):(gi(t),null)}if(gi(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),id(t,t.updateQueue),Vt(t),null;case 4:return Kl(),e===null&&Fb(t.stateNode.containerInfo),Vt(t),null;case 10:return vi(t.type),Vt(t),null;case 19:if(kn(hn),a=t.memoizedState,a===null)return Vt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)kc(a,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vd(e),i!==null){for(t.flags|=128,kc(a,!1),e=i.updateQueue,t.updateQueue=e,id(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zk(n,e),n=n.sibling;return jt(hn,hn.current&1|2),t.child}e=e.sibling}a.tail!==null&&ja()>Fd&&(t.flags|=128,r=!0,kc(a,!1),t.lanes=4194304)}else{if(!r)if(e=Vd(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,id(t,e),kc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!pt)return Vt(t),null}else 2*ja()-a.renderingStartTime>Fd&&n!==536870912&&(t.flags|=128,r=!0,kc(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ja(),t.sibling=null,e=hn.current,jt(hn,r?e&1|2:e&1),t):(Vt(t),null);case 22:case 23:return gi(t),Sb(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),n=t.updateQueue,n!==null&&id(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&kn(cs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vi(mn),Vt(t),null;case 25:return null;case 30:return null}throw Error(V(156,t.tag))}function Fz(e,t){switch(vb(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(mn),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kd(t),null;case 13:if(gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));hf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kn(hn),null;case 4:return Kl(),null;case 10:return vi(t.type),null;case 22:case 23:return gi(t),Sb(),e!==null&&kn(cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vi(mn),null;case 25:return null;default:return null}}function zA(e,t){switch(vb(t),t.tag){case 3:vi(mn),Kl();break;case 26:case 27:case 5:kd(t);break;case 4:Kl();break;case 13:gi(t);break;case 19:kn(hn);break;case 10:vi(t.type);break;case 22:case 23:gi(t),Sb(),e!==null&&kn(cs);break;case 24:vi(mn)}}function wf(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){St(t,t.return,s)}}function yo(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var l=n,u=s;try{u()}catch(c){St(a,l,c)}}}r=r.next}while(r!==i)}}catch(c){St(t,t.return,c)}}function BA(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yk(t,n)}catch(r){St(e,e.return,r)}}}function qA(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){St(e,t,r)}}function Fc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){St(e,t,a)}}function Na(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){St(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){St(e,t,a)}else n.current=null}function FA(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){St(e,e.return,a)}}function Xy(e,t,n){try{var r=e.stateNode;l3(r,e.type,n,t),r[yr]=t}catch(a){St(e,e.return,a)}}function HA(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xo(e.type)||e.tag===4}function Qy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dm));else if(r!==4&&(r===27&&xo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Uv(e,t,n),e=e.sibling;e!==null;)Uv(e,t,n),e=e.sibling}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&xo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}function $A(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Vn(t,r,n),t[Zn]=e,t[yr]=n}catch(i){St(e,e.return,i)}}var fi=!1,Qt=!1,Wy=!1,ME=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Hz(e,t){if(e=e.containerInfo,Yv=Qd,e=Dk(e),db(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zv={focusedElem:e,selectionRange:n},Qd=!1,Tn=t;Tn!==null;)if(t=Tn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Tn=e;else for(;Tn!==null;){switch(t=Tn,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var w=gs(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(w,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){St(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Jv(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(V(163))}if(e=t.sibling,e!==null){e.return=t.return,Tn=e;break}Tn=t.return}}function GA(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(e,n),r&4&&wf(5,n);break;case 1:if(Ki(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){St(n,n.return,o)}else{var a=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){St(n,n.return,o)}}r&64&&BA(n),r&512&&Fc(n,n.return);break;case 3:if(Ki(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yk(e,t)}catch(o){St(n,n.return,o)}}break;case 27:t===null&&r&4&&$A(n);case 26:case 5:Ki(e,n),t===null&&r&4&&FA(n),r&512&&Fc(n,n.return);break;case 12:Ki(e,n);break;case 13:Ki(e,n),r&4&&KA(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Wz.bind(null,n),h3(e,n))));break;case 22:if(r=n.memoizedState!==null||fi,!r){t=t!==null&&t.memoizedState!==null||Qt,a=fi;var i=Qt;fi=r,(Qt=t)&&!i?Ji(e,n,(n.subtreeFlags&8772)!==0):Ki(e,n),fi=a,Qt=i}break;case 30:break;default:Ki(e,n)}}function YA(e){var t=e.alternate;t!==null&&(e.alternate=null,YA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sb(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var It=null,hr=!1;function ci(e,t,n){for(n=n.child;n!==null;)ZA(e,t,n),n=n.sibling}function ZA(e,t,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(cf,n)}catch(i){}switch(n.tag){case 26:Qt||Na(n,t),ci(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||Na(n,t);var r=It,a=hr;xo(n.type)&&(It=n.stateNode,hr=!1),ci(e,t,n),Yc(n.stateNode),It=r,hr=a;break;case 5:Qt||Na(n,t);case 6:if(r=It,a=hr,It=null,ci(e,t,n),It=r,hr=a,It!==null)if(hr)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(n.stateNode)}catch(i){St(n,t,i)}else try{It.removeChild(n.stateNode)}catch(i){St(n,t,i)}break;case 18:It!==null&&(hr?(e=It,FE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),lf(e)):FE(It,n.stateNode));break;case 4:r=It,a=hr,It=n.stateNode.containerInfo,hr=!0,ci(e,t,n),It=r,hr=a;break;case 0:case 11:case 14:case 15:Qt||yo(2,n,t),Qt||yo(4,n,t),ci(e,t,n);break;case 1:Qt||(Na(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&qA(n,t,r)),ci(e,t,n);break;case 21:ci(e,t,n);break;case 22:Qt=(r=Qt)||n.memoizedState!==null,ci(e,t,n),Qt=r;break;default:ci(e,t,n)}}function KA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lf(e)}catch(n){St(t,t.return,n)}}function $z(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ME),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ME),t;default:throw Error(V(435,e.tag))}}function ev(e,t){var n=$z(e);t.forEach(function(r){var a=e3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function Pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(xo(s.type)){It=s.stateNode,hr=!1;break e}break;case 5:It=s.stateNode,hr=!1;break e;case 3:case 4:It=s.stateNode.containerInfo,hr=!0;break e}s=s.return}if(It===null)throw Error(V(160));ZA(i,o,a),It=null,hr=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)JA(t,e),t=t.sibling}var ya=null;function JA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pr(t,e),Nr(e),r&4&&(yo(3,e,e.return),wf(3,e),yo(5,e,e.return));break;case 1:Pr(t,e),Nr(e),r&512&&(Qt||n===null||Na(n,n.return)),r&64&&fi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=ya;if(Pr(t,e),Nr(e),r&512&&(Qt||n===null||Na(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[df]||i[Zn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),Vn(i,r,n),i[Zn]=e,_n(i),r=i;break e;case"link":var o=ZE("link","href",a).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(r),Vn(i,r,n),a.head.appendChild(i);break;case"meta":if(o=ZE("meta","content",a).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}i=a.createElement(r),Vn(i,r,n),a.head.appendChild(i);break;default:throw Error(V(468,r))}i[Zn]=e,_n(i),r=i}e.stateNode=r}else KE(a,e.type,e.stateNode);else e.stateNode=YE(a,r,e.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?KE(a,e.type,e.stateNode):YE(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xy(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pr(t,e),Nr(e),r&512&&(Qt||n===null||Na(n,n.return)),n!==null&&r&4&&Xy(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pr(t,e),Nr(e),r&512&&(Qt||n===null||Na(n,n.return)),e.flags&32){a=e.stateNode;try{Xl(a,"")}catch(m){St(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xy(e,a,n!==null?n.memoizedProps:a)),r&1024&&(Wy=!0);break;case 6:if(Pr(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(V(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){St(e,e.return,m)}}break;case 3:if(Sd=null,a=ya,ya=Kd(t.containerInfo),Pr(t,e),ya=a,Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lf(t.containerInfo)}catch(m){St(e,e.return,m)}Wy&&(Wy=!1,XA(e));break;case 4:r=ya,ya=Kd(e.stateNode.containerInfo),Pr(t,e),Nr(e),ya=r;break;case 12:Pr(t,e),Nr(e);break;case 13:Pr(t,e),Nr(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zb=ja()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ev(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=fi,c=Qt;if(fi=u||a,Qt=c||l,Pr(t,e),Qt=c,fi=u,Nr(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||fi||Qt||is(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(i=l.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(m){St(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(m){St(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ev(e,n))));break;case 19:Pr(t,e),Nr(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ev(e,r)));break;case 30:break;case 21:break;default:Pr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(HA(r)){n=r;break}r=r.return}if(n==null)throw Error(V(160));switch(n.tag){case 27:var a=n.stateNode,i=Qy(e);qd(e,i,a);break;case 5:var o=n.stateNode;n.flags&32&&(Xl(o,""),n.flags&=-33);var s=Qy(e);qd(e,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Qy(e);Uv(e,u,l);break;default:throw Error(V(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;XA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ki(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)GA(e,t.alternate,t),t=t.sibling}function is(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yo(4,t,t.return),is(t);break;case 1:Na(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&qA(t,t.return,n),is(t);break;case 27:Yc(t.stateNode);case 26:case 5:Na(t,t.return),is(t);break;case 22:t.memoizedState===null&&is(t);break;case 30:is(t);break;default:is(t)}e=e.sibling}}function Ji(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ji(a,i,n),wf(4,i);break;case 1:if(Ji(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){St(r,r.return,u)}if(r=i,a=r.updateQueue,a!==null){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Gk(l[a],s)}catch(u){St(r,r.return,u)}}n&&o&64&&BA(i),Fc(i,i.return);break;case 27:$A(i);case 26:case 5:Ji(a,i,n),n&&r===null&&o&4&&FA(i),Fc(i,i.return);break;case 12:Ji(a,i,n);break;case 13:Ji(a,i,n),n&&o&4&&KA(a,i);break;case 22:i.memoizedState===null&&Ji(a,i,n),Fc(i,i.return);break;case 30:break;default:Ji(a,i,n)}t=t.sibling}}function jb(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yf(n))}function Lb(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yf(e))}function Da(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)QA(e,t,n,r),t=t.sibling}function QA(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Da(e,t,n,r),a&2048&&wf(9,t);break;case 1:Da(e,t,n,r);break;case 3:Da(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yf(e)));break;case 12:if(a&2048){Da(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){St(t,t.return,l)}}else Da(e,t,n,r);break;case 13:Da(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Da(e,t,n,r):Hc(e,t):i._visibility&2?Da(e,t,n,r):(i._visibility|=2,Al(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&jb(o,t);break;case 24:Da(e,t,n,r),a&2048&&Lb(t.alternate,t);break;default:Da(e,t,n,r)}}function Al(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Al(i,o,s,l,a),wf(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Al(i,o,s,l,a):Hc(i,o):(c._visibility|=2,Al(i,o,s,l,a)),a&&u&2048&&jb(o.alternate,o);break;case 24:Al(i,o,s,l,a),a&&u&2048&&Lb(o.alternate,o);break;default:Al(i,o,s,l,a)}t=t.sibling}}function Hc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Hc(n,r),a&2048&&jb(r.alternate,r);break;case 24:Hc(n,r),a&2048&&Lb(r.alternate,r);break;default:Hc(n,r)}t=t.sibling}}var Pc=8192;function _l(e){if(e.subtreeFlags&Pc)for(e=e.child;e!==null;)WA(e),e=e.sibling}function WA(e){switch(e.tag){case 26:_l(e),e.flags&Pc&&e.memoizedState!==null&&C3(ya,e.memoizedState,e.memoizedProps);break;case 5:_l(e);break;case 3:case 4:var t=ya;ya=Kd(e.stateNode.containerInfo),_l(e),ya=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Pc,Pc=16777216,_l(e),Pc=t):_l(e));break;default:_l(e)}}function eC(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ac(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Tn=r,nC(r,e)}eC(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tC(e),e=e.sibling}function tC(e){switch(e.tag){case 0:case 11:case 15:Ac(e),e.flags&2048&&yo(9,e,e.return);break;case 3:Ac(e);break;case 12:Ac(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xd(e)):Ac(e);break;default:Ac(e)}}function xd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Tn=r,nC(r,e)}eC(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:yo(8,t,t.return),xd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,xd(t));break;default:xd(t)}e=e.sibling}}function nC(e,t){for(;Tn!==null;){var n=Tn;switch(n.tag){case 0:case 11:case 15:yo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Tn=r;else e:for(n=e;Tn!==null;){r=Tn;var a=r.sibling,i=r.return;if(YA(r),r===n){Tn=null;break e}if(a!==null){a.return=i,Tn=a;break e}Tn=i}}}var Gz={getCacheForType:function(e){var t=Kn(mn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Yz=typeof WeakMap=="function"?WeakMap:Map,yt=0,_t=null,nt=null,lt=0,gt=0,Ir=null,io=!1,uu=!1,Vb=!1,Si=0,Ft=0,vo=0,fs=0,Ub=0,aa=0,nu=0,$c=null,gr=null,zv=!1,zb=0,Fd=1/0,Hd=null,co=null,Ln=0,fo=null,ru=null,Zl=0,Bv=0,qv=null,rC=null,Gc=0,Fv=null;function Ur(){if(yt&2&&lt!==0)return lt&-lt;if(Pe.T!==null){var e=Ql;return e!==0?e:qb()}return mk()}function aC(){aa===0&&(aa=!(lt&536870912)||pt?ck():536870912);var e=ia.current;return e!==null&&(e.flags|=32),aa}function zr(e,t,n){(e===_t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(au(e,0),oo(e,lt,aa,!1)),pf(e,n),(!(yt&2)||e!==_t)&&(e===_t&&(!(yt&2)&&(fs|=n),Ft===4&&oo(e,lt,aa,!1)),Ua(e))}function iC(e,t,n){if(yt&6)throw Error(V(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ff(e,t),a=r?Jz(e,t):tv(e,t,!0),i=r;do{if(a===0){uu&&!r&&oo(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Zz(n)){a=tv(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=$c;var l=s.current.memoizedState.isDehydrated;if(l&&(au(s,o).flags|=256),o=tv(s,o,!1),o!==2){if(Vb&&!l){s.errorRecoveryDisabledLanes|=i,fs|=i,a=4;break e}i=gr,gr=a,i!==null&&(gr===null?gr=i:gr.push.apply(gr,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){au(e,0),oo(e,t,0,!0);break}e:{switch(r=e,i=a,i){case 0:case 1:throw Error(V(345));case 4:if((t&4194048)!==t)break;case 6:oo(r,t,aa,!io);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(V(329))}if((t&62914560)===t&&(a=zb+300-ja(),10<a)){if(oo(r,t,aa,!io),em(r,0,!0)!==0)break e;r.timeoutHandle=_C(RE.bind(null,r,n,gr,Hd,zv,t,aa,fs,nu,io,i,2,-0,0),a);break e}RE(r,n,gr,Hd,zv,t,aa,fs,nu,io,i,0,-0,0)}}break}while(1);Ua(e)}function RE(e,t,n,r,a,i,o,s,l,u,c,f,p,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(rf={stylesheets:null,count:0,unsuspend:A3},WA(t),f=M3(),f!==null)){e.cancelPendingCommit=f(DE.bind(null,e,t,i,n,r,a,o,s,l,c,1,p,m)),oo(e,i,o,!u);return}DE(e,t,i,n,r,a,o,s,l)}function Zz(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Br(i(),a))return!1}catch(o){return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t,n,r){t&=~Ub,t&=~fs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-Vr(a),o=1<<i;r[i]=-1,a&=~o}n!==0&&pk(e,n,t)}function cm(){return yt&6?!0:(Sf(0,!1),!1)}function Bb(){if(nt!==null){if(gt===0)var e=nt.return;else e=nt,hi=xs=null,Ab(e),Yl=null,ef=0,e=nt;for(;e!==null;)zA(e.alternate,e),e=e.return;nt=null}}function au(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,c3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bb(),_t=e,nt=n=yi(e.current,null),lt=t,gt=0,Ir=null,io=!1,uu=ff(e,t),Vb=!1,nu=aa=Ub=fs=vo=Ft=0,gr=$c=null,zv=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-Vr(r),i=1<<a;t|=e[a],r&=~i}return Si=t,am(),n}function oC(e,t){Qe=null,Pe.H=Ld,t===vf||t===om?(t=lE(),gt=3):t===Hk?(t=lE(),gt=4):gt=t===NA?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ir=t,nt===null&&(Ft=1,zd(e,ra(t,e.current)))}function sC(){var e=Pe.H;return Pe.H=Ld,e===null?Ld:e}function lC(){var e=Pe.A;return Pe.A=Gz,e}function Hv(){Ft=4,io||(lt&4194048)!==lt&&ia.current!==null||(uu=!0),!(vo&134217727)&&!(fs&134217727)||_t===null||oo(_t,lt,aa,!1)}function tv(e,t,n){var r=yt;yt|=2;var a=sC(),i=lC();(_t!==e||lt!==t)&&(Hd=null,au(e,t)),t=!1;var o=Ft;e:do try{if(gt!==0&&nt!==null){var s=nt,l=Ir;switch(gt){case 8:Bb(),o=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(t=!0);var u=gt;if(gt=0,Ir=null,zl(e,s,l,u),n&&uu){o=0;break e}break;default:u=gt,gt=0,Ir=null,zl(e,s,l,u)}}Kz(),o=Ft;break}catch(c){oC(e,c)}while(1);return t&&e.shellSuspendCounter++,hi=xs=null,yt=r,Pe.H=a,Pe.A=i,nt===null&&(_t=null,lt=0,am()),o}function Kz(){for(;nt!==null;)uC(nt)}function Jz(e,t){var n=yt;yt|=2;var r=sC(),a=lC();_t!==e||lt!==t?(Hd=null,Fd=ja()+500,au(e,t)):uu=ff(e,t);e:do try{if(gt!==0&&nt!==null){t=nt;var i=Ir;t:switch(gt){case 1:gt=0,Ir=null,zl(e,t,i,1);break;case 2:case 9:if(sE(i)){gt=0,Ir=null,OE(t);break}t=function(){gt!==2&&gt!==9||_t!==e||(gt=7),Ua(e)},i.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:sE(i)?(gt=0,Ir=null,OE(t)):(gt=0,Ir=null,zl(e,t,i,7));break;case 5:var o=null;switch(nt.tag){case 26:o=nt.memoizedState;case 5:case 27:var s=nt;if(!o||CC(o)){gt=0,Ir=null;var l=s.sibling;if(l!==null)nt=l;else{var u=s.return;u!==null?(nt=u,fm(u)):nt=null}break t}}gt=0,Ir=null,zl(e,t,i,5);break;case 6:gt=0,Ir=null,zl(e,t,i,6);break;case 8:Bb(),Ft=6;break e;default:throw Error(V(462))}}Xz();break}catch(c){oC(e,c)}while(1);return hi=xs=null,Pe.H=r,Pe.A=a,yt=n,nt!==null?0:(_t=null,lt=0,am(),Ft)}function Xz(){for(;nt!==null&&!bU();)uC(nt)}function uC(e){var t=UA(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?fm(e):nt=t}function OE(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_E(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=_E(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Ab(t);default:zA(n,t),t=nt=zk(t,Si),t=UA(n,t,Si)}e.memoizedProps=e.pendingProps,t===null?fm(e):nt=t}function zl(e,t,n,r){hi=xs=null,Ab(t),Yl=null,ef=0;var a=t.return;try{if(zz(e,a,t,n,lt)){Ft=1,zd(e,ra(n,e.current)),nt=null;return}}catch(i){if(a!==null)throw nt=a,i;Ft=1,zd(e,ra(n,e.current)),nt=null;return}t.flags&32768?(pt||r===1?e=!0:uu||lt&536870912?e=!1:(io=e=!0,(r===2||r===9||r===3||r===6)&&(r=ia.current,r!==null&&r.tag===13&&(r.flags|=16384))),cC(t,e)):fm(t)}function fm(e){var t=e;do{if(t.flags&32768){cC(t,io);return}e=t.return;var n=qz(t.alternate,t,Si);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Ft===0&&(Ft=5)}function cC(e,t){do{var n=Fz(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Ft=6,nt=null}function DE(e,t,n,r,a,i,o,s,l){e.cancelPendingCommit=null;do pm();while(Ln!==0);if(yt&6)throw Error(V(327));if(t!==null){if(t===e.current)throw Error(V(177));if(i=t.lanes|t.childLanes,i|=mb,MU(e,n,i,o,s,l),e===_t&&(nt=_t=null,lt=0),ru=t,fo=e,Zl=n,Bv=i,qv=a,rC=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,t3(Ad,function(){return hC(!0),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=Pe.T,Pe.T=null,a=dt.p,dt.p=2,o=yt,yt|=4;try{Hz(e,t,n)}finally{yt=o,dt.p=a,Pe.T=r}}Ln=1,fC(),pC(),dC()}}function fC(){if(Ln===1){Ln=0;var e=fo,t=ru,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Pe.T,Pe.T=null;var r=dt.p;dt.p=2;var a=yt;yt|=4;try{JA(t,e);var i=Zv,o=Dk(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ok(s.ownerDocument.documentElement,s)){if(l!==null&&db(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var m=p.getSelection(),w=s.textContent.length,b=Math.min(l.start,w),x=l.end===void 0?b:Math.min(l.end,w);!m.extend&&b>x&&(o=x,x=b,b=o);var h=W1(s,b),g=W1(s,x);if(h&&g&&(m.rangeCount!==1||m.anchorNode!==h.node||m.anchorOffset!==h.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=f.createRange();y.setStart(h.node,h.offset),m.removeAllRanges(),b>x?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var S=f[s];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Qd=!!Yv,Zv=Yv=null}finally{yt=a,dt.p=r,Pe.T=n}}e.current=t,Ln=2}}function pC(){if(Ln===2){Ln=0;var e=fo,t=ru,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Pe.T,Pe.T=null;var r=dt.p;dt.p=2;var a=yt;yt|=4;try{GA(e,t.alternate,t)}finally{yt=a,dt.p=r,Pe.T=n}}Ln=3}}function dC(){if(Ln===4||Ln===3){Ln=0,xU();var e=fo,t=ru,n=Zl,r=rC;t.subtreeFlags&10256||t.flags&10256?Ln=5:(Ln=0,ru=fo=null,mC(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(co=null),ob(n),t=t.stateNode,Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(cf,t,void 0,(t.current.flags&128)===128)}catch(l){}if(r!==null){t=Pe.T,a=dt.p,dt.p=2,Pe.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{Pe.T=t,dt.p=a}}Zl&3&&pm(),Ua(e),a=e.pendingLanes,n&4194090&&a&42?e===Fv?Gc++:(Gc=0,Fv=e):Gc=0,Sf(0,!1)}}function mC(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yf(t)))}function pm(e){return fC(),pC(),dC(),hC(e)}function hC(){if(Ln!==5)return!1;var e=fo,t=Bv;Bv=0;var n=ob(Zl),r=Pe.T,a=dt.p;try{dt.p=32>n?32:n,Pe.T=null,n=qv,qv=null;var i=fo,o=Zl;if(Ln=0,ru=fo=null,Zl=0,yt&6)throw Error(V(331));var s=yt;if(yt|=4,tC(i.current),QA(i,i.current,o,n),yt=s,Sf(0,!1),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(cf,i)}catch(l){}return!0}finally{dt.p=a,Pe.T=r,mC(e,t)}}function PE(e,t,n){t=ra(n,t),t=jv(e.stateNode,t,2),e=uo(e,t,2),e!==null&&(pf(e,2),Ua(e))}function St(e,t,n){if(e.tag===3)PE(e,e,n);else for(;t!==null;){if(t.tag===3){PE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){e=ra(n,e),n=DA(2),r=uo(t,n,2),r!==null&&(PA(n,r,t,e),pf(r,2),Ua(r));break}}t=t.return}}function nv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(Vb=!0,a.add(n),e=Qz.bind(null,e,t,n),t.then(e,e))}function Qz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(lt&n)===n&&(Ft===4||Ft===3&&(lt&62914560)===lt&&300>ja()-zb?!(yt&2)&&au(e,0):Ub|=n,nu===lt&&(nu=0)),Ua(e)}function gC(e,t){t===0&&(t=fk()),e=lu(e,t),e!==null&&(pf(e,t),Ua(e))}function Wz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gC(e,n)}function e3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(V(314))}r!==null&&r.delete(t),gC(e,n)}function t3(e,t){return ab(e,t)}var $d=null,Cl=null,$v=!1,Gd=!1,rv=!1,ps=0;function Ua(e){e!==Cl&&e.next===null&&(Cl===null?$d=Cl=e:Cl=Cl.next=e),Gd=!0,$v||($v=!0,r3())}function Sf(e,t){if(!rv&&Gd){rv=!0;do for(var n=!1,r=$d;r!==null;){if(!t)if(e!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var o=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-Vr(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,NE(r,i))}else i=lt,i=em(r,r===_t?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||ff(r,i)||(n=!0,NE(r,i));r=r.next}while(n);rv=!1}}function n3(){yC()}function yC(){Gd=$v=!1;var e=0;ps!==0&&(u3()&&(e=ps),ps=0);for(var t=ja(),n=null,r=$d;r!==null;){var a=r.next,i=vC(r,t);i===0?(r.next=null,n===null?$d=a:n.next=a,a===null&&(Cl=n)):(n=r,(e!==0||i&3)&&(Gd=!0)),r=a}Sf(e,!1)}function vC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Vr(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=CU(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(t=_t,n=lt,n=em(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ry(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ff(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ry(r),ob(n)){case 2:case 8:n=lk;break;case 32:n=Ad;break;case 268435456:n=uk;break;default:n=Ad}return r=bC.bind(null,e),n=ab(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ry(r),e.callbackPriority=2,e.callbackNode=null,2}function bC(e,t){if(Ln!==0&&Ln!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(pm(!0)&&e.callbackNode!==n)return null;var r=lt;return r=em(e,e===_t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(iC(e,r,t),vC(e,ja()),e.callbackNode!=null&&e.callbackNode===n?bC.bind(null,e):null)}function NE(e,t){if(pm())return null;iC(e,t,!0)}function r3(){f3(function(){yt&6?ab(sk,n3):yC()})}function qb(){return ps===0&&(ps=ck()),ps}function IE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pd(""+e)}function jE(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function a3(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var i=IE((a[yr]||null).action),o=r.submitter;o&&(t=(t=o[yr]||null)?IE(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new tm("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ps!==0){var l=o?jE(a,o):new FormData(a);Nv(n,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(s.preventDefault(),l=o?jE(a,o):new FormData(a),Nv(n,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(od=0;od<Sv.length;od++)sd=Sv[od],LE=sd.toLowerCase(),VE=sd[0].toUpperCase()+sd.slice(1),ba(LE,"on"+VE);var sd,LE,VE,od;ba(Nk,"onAnimationEnd");ba(Ik,"onAnimationIteration");ba(jk,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(Tz,"onTransitionRun");ba(_z,"onTransitionStart");ba(Ez,"onTransitionCancel");ba(Lk,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tf));function xC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(c){Ud(c)}a.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(c){Ud(c)}a.currentTarget=null,i=l}}}}function tt(e,t){var n=t[hv];n===void 0&&(n=t[hv]=new Set);var r=e+"__bubble";n.has(r)||(wC(t,e,2,!1),n.add(r))}function av(e,t,n){var r=0;t&&(r|=4),wC(n,e,r,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Fb(e){if(!e[ld]){e[ld]=!0,hk.forEach(function(n){n!=="selectionchange"&&(i3.has(n)||av(n,!1,e),av(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ld]||(t[ld]=!0,av("selectionchange",!1,t))}}function wC(e,t,n,r){switch(PC(t)){case 2:var a=D3;break;case 8:a=P3;break;default:a=Yb}n=a.bind(null,t,n,e),a=void 0,!bv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function iv(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=Ol(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=i=o;continue e}s=s.parentNode}}r=r.return}Tk(function(){var u=i,c=ub(n),f=[];e:{var p=Vk.get(e);if(p!==void 0){var m=tm,w=e;switch(e){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":m=tz;break;case"focusin":w="focus",m=Vy;break;case"focusout":w="blur",m=Vy;break;case"beforeblur":case"afterblur":m=Vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=az;break;case Nk:case Ik:case jk:m=GU;break;case Lk:m=oz;break;case"scroll":case"scrollend":m=BU;break;case"wheel":m=lz;break;case"copy":case"cut":case"paste":m=ZU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G1;break;case"toggle":case"beforetoggle":m=cz}var b=(t&4)!==0,x=!b&&(e==="scroll"||e==="scrollend"),h=b?p!==null?p+"Capture":null:p;b=[];for(var g=u,y;g!==null;){var S=g;if(y=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||y===null||h===null||(S=Kc(g,h),S!=null&&b.push(nf(g,S,y))),x)break;g=g.return}0<b.length&&(p=new m(p,w,null,n,c),f.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==vv&&(w=n.relatedTarget||n.fromElement)&&(Ol(w)||w[ou]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Ol(w):null,w!==null&&(x=uf(w),b=w.tag,w!==x||b!==5&&b!==27&&b!==6)&&(w=null)):(m=null,w=u),m!==w)){if(b=H1,S="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=G1,S="onPointerLeave",h="onPointerEnter",g="pointer"),x=m==null?p:Dc(m),y=w==null?p:Dc(w),p=new b(S,g+"leave",m,n,c),p.target=x,p.relatedTarget=y,S=null,Ol(c)===u&&(b=new b(h,g+"enter",w,n,c),b.target=y,b.relatedTarget=x,S=b),x=S,m&&w)t:{for(b=m,h=w,g=0,y=b;y;y=El(y))g++;for(y=0,S=h;S;S=El(S))y++;for(;0<g-y;)b=El(b),g--;for(;0<y-g;)h=El(h),y--;for(;g--;){if(b===h||h!==null&&b===h.alternate)break t;b=El(b),h=El(h)}b=null}else b=null;m!==null&&UE(f,p,m,b,!1),w!==null&&x!==null&&UE(f,x,w,b,!0)}}e:{if(p=u?Dc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=J1;else if(K1(p))if(Mk)_=xz;else{_=vz;var T=yz}else m=p.nodeName,!m||m.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&lb(u.elementType)&&(_=J1):_=bz;if(_&&(_=_(e,u))){Ck(f,_,n,c);break e}T&&T(e,p,u),e==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&yv(p,"number",p.value)}switch(T=u?Dc(u):window,e){case"focusin":(K1(T)||T.contentEditable==="true")&&(Nl=T,xv=u,jc=null);break;case"focusout":jc=xv=Nl=null;break;case"mousedown":wv=!0;break;case"contextmenu":case"mouseup":case"dragend":wv=!1,eE(f,n,c);break;case"selectionchange":if(Sz)break;case"keydown":case"keyup":eE(f,n,c)}var R;if(pb)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pl?kk(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ek&&n.locale!=="ko"&&(Pl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pl&&(R=_k()):(ao=c,cb="value"in ao?ao.value:ao.textContent,Pl=!0)),T=Yd(u,k),0<T.length&&(k=new $1(k,e,null,n,c),f.push({event:k,listeners:T}),R?k.data=R:(R=Ak(n),R!==null&&(k.data=R)))),(R=pz?dz(e,n):mz(e,n))&&(k=Yd(u,"onBeforeInput"),0<k.length&&(T=new $1("onBeforeInput","beforeinput",null,n,c),f.push({event:T,listeners:k}),T.data=R)),a3(f,e,u,n,c)}xC(f,t)})}function nf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Kc(e,n),a!=null&&r.unshift(nf(e,a,i)),a=Kc(e,t),a!=null&&r.push(nf(e,a,i))),e.tag===3)return r;e=e.return}return[]}function El(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function UE(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,a?(u=Kc(n,i),u!=null&&o.unshift(nf(n,u,l))):a||(u=Kc(n,i),u!=null&&o.push(nf(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var o3=/\r\n?/g,s3=/\u0000|\uFFFD/g;function zE(e){return(typeof e=="string"?e:""+e).replace(o3,`
`).replace(s3,"")}function SC(e,t){return t=zE(t),zE(e)===t}function dm(){}function bt(e,t,n,r,a,i){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Xl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Xl(e,""+r);break;case"className":Xp(e,"class",r);break;case"tabIndex":Xp(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xp(e,n,r);break;case"style":Sk(e,r,i);break;case"data":if(t!=="object"){Xp(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=pd(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",a.name,a,null),bt(e,t,"formEncType",a.formEncType,a,null),bt(e,t,"formMethod",a.formMethod,a,null),bt(e,t,"formTarget",a.formTarget,a,null)):(bt(e,t,"encType",a.encType,a,null),bt(e,t,"method",a.method,a,null),bt(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=pd(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=dm);break;case"onScroll":r!=null&&tt("scroll",e);break;case"onScrollEnd":r!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(V(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(V(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=pd(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":tt("beforetoggle",e),tt("toggle",e),fd(e,"popover",r);break;case"xlinkActuate":li(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":li(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":li(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":li(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":li(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":li(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":li(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":li(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":li(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fd(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=UU.get(n)||n,fd(e,n,r))}}function Gv(e,t,n,r,a,i){switch(n){case"style":Sk(e,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(V(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(V(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Xl(e,r):(typeof r=="number"||typeof r=="bigint")&&Xl(e,""+r);break;case"onScroll":r!=null&&tt("scroll",e);break;case"onScrollEnd":r!=null&&tt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=dm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gk.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),i=e[yr]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):fd(e,n,r)}}}function Vn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(V(137,t));default:bt(e,t,i,o,n,null)}}a&&bt(e,t,"srcSet",n.srcSet,n,null),r&&bt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var s=i=o=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":a=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(V(137,t));break;default:bt(e,t,r,c,n,null)}}bk(e,i,s,l,u,o,a,!1),Cd(e);return;case"select":tt("invalid",e),r=o=i=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:bt(e,t,a,s,n,null)}t=i,n=o,e.multiple=!!r,t!=null?ql(e,!!r,t,!1):n!=null&&ql(e,!!r,n,!0);return;case"textarea":tt("invalid",e),i=a=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(V(91));break;default:bt(e,t,o,s,n,null)}wk(e,r,a,i),Cd(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:bt(e,t,l,r,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(r=0;r<tf.length;r++)tt(tf[r],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(V(137,t));default:bt(e,t,u,r,n,null)}return;default:if(lb(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Gv(e,t,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&bt(e,t,s,r,n,null))}function l3(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,l=null,u=null,c=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||bt(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(V(137,t));break;default:m!==f&&bt(e,t,p,m,r,f)}}gv(e,o,s,l,u,c,i,a);return;case"select":m=o=s=p=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(i)||bt(e,t,i,null,r,l)}for(a in r)if(i=r[a],l=n[a],r.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":p=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==l&&bt(e,t,a,i,r,l)}t=s,n=o,r=m,p!=null?ql(e,!!n,p,!1):!!r!=!!n&&(t!=null?ql(e,!!n,t,!0):ql(e,!!n,n?[]:"",!1));return;case"textarea":m=p=null;for(s in n)if(a=n[s],n.hasOwnProperty(s)&&a!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:bt(e,t,s,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":p=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(V(91));break;default:a!==i&&bt(e,t,o,a,r,i)}xk(e,p,m);return;case"option":for(var w in n)if(p=n[w],n.hasOwnProperty(w)&&p!=null&&!r.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:bt(e,t,w,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:bt(e,t,l,p,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!r.hasOwnProperty(b)&&bt(e,t,b,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(V(137,t));break;default:bt(e,t,u,p,r,m)}return;default:if(lb(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!==void 0&&!r.hasOwnProperty(x)&&Gv(e,t,x,void 0,r,p);for(c in r)p=r[c],m=n[c],!r.hasOwnProperty(c)||p===m||p===void 0&&m===void 0||Gv(e,t,c,p,r,m);return}}for(var h in n)p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h)&&bt(e,t,h,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||bt(e,t,f,p,r,m)}var Yv=null,Zv=null;function Zd(e){return e.nodeType===9?e:e.ownerDocument}function BE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TC(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ov=null;function u3(){var e=window.event;return e&&e.type==="popstate"?e===ov?!1:(ov=e,!0):(ov=null,!1)}var _C=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,qE=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof qE!="undefined"?function(e){return qE.resolve(null).then(e).catch(p3)}:_C;function p3(e){setTimeout(function(){throw e})}function xo(e){return e==="head"}function FE(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&Yc(o.documentElement),n&2&&Yc(o.body),n&4)for(n=o.head,Yc(n),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[df]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}if(a===0){e.removeChild(i),lf(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);lf(t)}function Jv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jv(n),sb(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function d3(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[df])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=va(e.nextSibling),e===null)break}return null}function m3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=va(e.nextSibling),e===null))return null;return e}function Xv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function h3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qv=null;function HE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function EC(e,t,n){switch(t=Zd(n),e){case"html":if(e=t.documentElement,!e)throw Error(V(452));return e;case"head":if(e=t.head,!e)throw Error(V(453));return e;case"body":if(e=t.body,!e)throw Error(V(454));return e;default:throw Error(V(451))}}function Yc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sb(e)}var oa=new Map,$E=new Set;function Kd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ti=dt.d;dt.d={f:g3,r:y3,D:v3,C:b3,L:x3,m:w3,X:T3,S:S3,M:_3};function g3(){var e=Ti.f(),t=cm();return e||t}function y3(e){var t=su(e);t!==null&&t.tag===5&&t.type==="form"?vA(t):Ti.r(e)}var cu=typeof document=="undefined"?null:document;function kC(e,t,n){var r=cu;if(r&&typeof t=="string"&&t){var a=na(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),$E.has(a)||($E.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Vn(t,"link",e),_n(t),r.head.appendChild(t)))}}function v3(e){Ti.D(e),kC("dns-prefetch",e,null)}function b3(e,t){Ti.C(e,t),kC("preconnect",e,t)}function x3(e,t,n){Ti.L(e,t,n);var r=cu;if(r&&e&&t){var a='link[rel="preload"][as="'+na(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+na(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+na(n.imageSizes)+'"]')):a+='[href="'+na(e)+'"]';var i=a;switch(t){case"style":i=iu(e);break;case"script":i=fu(e)}oa.has(i)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),oa.set(i,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Tf(i))||t==="script"&&r.querySelector(_f(i))||(t=r.createElement("link"),Vn(t,"link",e),_n(t),r.head.appendChild(t)))}}function w3(e,t){Ti.m(e,t);var n=cu;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+na(r)+'"][href="'+na(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=fu(e)}if(!oa.has(i)&&(e=Ct({rel:"modulepreload",href:e},t),oa.set(i,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_f(i)))return}r=n.createElement("link"),Vn(r,"link",e),_n(r),n.head.appendChild(r)}}}function S3(e,t,n){Ti.S(e,t,n);var r=cu;if(r&&e){var a=Bl(r).hoistableStyles,i=iu(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Tf(i)))s.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=oa.get(i))&&Hb(e,n);var l=o=r.createElement("link");_n(l),Vn(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,wd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function T3(e,t){Ti.X(e,t);var n=cu;if(n&&e){var r=Bl(n).hoistableScripts,a=fu(e),i=r.get(a);i||(i=n.querySelector(_f(a)),i||(e=Ct({src:e,async:!0},t),(t=oa.get(a))&&$b(e,t),i=n.createElement("script"),_n(i),Vn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function _3(e,t){Ti.M(e,t);var n=cu;if(n&&e){var r=Bl(n).hoistableScripts,a=fu(e),i=r.get(a);i||(i=n.querySelector(_f(a)),i||(e=Ct({src:e,async:!0,type:"module"},t),(t=oa.get(a))&&$b(e,t),i=n.createElement("script"),_n(i),Vn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function GE(e,t,n,r){var a=(a=so.current)?Kd(a):null;if(!a)throw Error(V(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=iu(n.href),n=Bl(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=iu(n.href);var i=Bl(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(Tf(e)))&&!i._p&&(o.instance=i,o.state.loading=5),oa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},oa.set(e,n),i||E3(a,e,n,o.state))),t&&r===null)throw Error(V(528,""));return o}if(t&&r!==null)throw Error(V(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fu(n),n=Bl(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(V(444,e))}}function iu(e){return'href="'+na(e)+'"'}function Tf(e){return'link[rel="stylesheet"]['+e+"]"}function AC(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function E3(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Vn(t,"link",n),_n(t),e.head.appendChild(t))}function fu(e){return'[src="'+na(e)+'"]'}function _f(e){return"script[async]"+e}function YE(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+na(n.href)+'"]');if(r)return t.instance=r,_n(r),r;var a=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),_n(r),Vn(r,"style",a),wd(r,n.precedence,e),t.instance=r;case"stylesheet":a=iu(n.href);var i=e.querySelector(Tf(a));if(i)return t.state.loading|=4,t.instance=i,_n(i),i;r=AC(n),(a=oa.get(a))&&Hb(r,a),i=(e.ownerDocument||e).createElement("link"),_n(i);var o=i;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Vn(i,"link",r),t.state.loading|=4,wd(i,n.precedence,e),t.instance=i;case"script":return i=fu(n.src),(a=e.querySelector(_f(i)))?(t.instance=a,_n(a),a):(r=n,(a=oa.get(i))&&(r=Ct({},n),$b(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),_n(a),Vn(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(V(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,wd(r,n.precedence,e));return t.instance}function wd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hb(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $b(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sd=null;function ZE(e,t,n){if(Sd===null){var r=new Map,a=Sd=new Map;a.set(n,r)}else a=Sd,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[df]||i[Zn]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(i):r.set(o,[i])}}return r}function KE(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function k3(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function CC(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var rf=null;function A3(){}function C3(e,t,n){if(rf===null)throw Error(V(475));var r=rf;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=iu(n.href),i=e.querySelector(Tf(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Jd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,_n(i);return}i=e.ownerDocument||e,n=AC(n),(a=oa.get(a))&&Hb(n,a),i=i.createElement("link"),_n(i);var o=i;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Vn(i,"link",n),t.instance=i}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Jd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function M3(){if(rf===null)throw Error(V(475));var e=rf;return e.stylesheets&&e.count===0&&Wv(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wv(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Jd(){if(this.count--,this.count===0){if(this.stylesheets)Wv(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xd=null;function Wv(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xd=new Map,t.forEach(R3,e),Xd=null,Jd.call(e))}function R3(e,t){if(!(t.state.loading&4)){var n=Xd.get(e);if(n)var r=n.get(null);else{n=new Map,Xd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}a=t.instance,o=a.getAttribute("data-precedence"),i=n.get(o)||r,i===r&&n.set(null,a),n.set(o,a),this.count++,r=Jd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var af={$$typeof:pi,Provider:null,Consumer:null,_currentValue:os,_currentValue2:os,_threadCount:0};function O3(e,t,n,r,a,i,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oy(0),this.hiddenUpdates=Oy(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function MC(e,t,n,r,a,i,o,s,l,u,c,f){return e=new O3(e,t,n,o,s,l,u,f),t=1,i===!0&&(t|=24),i=jr(3,null,null,t),e.current=i,i.stateNode=e,t=bb(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},wb(i),e}function RC(e){return e?(e=Ll,e):Ll}function OC(e,t,n,r,a,i){a=RC(a),r.context===null?r.context=a:r.pendingContext=a,r=lo(t),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=uo(e,r,t),n!==null&&(zr(n,e,t),Uc(n,e,t))}function JE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gb(e,t){JE(e,t),(e=e.alternate)&&JE(e,t)}function DC(e){if(e.tag===13){var t=lu(e,67108864);t!==null&&zr(t,e,67108864),Gb(e,67108864)}}var Qd=!0;function D3(e,t,n,r){var a=Pe.T;Pe.T=null;var i=dt.p;try{dt.p=2,Yb(e,t,n,r)}finally{dt.p=i,Pe.T=a}}function P3(e,t,n,r){var a=Pe.T;Pe.T=null;var i=dt.p;try{dt.p=8,Yb(e,t,n,r)}finally{dt.p=i,Pe.T=a}}function Yb(e,t,n,r){if(Qd){var a=eb(r);if(a===null)iv(e,t,r,Wd,n),XE(e,r);else if(I3(a,e,t,n,r))r.stopPropagation();else if(XE(e,r),t&4&&-1<N3.indexOf(e)){for(;a!==null;){var i=su(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=rs(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Vr(o);s.entanglements[1]|=l,o&=~l}Ua(i),!(yt&6)&&(Fd=ja()+500,Sf(0,!1))}}break;case 13:s=lu(i,2),s!==null&&zr(s,i,2),cm(),Gb(i,2)}if(i=eb(r),i===null&&iv(e,t,r,Wd,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else iv(e,t,r,null,n)}}function eb(e){return e=ub(e),Zb(e)}var Wd=null;function Zb(e){if(Wd=null,e=Ol(e),e!==null){var t=uf(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=rk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wd=e,null}function PC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wU()){case sk:return 2;case lk:return 8;case Ad:case SU:return 32;case uk:return 268435456;default:return 32}default:return 32}}var tb=!1,po=null,mo=null,ho=null,of=new Map,sf=new Map,no=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XE(e,t){switch(e){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":of.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sf.delete(t.pointerId)}}function Cc(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=su(t),t!==null&&DC(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function I3(e,t,n,r,a){switch(t){case"focusin":return po=Cc(po,e,t,n,r,a),!0;case"dragenter":return mo=Cc(mo,e,t,n,r,a),!0;case"mouseover":return ho=Cc(ho,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return of.set(i,Cc(of.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,sf.set(i,Cc(sf.get(i)||null,e,t,n,r,a)),!0}return!1}function NC(e){var t=Ol(e.target);if(t!==null){var n=uf(t);if(n!==null){if(t=n.tag,t===13){if(t=rk(n),t!==null){e.blockedOn=t,RU(e.priority,function(){if(n.tag===13){var r=Ur();r=ib(r);var a=lu(n,r);a!==null&&zr(a,n,r),Gb(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eb(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vv=r,n.target.dispatchEvent(r),vv=null}else return t=su(n),t!==null&&DC(t),e.blockedOn=n,!1;t.shift()}return!0}function QE(e,t,n){Td(e)&&n.delete(t)}function j3(){tb=!1,po!==null&&Td(po)&&(po=null),mo!==null&&Td(mo)&&(mo=null),ho!==null&&Td(ho)&&(ho=null),of.forEach(QE),sf.forEach(QE)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,tb||(tb=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,j3)))}var cd=null;function WE(e){cd!==e&&(cd=e,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,function(){cd===e&&(cd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(Zb(r||n)===null)continue;break}var i=su(n);i!==null&&(e.splice(t,3),t-=3,Nv(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function lf(e){function t(l){return ud(l,e)}po!==null&&ud(po,e),mo!==null&&ud(mo,e),ho!==null&&ud(ho,e),of.forEach(t),sf.forEach(t);for(var n=0;n<no.length;n++){var r=no[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<no.length&&(n=no[0],n.blockedOn===null);)NC(n),n.blockedOn===null&&no.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[yr]||null;if(typeof i=="function")o||WE(n);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[yr]||null)s=o.formAction;else if(Zb(a)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),WE(n)}}}function Kb(e){this._internalRoot=e}mm.prototype.render=Kb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));var n=t.current,r=Ur();OC(n,r,e,t,null,null)};mm.prototype.unmount=Kb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;OC(e.current,2,null,e,null,null),cm(),t[ou]=null}};function mm(e){this._internalRoot=e}mm.prototype.unstable_scheduleHydration=function(e){if(e){var t=mk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<no.length&&t!==0&&t<no[n].priority;n++);no.splice(n,0,e),n===0&&NC(e)}};var ek=tk.version;if(ek!=="19.1.0")throw Error(V(527,ek,"19.1.0"));dt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=mU(t),e=e!==null?ak(e):null,e=e===null?null:e.stateNode,e};var L3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Pe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Mc.isDisabled&&Mc.supportsFiber))try{cf=Mc.inject(L3),Lr=Mc}catch(e){}var Mc;hm.createRoot=function(e,t){if(!nk(e))throw Error(V(299));var n=!1,r="",a=MA,i=RA,o=OA,s=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(s=t.unstable_transitionCallbacks)),t=MC(e,1,!1,null,null,n,r,a,i,o,s,null),e[ou]=t.current,Fb(e),new Kb(t)};hm.hydrateRoot=function(e,t,n){if(!nk(e))throw Error(V(299));var r=!1,a="",i=MA,o=RA,s=OA,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=MC(e,1,!0,t,n!=null?n:null,r,a,i,o,s,l,u),t.context=RC(null),n=t.current,r=Ur(),r=ib(r),a=lo(r),a.callback=null,uo(n,a,r),n=r,t.current.lanes=n,pf(t,n),Ua(t),e[ou]=t.current,Fb(e),new mm(t)};hm.version="19.1.0"});var VC=xn((BZ,LC)=>{"use strict";function jC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jC)}catch(e){console.error(e)}}jC(),LC.exports=IC()});var Jb=xn((GZ,bm)=>{(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var a="",i=0;i<arguments.length;i++){var o=arguments[i];o&&(a=r(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var o in a)e.call(a,o)&&a[o]&&(i=r(i,o));return i}function r(a,i){return i?a?a+" "+i:a+i:a}typeof bm!="undefined"&&bm.exports?(t.default=t,bm.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var HC=xn(xm=>{"use strict";var U3=Symbol.for("react.transitional.element"),z3=Symbol.for("react.fragment");function FC(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:U3,type:e,key:r,ref:t!==void 0?t:null,props:n}}xm.Fragment=z3;xm.jsx=FC;xm.jsxs=FC});var ws=xn((ZZ,$C)=>{"use strict";$C.exports=HC()});var RD=xn((gfe,MD)=>{var ED=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,d9=/\n/g,m9=/^\s*/,h9=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,g9=/^:\s*/,y9=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,v9=/^[;\s]*/,b9=/^\s+|\s+$/g,x9=`
`,kD="/",AD="*",Ys="",w9="comment",S9="declaration";MD.exports=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(b){var x=b.match(d9);x&&(n+=x.length);var h=b.lastIndexOf(x9);r=~h?b.length-h:r+b.length}function i(){var b={line:n,column:r};return function(x){return x.position=new o(b),c(),x}}function o(b){this.start=b,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;var s=[];function l(b){var x=new Error(t.source+":"+n+":"+r+": "+b);if(x.reason=b,x.filename=t.source,x.line=n,x.column=r,x.source=e,t.silent)s.push(x);else throw x}function u(b){var x=b.exec(e);if(x){var h=x[0];return a(h),e=e.slice(h.length),x}}function c(){u(m9)}function f(b){var x;for(b=b||[];x=p();)x!==!1&&b.push(x);return b}function p(){var b=i();if(!(kD!=e.charAt(0)||AD!=e.charAt(1))){for(var x=2;Ys!=e.charAt(x)&&(AD!=e.charAt(x)||kD!=e.charAt(x+1));)++x;if(x+=2,Ys===e.charAt(x-1))return l("End of comment missing");var h=e.slice(2,x-2);return r+=2,a(h),e=e.slice(x),r+=2,b({type:w9,comment:h})}}function m(){var b=i(),x=u(h9);if(x){if(p(),!u(g9))return l("property missing ':'");var h=u(y9),g=b({type:S9,property:CD(x[0].replace(ED,Ys)),value:h?CD(h[0].replace(ED,Ys)):Ys});return u(v9),g}}function w(){var b=[];f(b);for(var x;x=m();)x!==!1&&(b.push(x),f(b));return b}return c(),w()};function CD(e){return e?e.replace(b9,Ys):Ys}});var OD=xn(Jf=>{"use strict";var T9=Jf&&Jf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default=E9;var _9=T9(RD());function E9(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,_9.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,s=i.value;a?t(o,s,i):s&&(n=n||{},n[o]=s)}}),n}});var PD=xn(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.camelCase=void 0;var k9=/^--[a-zA-Z0-9_-]+$/,A9=/-([a-z])/g,C9=/^[^-]+$/,M9=/^-(webkit|moz|ms|o|khtml)-/,R9=/^-(ms)-/,O9=function(e){return!e||C9.test(e)||k9.test(e)},D9=function(e,t){return t.toUpperCase()},DD=function(e,t){return"".concat(t,"-")},P9=function(e,t){return t===void 0&&(t={}),O9(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(R9,DD):e=e.replace(M9,DD),e.replace(A9,D9))};Jh.camelCase=P9});var ID=xn((c0,ND)=>{"use strict";var N9=c0&&c0.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},I9=N9(OD()),j9=PD();function u0(e,t){var n={};return!e||typeof e!="string"||(0,I9.default)(e,function(r,a){r&&a&&(n[(0,j9.camelCase)(r,t)]=a)}),n}u0.default=u0;ND.exports=u0});var lP=xn(($ge,sP)=>{"use strict";var bg=Object.prototype.hasOwnProperty,oP=Object.prototype.toString,eP=Object.defineProperty,tP=Object.getOwnPropertyDescriptor,nP=function(t){return typeof Array.isArray=="function"?Array.isArray(t):oP.call(t)==="[object Array]"},rP=function(t){if(!t||oP.call(t)!=="[object Object]")return!1;var n=bg.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&bg.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a=="undefined"||bg.call(t,a)},aP=function(t,n){eP&&n.name==="__proto__"?eP(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},iP=function(t,n){if(n==="__proto__")if(bg.call(t,n)){if(tP)return tP(t,n).value}else return;return t[n]};sP.exports=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=iP(s,n),a=iP(t,n),s!==a&&(c&&a&&(rP(a)||(i=nP(a)))?(i?(i=!1,o=r&&nP(r)?r:[]):o=r&&rP(r)?r:{},aP(s,{name:n,newValue:e(c,o,a)})):typeof a!="undefined"&&aP(s,{name:n,newValue:a}));return s}});var MP=xn((ive,iw)=>{(e=>{"use strict";var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,i=(E,C)=>{for(var O in C)t(E,O,{get:C[O],enumerable:!0})},o=(E,C,O,j)=>{if(C&&typeof C=="object"||typeof C=="function")for(let X of r(C))!a.call(E,X)&&X!==O&&t(E,X,{get:()=>C[X],enumerable:!(j=n(C,X))||j.enumerable});return E},s=E=>o(t({},"__esModule",{value:!0}),E),l=(E,C,O)=>new Promise((j,X)=>{var W=z=>{try{le(O.next(z))}catch(Ge){X(Ge)}},H=z=>{try{le(O.throw(z))}catch(Ge){X(Ge)}},le=z=>z.done?j(z.value):Promise.resolve(z.value).then(W,H);le((O=O.apply(E,C)).next())}),u={};i(u,{analyzeMetafile:()=>ln,analyzeMetafileSync:()=>Kt,build:()=>ke,buildSync:()=>un,context:()=>Ie,default:()=>Xa,formatMessages:()=>bn,formatMessagesSync:()=>cn,initialize:()=>fa,stop:()=>Cr,transform:()=>We,transformSync:()=>Zt,version:()=>Q}),e.exports=s(u);function c(E){let C=j=>{if(j===null)O.write8(0);else if(typeof j=="boolean")O.write8(1),O.write8(+j);else if(typeof j=="number")O.write8(2),O.write32(j|0);else if(typeof j=="string")O.write8(3),O.write(m(j));else if(j instanceof Uint8Array)O.write8(4),O.write(j);else if(j instanceof Array){O.write8(5),O.write32(j.length);for(let X of j)C(X)}else{let X=Object.keys(j);O.write8(6),O.write32(X.length);for(let W of X)O.write(m(W)),C(j[W])}},O=new p;return O.write32(0),O.write32(E.id<<1|+!E.isRequest),C(E.value),h(O.buf,O.len-4,0),O.buf.subarray(0,O.len)}function f(E){let C=()=>{switch(O.read8()){case 0:return null;case 1:return!!O.read8();case 2:return O.read32();case 3:return w(O.read());case 4:return O.read();case 5:{let H=O.read32(),le=[];for(let z=0;z<H;z++)le.push(C());return le}case 6:{let H=O.read32(),le={};for(let z=0;z<H;z++)le[w(O.read())]=C();return le}default:throw new Error("Invalid packet")}},O=new p(E),j=O.read32(),X=(j&1)===0;j>>>=1;let W=C();if(O.ptr!==E.length)throw new Error("Invalid packet");return{id:j,isRequest:X,value:W}}var p=class{constructor(E=new Uint8Array(1024)){this.buf=E,this.len=0,this.ptr=0}_write(E){if(this.len+E>this.buf.length){let C=new Uint8Array((this.len+E)*2);C.set(this.buf),this.buf=C}return this.len+=E,this.len-E}write8(E){let C=this._write(1);this.buf[C]=E}write32(E){let C=this._write(4);h(this.buf,E,C)}write(E){let C=this._write(4+E.length);h(this.buf,E.length,C),this.buf.set(E,C+4)}_read(E){if(this.ptr+E>this.buf.length)throw new Error("Invalid packet");return this.ptr+=E,this.ptr-E}read8(){return this.buf[this._read(1)]}read32(){return x(this.buf,this._read(4))}read(){let E=this.read32(),C=new Uint8Array(E),O=this._read(C.length);return C.set(this.buf.subarray(O,O+E)),C}},m,w,b;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let E=new TextEncoder,C=new TextDecoder;m=O=>E.encode(O),w=O=>C.decode(O),b='new TextEncoder().encode("")'}else if(typeof Buffer!="undefined")m=E=>Buffer.from(E),w=E=>{let{buffer:C,byteOffset:O,byteLength:j}=E;return Buffer.from(C,O,j).toString()},b='Buffer.from("")';else throw new Error("No UTF-8 codec found");if(!(m("")instanceof Uint8Array))throw new Error(`Invariant violation: "${b} instanceof Uint8Array" is incorrectly false

This indicates that your JavaScript environment is broken. You cannot use
esbuild in this environment because esbuild relies on this invariant. This
is not a problem with esbuild. You need to fix your environment instead.
`);function x(E,C){return E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24}function h(E,C,O){E[O++]=C,E[O++]=C>>8,E[O++]=C>>16,E[O++]=C>>24}var g=JSON.stringify,y="warning",S="silent";function _(E){if(Je(E,"target"),E.indexOf(",")>=0)throw new Error(`Invalid target: ${E}`);return E}var T=()=>null,R=E=>typeof E=="boolean"?null:"a boolean",k=E=>typeof E=="string"?null:"a string",D=E=>E instanceof RegExp?null:"a RegExp object",F=E=>typeof E=="number"&&E===(E|0)?null:"an integer",Ne=E=>typeof E=="number"&&E===(E|0)&&E>=0&&E<=65535?null:"a valid port number",Te=E=>typeof E=="function"?null:"a function",B=E=>Array.isArray(E)?null:"an array",te=E=>typeof E=="object"&&E!==null&&!Array.isArray(E)?null:"an object",ue=E=>typeof E=="object"&&E!==null?null:"an array or an object",ze=E=>E instanceof WebAssembly.Module?null:"a WebAssembly.Module",be=E=>typeof E=="object"&&!Array.isArray(E)?null:"an object or null",Ce=E=>typeof E=="string"||typeof E=="boolean"?null:"a string or a boolean",mt=E=>typeof E=="string"||typeof E=="object"&&E!==null&&!Array.isArray(E)?null:"a string or an object",A=E=>typeof E=="string"||Array.isArray(E)?null:"a string or an array",Ee=E=>typeof E=="string"||E instanceof Uint8Array?null:"a string or a Uint8Array",nn=E=>typeof E=="string"||E instanceof URL?null:"a string or a URL";function v(E,C,O,j){let X=E[O];if(C[O+""]=!0,X===void 0)return;let W=j(X);if(W!==null)throw new Error(`${g(O)} must be ${W}`);return X}function $e(E,C,O){for(let j in E)if(!(j in C))throw new Error(`Invalid option ${O}: ${g(j)}`)}function Qn(E){let C=Object.create(null),O=v(E,C,"wasmURL",nn),j=v(E,C,"wasmModule",ze),X=v(E,C,"worker",R);return $e(E,C,"in initialize() call"),{wasmURL:O,wasmModule:j,worker:X}}function Dn(E){let C;if(E!==void 0){C=Object.create(null);for(let O in E){let j=E[O];if(typeof j=="string"||j===!1)C[O]=j;else throw new Error(`Expected ${g(O)} in mangle cache to map to either a string or false`)}}return C}function Hn(E,C,O,j,X){let W=v(C,O,"color",R),H=v(C,O,"logLevel",k),le=v(C,O,"logLimit",F);W!==void 0?E.push(`--color=${W}`):j&&E.push("--color=true"),E.push(`--log-level=${H||X}`),E.push(`--log-limit=${le||0}`)}function Je(E,C,O){if(typeof E!="string")throw new Error(`Expected value for ${C}${O!==void 0?" "+g(O):""} to be a string, got ${typeof E} instead`);return E}function Me(E,C,O){let j=v(C,O,"legalComments",k),X=v(C,O,"sourceRoot",k),W=v(C,O,"sourcesContent",R),H=v(C,O,"target",A),le=v(C,O,"format",k),z=v(C,O,"globalName",k),Ge=v(C,O,"mangleProps",D),Ye=v(C,O,"reserveProps",D),Se=v(C,O,"mangleQuoted",R),ie=v(C,O,"minify",R),ve=v(C,O,"minifySyntax",R),je=v(C,O,"minifyWhitespace",R),Ze=v(C,O,"minifyIdentifiers",R),me=v(C,O,"lineLimit",F),Tt=v(C,O,"drop",B),oe=v(C,O,"dropLabels",B),fe=v(C,O,"charset",k),ee=v(C,O,"treeShaking",R),$=v(C,O,"ignoreAnnotations",R),P=v(C,O,"jsx",k),U=v(C,O,"jsxFactory",k),q=v(C,O,"jsxFragment",k),ne=v(C,O,"jsxImportSource",k),pe=v(C,O,"jsxDev",R),L=v(C,O,"jsxSideEffects",R),G=v(C,O,"define",te),ce=v(C,O,"logOverride",te),M=v(C,O,"supported",te),I=v(C,O,"pure",B),se=v(C,O,"keepNames",R),re=v(C,O,"platform",k),_e=v(C,O,"tsconfigRaw",mt);if(j&&E.push(`--legal-comments=${j}`),X!==void 0&&E.push(`--source-root=${X}`),W!==void 0&&E.push(`--sources-content=${W}`),H&&(Array.isArray(H)?E.push(`--target=${Array.from(H).map(_).join(",")}`):E.push(`--target=${_(H)}`)),le&&E.push(`--format=${le}`),z&&E.push(`--global-name=${z}`),re&&E.push(`--platform=${re}`),_e&&E.push(`--tsconfig-raw=${typeof _e=="string"?_e:JSON.stringify(_e)}`),ie&&E.push("--minify"),ve&&E.push("--minify-syntax"),je&&E.push("--minify-whitespace"),Ze&&E.push("--minify-identifiers"),me&&E.push(`--line-limit=${me}`),fe&&E.push(`--charset=${fe}`),ee!==void 0&&E.push(`--tree-shaking=${ee}`),$&&E.push("--ignore-annotations"),Tt)for(let Le of Tt)E.push(`--drop:${Je(Le,"drop")}`);if(oe&&E.push(`--drop-labels=${Array.from(oe).map(Le=>Je(Le,"dropLabels")).join(",")}`),Ge&&E.push(`--mangle-props=${N(Ge)}`),Ye&&E.push(`--reserve-props=${N(Ye)}`),Se!==void 0&&E.push(`--mangle-quoted=${Se}`),P&&E.push(`--jsx=${P}`),U&&E.push(`--jsx-factory=${U}`),q&&E.push(`--jsx-fragment=${q}`),ne&&E.push(`--jsx-import-source=${ne}`),pe&&E.push("--jsx-dev"),L&&E.push("--jsx-side-effects"),G)for(let Le in G){if(Le.indexOf("=")>=0)throw new Error(`Invalid define: ${Le}`);E.push(`--define:${Le}=${Je(G[Le],"define",Le)}`)}if(ce)for(let Le in ce){if(Le.indexOf("=")>=0)throw new Error(`Invalid log override: ${Le}`);E.push(`--log-override:${Le}=${Je(ce[Le],"log override",Le)}`)}if(M)for(let Le in M){if(Le.indexOf("=")>=0)throw new Error(`Invalid supported: ${Le}`);let Oe=M[Le];if(typeof Oe!="boolean")throw new Error(`Expected value for supported ${g(Le)} to be a boolean, got ${typeof Oe} instead`);E.push(`--supported:${Le}=${Oe}`)}if(I)for(let Le of I)E.push(`--pure:${Je(Le,"pure")}`);se&&E.push("--keep-names")}function Ot(E,C,O,j,X){var W;let H=[],le=[],z=Object.create(null),Ge=null,Ye=null;Hn(H,C,z,O,j),Me(H,C,z);let Se=v(C,z,"sourcemap",Ce),ie=v(C,z,"bundle",R),ve=v(C,z,"splitting",R),je=v(C,z,"preserveSymlinks",R),Ze=v(C,z,"metafile",R),me=v(C,z,"outfile",k),Tt=v(C,z,"outdir",k),oe=v(C,z,"outbase",k),fe=v(C,z,"tsconfig",k),ee=v(C,z,"resolveExtensions",B),$=v(C,z,"nodePaths",B),P=v(C,z,"mainFields",B),U=v(C,z,"conditions",B),q=v(C,z,"external",B),ne=v(C,z,"packages",k),pe=v(C,z,"alias",te),L=v(C,z,"loader",te),G=v(C,z,"outExtension",te),ce=v(C,z,"publicPath",k),M=v(C,z,"entryNames",k),I=v(C,z,"chunkNames",k),se=v(C,z,"assetNames",k),re=v(C,z,"inject",B),_e=v(C,z,"banner",te),Le=v(C,z,"footer",te),Oe=v(C,z,"entryPoints",ue),ft=v(C,z,"absWorkingDir",k),rt=v(C,z,"stdin",te),ot=(W=v(C,z,"write",R))!=null?W:X,Hr=v(C,z,"allowOverwrite",R),Jt=v(C,z,"mangleCache",te);if(z.plugins=!0,$e(C,z,`in ${E}() call`),Se&&H.push(`--sourcemap${Se===!0?"":`=${Se}`}`),ie&&H.push("--bundle"),Hr&&H.push("--allow-overwrite"),ve&&H.push("--splitting"),je&&H.push("--preserve-symlinks"),Ze&&H.push("--metafile"),me&&H.push(`--outfile=${me}`),Tt&&H.push(`--outdir=${Tt}`),oe&&H.push(`--outbase=${oe}`),fe&&H.push(`--tsconfig=${fe}`),ne&&H.push(`--packages=${ne}`),ee){let he=[];for(let Dt of ee){if(Je(Dt,"resolve extension"),Dt.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${Dt}`);he.push(Dt)}H.push(`--resolve-extensions=${he.join(",")}`)}if(ce&&H.push(`--public-path=${ce}`),M&&H.push(`--entry-names=${M}`),I&&H.push(`--chunk-names=${I}`),se&&H.push(`--asset-names=${se}`),P){let he=[];for(let Dt of P){if(Je(Dt,"main field"),Dt.indexOf(",")>=0)throw new Error(`Invalid main field: ${Dt}`);he.push(Dt)}H.push(`--main-fields=${he.join(",")}`)}if(U){let he=[];for(let Dt of U){if(Je(Dt,"condition"),Dt.indexOf(",")>=0)throw new Error(`Invalid condition: ${Dt}`);he.push(Dt)}H.push(`--conditions=${he.join(",")}`)}if(q)for(let he of q)H.push(`--external:${Je(he,"external")}`);if(pe)for(let he in pe){if(he.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${he}`);H.push(`--alias:${he}=${Je(pe[he],"alias",he)}`)}if(_e)for(let he in _e){if(he.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${he}`);H.push(`--banner:${he}=${Je(_e[he],"banner",he)}`)}if(Le)for(let he in Le){if(he.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${he}`);H.push(`--footer:${he}=${Je(Le[he],"footer",he)}`)}if(re)for(let he of re)H.push(`--inject:${Je(he,"inject")}`);if(L)for(let he in L){if(he.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${he}`);H.push(`--loader:${he}=${Je(L[he],"loader",he)}`)}if(G)for(let he in G){if(he.indexOf("=")>=0)throw new Error(`Invalid out extension: ${he}`);H.push(`--out-extension:${he}=${Je(G[he],"out extension",he)}`)}if(Oe)if(Array.isArray(Oe))for(let he=0,Dt=Oe.length;he<Dt;he++){let $r=Oe[he];if(typeof $r=="object"&&$r!==null){let _a=Object.create(null),Mr=v($r,_a,"in",k),Ju=v($r,_a,"out",k);if($e($r,_a,"in entry point at index "+he),Mr===void 0)throw new Error('Missing property "in" for entry point at index '+he);if(Ju===void 0)throw new Error('Missing property "out" for entry point at index '+he);le.push([Ju,Mr])}else le.push(["",Je($r,"entry point at index "+he)])}else for(let he in Oe)le.push([he,Je(Oe[he],"entry point",he)]);if(rt){let he=Object.create(null),Dt=v(rt,he,"contents",Ee),$r=v(rt,he,"resolveDir",k),_a=v(rt,he,"sourcefile",k),Mr=v(rt,he,"loader",k);$e(rt,he,'in "stdin" object'),_a&&H.push(`--sourcefile=${_a}`),Mr&&H.push(`--loader=${Mr}`),$r&&(Ye=$r),typeof Dt=="string"?Ge=m(Dt):Dt instanceof Uint8Array&&(Ge=Dt)}let el=[];if($)for(let he of $)he+="",el.push(he);return{entries:le,flags:H,write:ot,stdinContents:Ge,stdinResolveDir:Ye,absWorkingDir:ft,nodePaths:el,mangleCache:Dn(Jt)}}function Pn(E,C,O,j){let X=[],W=Object.create(null);Hn(X,C,W,O,j),Me(X,C,W);let H=v(C,W,"sourcemap",Ce),le=v(C,W,"sourcefile",k),z=v(C,W,"loader",k),Ge=v(C,W,"banner",k),Ye=v(C,W,"footer",k),Se=v(C,W,"mangleCache",te);return $e(C,W,`in ${E}() call`),H&&X.push(`--sourcemap=${H===!0?"external":H}`),le&&X.push(`--sourcefile=${le}`),z&&X.push(`--loader=${z}`),Ge&&X.push(`--banner=${Ge}`),Ye&&X.push(`--footer=${Ye}`),{flags:X,mangleCache:Dn(Se)}}function $n(E){let C={},O={didClose:!1,reason:""},j={},X=0,W=0,H=new Uint8Array(16*1024),le=0,z=fe=>{let ee=le+fe.length;if(ee>H.length){let P=new Uint8Array(ee*2);P.set(H),H=P}H.set(fe,le),le+=fe.length;let $=0;for(;$+4<=le;){let P=x(H,$);if($+4+P>le)break;$+=4,je(H.subarray($,$+P)),$+=P}$>0&&(H.copyWithin(0,$,le),le-=$)},Ge=fe=>{O.didClose=!0,fe&&(O.reason=": "+(fe.message||fe));let ee="The service was stopped"+O.reason;for(let $ in j)j[$](ee,null);j={}},Ye=(fe,ee,$)=>{if(O.didClose)return $("The service is no longer running"+O.reason,null);let P=X++;j[P]=(U,q)=>{try{$(U,q)}finally{fe&&fe.unref()}},fe&&fe.ref(),E.writeToStdin(c({id:P,isRequest:!0,value:ee}))},Se=(fe,ee)=>{if(O.didClose)throw new Error("The service is no longer running"+O.reason);E.writeToStdin(c({id:fe,isRequest:!1,value:ee}))},ie=(fe,ee)=>l(this,null,function*(){try{if(ee.command==="ping"){Se(fe,{});return}if(typeof ee.key=="number"){let $=C[ee.key];if(!$)return;let P=$[ee.command];if(P){yield P(fe,ee);return}}throw new Error("Invalid command: "+ee.command)}catch($){let P=[kt($,E,null,void 0,"")];try{Se(fe,{errors:P})}catch(U){}}}),ve=!0,je=fe=>{if(ve){ve=!1;let $=String.fromCharCode(...fe);if($!=="0.25.2")throw new Error(`Cannot start service: Host version "0.25.2" does not match binary version ${g($)}`);return}let ee=f(fe);if(ee.isRequest)ie(ee.id,ee.value);else{let $=j[ee.id];delete j[ee.id],ee.value.error?$(ee.value.error,{}):$(null,ee.value)}};return{readFromStdout:z,afterClose:Ge,service:{buildOrContext:({callName:fe,refs:ee,options:$,isTTY:P,defaultWD:U,callback:q})=>{let ne=0,pe=W++,L={},G={ref(){++ne===1&&ee&&ee.ref()},unref(){--ne===0&&(delete C[pe],ee&&ee.unref())}};C[pe]=L,G.ref(),Er(fe,pe,Ye,Se,G,E,L,$,P,U,(ce,M)=>{try{q(ce,M)}finally{G.unref()}})},transform:({callName:fe,refs:ee,input:$,options:P,isTTY:U,fs:q,callback:ne})=>{let pe=Nn(),L=G=>{try{if(typeof $!="string"&&!($ instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:ce,mangleCache:M}=Pn(fe,P,U,S),I={command:"transform",flags:ce,inputFS:G!==null,input:G!==null?m(G):typeof $=="string"?m($):$};M&&(I.mangleCache=M),Ye(ee,I,(se,re)=>{if(se)return ne(new Error(se),null);let _e=wt(re.errors,pe),Le=wt(re.warnings,pe),Oe=1,ft=()=>{if(--Oe===0){let rt={warnings:Le,code:re.code,map:re.map,mangleCache:void 0,legalComments:void 0};"legalComments"in re&&(rt.legalComments=re==null?void 0:re.legalComments),re.mangleCache&&(rt.mangleCache=re==null?void 0:re.mangleCache),ne(null,rt)}};if(_e.length>0)return ne(J("Transform failed",_e,Le),null);re.codeFS&&(Oe++,q.readFile(re.code,(rt,ot)=>{rt!==null?ne(rt,null):(re.code=ot,ft())})),re.mapFS&&(Oe++,q.readFile(re.map,(rt,ot)=>{rt!==null?ne(rt,null):(re.map=ot,ft())})),ft()})}catch(ce){let M=[];try{Hn(M,P,{},U,S)}catch(se){}let I=kt(ce,E,pe,void 0,"");Ye(ee,{command:"error",flags:M,error:I},()=>{I.detail=pe.load(I.detail),ne(J("Transform failed",[I],[]),null)})}};if((typeof $=="string"||$ instanceof Uint8Array)&&$.length>1024*1024){let G=L;L=()=>q.writeFile($,G)}L(null)},formatMessages:({callName:fe,refs:ee,messages:$,options:P,callback:U})=>{if(!P)throw new Error(`Missing second argument in ${fe}() call`);let q={},ne=v(P,q,"kind",k),pe=v(P,q,"color",R),L=v(P,q,"terminalWidth",F);if($e(P,q,`in ${fe}() call`),ne===void 0)throw new Error(`Missing "kind" in ${fe}() call`);if(ne!=="error"&&ne!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${fe}() call`);let G={command:"format-msgs",messages:ct($,"messages",null,"",L),isWarning:ne==="warning"};pe!==void 0&&(G.color=pe),L!==void 0&&(G.terminalWidth=L),Ye(ee,G,(ce,M)=>{if(ce)return U(new Error(ce),null);U(null,M.messages)})},analyzeMetafile:({callName:fe,refs:ee,metafile:$,options:P,callback:U})=>{P===void 0&&(P={});let q={},ne=v(P,q,"color",R),pe=v(P,q,"verbose",R);$e(P,q,`in ${fe}() call`);let L={command:"analyze-metafile",metafile:$};ne!==void 0&&(L.color=ne),pe!==void 0&&(L.verbose=pe),Ye(ee,L,(G,ce)=>{if(G)return U(new Error(G),null);U(null,ce.result)})}}}}function Er(E,C,O,j,X,W,H,le,z,Ge,Ye){let Se=Nn(),ie=E==="context",ve=(me,Tt)=>{let oe=[];try{Hn(oe,le,{},z,y)}catch(ee){}let fe=kt(me,W,Se,void 0,Tt);O(X,{command:"error",flags:oe,error:fe},()=>{fe.detail=Se.load(fe.detail),Ye(J(ie?"Context failed":"Build failed",[fe],[]),null)})},je;if(typeof le=="object"){let me=le.plugins;if(me!==void 0){if(!Array.isArray(me))return ve(new Error('"plugins" must be an array'),"");je=me}}if(je&&je.length>0){if(W.isSync)return ve(new Error("Cannot use plugins in synchronous API calls"),"");kr(C,O,j,X,W,H,le,je,Se).then(me=>{if(!me.ok)return ve(me.error,me.pluginName);try{Ze(me.requestPlugins,me.runOnEndCallbacks,me.scheduleOnDisposeCallbacks)}catch(Tt){ve(Tt,"")}},me=>ve(me,""));return}try{Ze(null,(me,Tt)=>Tt([],[]),()=>{})}catch(me){ve(me,"")}function Ze(me,Tt,oe){let fe=W.hasFS,{entries:ee,flags:$,write:P,stdinContents:U,stdinResolveDir:q,absWorkingDir:ne,nodePaths:pe,mangleCache:L}=Ot(E,le,z,y,fe);if(P&&!W.hasFS)throw new Error('The "write" option is unavailable in this environment');let G={command:"build",key:C,entries:ee,flags:$,write:P,stdinContents:U,stdinResolveDir:q,absWorkingDir:ne||Ge,nodePaths:pe,context:ie};me&&(G.plugins=me),L&&(G.mangleCache=L);let ce=(se,re)=>{let _e={errors:wt(se.errors,Se),warnings:wt(se.warnings,Se),outputFiles:void 0,metafile:void 0,mangleCache:void 0},Le=_e.errors.slice(),Oe=_e.warnings.slice();se.outputFiles&&(_e.outputFiles=se.outputFiles.map(vn)),se.metafile&&(_e.metafile=JSON.parse(se.metafile)),se.mangleCache&&(_e.mangleCache=se.mangleCache),se.writeToStdout!==void 0&&console.log(w(se.writeToStdout).replace(/\n$/,"")),Tt(_e,(ft,rt)=>{if(Le.length>0||ft.length>0){let ot=J("Build failed",Le.concat(ft),Oe.concat(rt));return re(ot,null,ft,rt)}re(null,_e,ft,rt)})},M,I;ie&&(H["on-end"]=(se,re)=>new Promise(_e=>{ce(re,(Le,Oe,ft,rt)=>{let ot={errors:ft,warnings:rt};I&&I(Le,Oe),M=void 0,I=void 0,j(se,ot),_e()})})),O(X,G,(se,re)=>{if(se)return Ye(new Error(se),null);if(!ie)return ce(re,(Oe,ft)=>(oe(),Ye(Oe,ft)));if(re.errors.length>0)return Ye(J("Context failed",re.errors,re.warnings),null);let _e=!1,Le={rebuild:()=>(M||(M=new Promise((Oe,ft)=>{let rt;I=(Hr,Jt)=>{rt||(rt=()=>Hr?ft(Hr):Oe(Jt))};let ot=()=>{O(X,{command:"rebuild",key:C},(Jt,el)=>{Jt?ft(new Error(Jt)):rt?rt():ot()})};ot()})),M),watch:(Oe={})=>new Promise((ft,rt)=>{if(!W.hasFS)throw new Error('Cannot use the "watch" API in this environment');$e(Oe,{},"in watch() call"),O(X,{command:"watch",key:C},Jt=>{Jt?rt(new Error(Jt)):ft(void 0)})}),serve:(Oe={})=>new Promise((ft,rt)=>{if(!W.hasFS)throw new Error('Cannot use the "serve" API in this environment');let ot={},Hr=v(Oe,ot,"port",Ne),Jt=v(Oe,ot,"host",k),el=v(Oe,ot,"servedir",k),he=v(Oe,ot,"keyfile",k),Dt=v(Oe,ot,"certfile",k),$r=v(Oe,ot,"fallback",k),_a=v(Oe,ot,"onRequest",Te);$e(Oe,ot,"in serve() call");let Mr={command:"serve",key:C,onRequest:!!_a};Hr!==void 0&&(Mr.port=Hr),Jt!==void 0&&(Mr.host=Jt),el!==void 0&&(Mr.servedir=el),he!==void 0&&(Mr.keyfile=he),Dt!==void 0&&(Mr.certfile=Dt),$r!==void 0&&(Mr.fallback=$r),O(X,Mr,(Ju,PP)=>{if(Ju)return rt(new Error(Ju));_a&&(H["serve-request"]=(NP,IP)=>{_a(IP.args),j(NP,{})}),ft(PP)})}),cancel:()=>new Promise(Oe=>{if(_e)return Oe();O(X,{command:"cancel",key:C},()=>{Oe()})}),dispose:()=>new Promise(Oe=>{if(_e)return Oe();_e=!0,O(X,{command:"dispose",key:C},()=>{Oe(),oe(),X.unref()})})};X.ref(),Ye(null,Le)})}}var kr=(E,C,O,j,X,W,H,le,z)=>l(void 0,null,function*(){let Ge=[],Ye=[],Se={},ie={},ve=[],je=0,Ze=0,me=[],Tt=!1;le=[...le];for(let ee of le){let $={};if(typeof ee!="object")throw new Error(`Plugin at index ${Ze} must be an object`);let P=v(ee,$,"name",k);if(typeof P!="string"||P==="")throw new Error(`Plugin at index ${Ze} is missing a name`);try{let U=v(ee,$,"setup",Te);if(typeof U!="function")throw new Error("Plugin is missing a setup function");$e(ee,$,`on plugin ${g(P)}`);let q={name:P,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};Ze++;let pe=U({initialOptions:H,resolve:(L,G={})=>{if(!Tt)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof L!="string")throw new Error("The path to resolve must be a string");let ce=Object.create(null),M=v(G,ce,"pluginName",k),I=v(G,ce,"importer",k),se=v(G,ce,"namespace",k),re=v(G,ce,"resolveDir",k),_e=v(G,ce,"kind",k),Le=v(G,ce,"pluginData",T),Oe=v(G,ce,"with",te);return $e(G,ce,"in resolve() call"),new Promise((ft,rt)=>{let ot={command:"resolve",path:L,key:E,pluginName:P};if(M!=null&&(ot.pluginName=M),I!=null&&(ot.importer=I),se!=null&&(ot.namespace=se),re!=null&&(ot.resolveDir=re),_e!=null)ot.kind=_e;else throw new Error('Must specify "kind" when calling "resolve"');Le!=null&&(ot.pluginData=z.store(Le)),Oe!=null&&(ot.with=Lo(Oe,"with")),C(j,ot,(Hr,Jt)=>{Hr!==null?rt(new Error(Hr)):ft({errors:wt(Jt.errors,z),warnings:wt(Jt.warnings,z),path:Jt.path,external:Jt.external,sideEffects:Jt.sideEffects,namespace:Jt.namespace,suffix:Jt.suffix,pluginData:z.load(Jt.pluginData)})})})},onStart(L){let G='This error came from the "onStart" callback registered here:',ce=ht(new Error(G),X,"onStart");Ge.push({name:P,callback:L,note:ce}),q.onStart=!0},onEnd(L){let G='This error came from the "onEnd" callback registered here:',ce=ht(new Error(G),X,"onEnd");Ye.push({name:P,callback:L,note:ce}),q.onEnd=!0},onResolve(L,G){let ce='This error came from the "onResolve" callback registered here:',M=ht(new Error(ce),X,"onResolve"),I={},se=v(L,I,"filter",D),re=v(L,I,"namespace",k);if($e(L,I,`in onResolve() call for plugin ${g(P)}`),se==null)throw new Error("onResolve() call is missing a filter");let _e=je++;Se[_e]={name:P,callback:G,note:M},q.onResolve.push({id:_e,filter:N(se),namespace:re||""})},onLoad(L,G){let ce='This error came from the "onLoad" callback registered here:',M=ht(new Error(ce),X,"onLoad"),I={},se=v(L,I,"filter",D),re=v(L,I,"namespace",k);if($e(L,I,`in onLoad() call for plugin ${g(P)}`),se==null)throw new Error("onLoad() call is missing a filter");let _e=je++;ie[_e]={name:P,callback:G,note:M},q.onLoad.push({id:_e,filter:N(se),namespace:re||""})},onDispose(L){ve.push(L)},esbuild:X.esbuild});pe&&(yield pe),me.push(q)}catch(U){return{ok:!1,error:U,pluginName:P}}}W["on-start"]=(ee,$)=>l(void 0,null,function*(){z.clear();let P={errors:[],warnings:[]};yield Promise.all(Ge.map(U=>l(void 0,[U],function*({name:q,callback:ne,note:pe}){try{let L=yield ne();if(L!=null){if(typeof L!="object")throw new Error(`Expected onStart() callback in plugin ${g(q)} to return an object`);let G={},ce=v(L,G,"errors",B),M=v(L,G,"warnings",B);$e(L,G,`from onStart() callback in plugin ${g(q)}`),ce!=null&&P.errors.push(...ct(ce,"errors",z,q,void 0)),M!=null&&P.warnings.push(...ct(M,"warnings",z,q,void 0))}}catch(L){P.errors.push(kt(L,X,z,pe&&pe(),q))}}))),O(ee,P)}),W["on-resolve"]=(ee,$)=>l(void 0,null,function*(){let P={},U="",q,ne;for(let pe of $.ids)try{({name:U,callback:q,note:ne}=Se[pe]);let L=yield q({path:$.path,importer:$.importer,namespace:$.namespace,resolveDir:$.resolveDir,kind:$.kind,pluginData:z.load($.pluginData),with:$.with});if(L!=null){if(typeof L!="object")throw new Error(`Expected onResolve() callback in plugin ${g(U)} to return an object`);let G={},ce=v(L,G,"pluginName",k),M=v(L,G,"path",k),I=v(L,G,"namespace",k),se=v(L,G,"suffix",k),re=v(L,G,"external",R),_e=v(L,G,"sideEffects",R),Le=v(L,G,"pluginData",T),Oe=v(L,G,"errors",B),ft=v(L,G,"warnings",B),rt=v(L,G,"watchFiles",B),ot=v(L,G,"watchDirs",B);$e(L,G,`from onResolve() callback in plugin ${g(U)}`),P.id=pe,ce!=null&&(P.pluginName=ce),M!=null&&(P.path=M),I!=null&&(P.namespace=I),se!=null&&(P.suffix=se),re!=null&&(P.external=re),_e!=null&&(P.sideEffects=_e),Le!=null&&(P.pluginData=z.store(Le)),Oe!=null&&(P.errors=ct(Oe,"errors",z,U,void 0)),ft!=null&&(P.warnings=ct(ft,"warnings",z,U,void 0)),rt!=null&&(P.watchFiles=Ar(rt,"watchFiles")),ot!=null&&(P.watchDirs=Ar(ot,"watchDirs"));break}}catch(L){P={id:pe,errors:[kt(L,X,z,ne&&ne(),U)]};break}O(ee,P)}),W["on-load"]=(ee,$)=>l(void 0,null,function*(){let P={},U="",q,ne;for(let pe of $.ids)try{({name:U,callback:q,note:ne}=ie[pe]);let L=yield q({path:$.path,namespace:$.namespace,suffix:$.suffix,pluginData:z.load($.pluginData),with:$.with});if(L!=null){if(typeof L!="object")throw new Error(`Expected onLoad() callback in plugin ${g(U)} to return an object`);let G={},ce=v(L,G,"pluginName",k),M=v(L,G,"contents",Ee),I=v(L,G,"resolveDir",k),se=v(L,G,"pluginData",T),re=v(L,G,"loader",k),_e=v(L,G,"errors",B),Le=v(L,G,"warnings",B),Oe=v(L,G,"watchFiles",B),ft=v(L,G,"watchDirs",B);$e(L,G,`from onLoad() callback in plugin ${g(U)}`),P.id=pe,ce!=null&&(P.pluginName=ce),M instanceof Uint8Array?P.contents=M:M!=null&&(P.contents=m(M)),I!=null&&(P.resolveDir=I),se!=null&&(P.pluginData=z.store(se)),re!=null&&(P.loader=re),_e!=null&&(P.errors=ct(_e,"errors",z,U,void 0)),Le!=null&&(P.warnings=ct(Le,"warnings",z,U,void 0)),Oe!=null&&(P.watchFiles=Ar(Oe,"watchFiles")),ft!=null&&(P.watchDirs=Ar(ft,"watchDirs"));break}}catch(L){P={id:pe,errors:[kt(L,X,z,ne&&ne(),U)]};break}O(ee,P)});let oe=(ee,$)=>$([],[]);Ye.length>0&&(oe=(ee,$)=>{l(void 0,null,function*(){let P=[],U=[];for(let{name:q,callback:ne,note:pe}of Ye){let L,G;try{let ce=yield ne(ee);if(ce!=null){if(typeof ce!="object")throw new Error(`Expected onEnd() callback in plugin ${g(q)} to return an object`);let M={},I=v(ce,M,"errors",B),se=v(ce,M,"warnings",B);$e(ce,M,`from onEnd() callback in plugin ${g(q)}`),I!=null&&(L=ct(I,"errors",z,q,void 0)),se!=null&&(G=ct(se,"warnings",z,q,void 0))}}catch(ce){L=[kt(ce,X,z,pe&&pe(),q)]}if(L){P.push(...L);try{ee.errors.push(...L)}catch(ce){}}if(G){U.push(...G);try{ee.warnings.push(...G)}catch(ce){}}}$(P,U)})});let fe=()=>{for(let ee of ve)setTimeout(()=>ee(),0)};return Tt=!0,{ok:!0,requestPlugins:me,runOnEndCallbacks:oe,scheduleOnDisposeCallbacks:fe}});function Nn(){let E=new Map,C=0;return{clear(){E.clear()},load(O){return E.get(O)},store(O){if(O===void 0)return-1;let j=C++;return E.set(j,O),j}}}function ht(E,C,O){let j,X=!1;return()=>{if(X)return j;X=!0;try{let W=(E.stack+"").split(`
`);W.splice(1,1);let H=rn(C,W,O);if(H)return j={text:E.message,location:H},j}catch(W){}}}function kt(E,C,O,j,X){let W="Internal error",H=null;try{W=(E&&E.message||E)+""}catch(le){}try{H=rn(C,(E.stack+"").split(`
`),"")}catch(le){}return{id:"",pluginName:X,text:W,location:H,notes:j?[j]:[],detail:O?O.store(E):-1}}function rn(E,C,O){let j="    at ";if(E.readFileSync&&!C[0].startsWith(j)&&C[1].startsWith(j))for(let X=1;X<C.length;X++){let W=C[X];if(W.startsWith(j))for(W=W.slice(j.length);;){let H=/^(?:new |async )?\S+ \((.*)\)$/.exec(W);if(H){W=H[1];continue}if(H=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(W),H){W=H[1];continue}if(H=/^(\S+):(\d+):(\d+)$/.exec(W),H){let le;try{le=E.readFileSync(H[1],"utf8")}catch(Se){break}let z=le.split(/\r\n|\r|\n|\u2028|\u2029/)[+H[2]-1]||"",Ge=+H[3]-1,Ye=z.slice(Ge,Ge+O.length)===O?O.length:0;return{file:H[1],namespace:"file",line:+H[2],column:m(z.slice(0,Ge)).length,length:m(z.slice(Ge,Ge+Ye)).length,lineText:z+`
`+C.slice(1).join(`
`),suggestion:""}}break}}return null}function J(E,C,O){let j=5;E+=C.length<1?"":` with ${C.length} error${C.length<2?"":"s"}:`+C.slice(0,j+1).map((W,H)=>{if(H===j)return`
...`;if(!W.location)return`
error: ${W.text}`;let{file:le,line:z,column:Ge}=W.location,Ye=W.pluginName?`[plugin: ${W.pluginName}] `:"";return`
${le}:${z}:${Ge}: ERROR: ${Ye}${W.text}`}).join("");let X=new Error(E);for(let[W,H]of[["errors",C],["warnings",O]])Object.defineProperty(X,W,{configurable:!0,enumerable:!0,get:()=>H,set:le=>Object.defineProperty(X,W,{configurable:!0,enumerable:!0,value:le})});return X}function wt(E,C){for(let O of E)O.detail=C.load(O.detail);return E}function In(E,C,O){if(E==null)return null;let j={},X=v(E,j,"file",k),W=v(E,j,"namespace",k),H=v(E,j,"line",F),le=v(E,j,"column",F),z=v(E,j,"length",F),Ge=v(E,j,"lineText",k),Ye=v(E,j,"suggestion",k);if($e(E,j,C),Ge){let Se=Ge.slice(0,(le&&le>0?le:0)+(z&&z>0?z:0)+(O&&O>0?O:80));!/[\x7F-\uFFFF]/.test(Se)&&!/\n/.test(Ge)&&(Ge=Se)}return{file:X||"",namespace:W||"",line:H||0,column:le||0,length:z||0,lineText:Ge||"",suggestion:Ye||""}}function ct(E,C,O,j,X){let W=[],H=0;for(let le of E){let z={},Ge=v(le,z,"id",k),Ye=v(le,z,"pluginName",k),Se=v(le,z,"text",k),ie=v(le,z,"location",be),ve=v(le,z,"notes",B),je=v(le,z,"detail",T),Ze=`in element ${H} of "${C}"`;$e(le,z,Ze);let me=[];if(ve)for(let Tt of ve){let oe={},fe=v(Tt,oe,"text",k),ee=v(Tt,oe,"location",be);$e(Tt,oe,Ze),me.push({text:fe||"",location:In(ee,Ze,X)})}W.push({id:Ge||"",pluginName:Ye||j,text:Se||"",location:In(ie,Ze,X),notes:me,detail:O?O.store(je):-1}),H++}return W}function Ar(E,C){let O=[];for(let j of E){if(typeof j!="string")throw new Error(`${g(C)} must be an array of strings`);O.push(j)}return O}function Lo(E,C){let O=Object.create(null);for(let j in E){let X=E[j];if(typeof X!="string")throw new Error(`key ${g(j)} in object ${g(C)} must be a string`);O[j]=X}return O}function vn({path:E,contents:C,hash:O}){let j=null;return{path:E,contents:C,hash:O,get text(){let X=this.contents;return(j===null||X!==C)&&(C=X,j=w(X)),j}}}function N(E){let C=E.source;return E.flags&&(C=`(?${E.flags})${C}`),C}var Q="0.25.2",ke=E=>Ut().build(E),Ie=E=>Ut().context(E),We=(E,C)=>Ut().transform(E,C),bn=(E,C)=>Ut().formatMessages(E,C),ln=(E,C)=>Ut().analyzeMetafile(E,C),un=()=>{throw new Error('The "buildSync" API only works in node')},Zt=()=>{throw new Error('The "transformSync" API only works in node')},cn=()=>{throw new Error('The "formatMessagesSync" API only works in node')},Kt=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},Cr=()=>(Wn&&Wn(),Promise.resolve()),Lt,Wn,ca,Ut=()=>{if(ca)return ca;throw Lt?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},fa=E=>{E=Qn(E||{});let C=E.wasmURL,O=E.wasmModule,j=E.worker!==!1;if(!C&&!O)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(Lt)throw new Error('Cannot call "initialize" more than once');return Lt=Ja(C||"",O,j),Lt.catch(()=>{Lt=void 0}),Lt},Ja=(E,C,O)=>l(void 0,null,function*(){let j,X,W=new Promise(Se=>X=Se);if(O){let Se=new Blob([`onmessage=((postMessage) => {
      // Copyright 2018 The Go Authors. All rights reserved.
      // Use of this source code is governed by a BSD-style
      // license that can be found in the LICENSE file.
      var __async = (__this, __arguments, generator) => {
        return new Promise((resolve, reject) => {
          var fulfilled = (value) => {
            try {
              step(generator.next(value));
            } catch (e) {
              reject(e);
            }
          };
          var rejected = (value) => {
            try {
              step(generator.throw(value));
            } catch (e) {
              reject(e);
            }
          };
          var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
          step((generator = generator.apply(__this, __arguments)).next());
        });
      };
      let onmessage;
      let globalThis = {};
      for (let o = self; o; o = Object.getPrototypeOf(o))
        for (let k of Object.getOwnPropertyNames(o))
          if (!(k in globalThis))
            Object.defineProperty(globalThis, k, { get: () => self[k] });
      "use strict";
      (() => {
        const enosys = () => {
          const err = new Error("not implemented");
          err.code = "ENOSYS";
          return err;
        };
        if (!globalThis.fs) {
          let outputBuf = "";
          globalThis.fs = {
            constants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 },
            // unused
            writeSync(fd, buf) {
              outputBuf += decoder.decode(buf);
              const nl = outputBuf.lastIndexOf("\\n");
              if (nl != -1) {
                console.log(outputBuf.substring(0, nl));
                outputBuf = outputBuf.substring(nl + 1);
              }
              return buf.length;
            },
            write(fd, buf, offset, length, position, callback) {
              if (offset !== 0 || length !== buf.length || position !== null) {
                callback(enosys());
                return;
              }
              const n = this.writeSync(fd, buf);
              callback(null, n);
            },
            chmod(path, mode, callback) {
              callback(enosys());
            },
            chown(path, uid, gid, callback) {
              callback(enosys());
            },
            close(fd, callback) {
              callback(enosys());
            },
            fchmod(fd, mode, callback) {
              callback(enosys());
            },
            fchown(fd, uid, gid, callback) {
              callback(enosys());
            },
            fstat(fd, callback) {
              callback(enosys());
            },
            fsync(fd, callback) {
              callback(null);
            },
            ftruncate(fd, length, callback) {
              callback(enosys());
            },
            lchown(path, uid, gid, callback) {
              callback(enosys());
            },
            link(path, link, callback) {
              callback(enosys());
            },
            lstat(path, callback) {
              callback(enosys());
            },
            mkdir(path, perm, callback) {
              callback(enosys());
            },
            open(path, flags, mode, callback) {
              callback(enosys());
            },
            read(fd, buffer, offset, length, position, callback) {
              callback(enosys());
            },
            readdir(path, callback) {
              callback(enosys());
            },
            readlink(path, callback) {
              callback(enosys());
            },
            rename(from, to, callback) {
              callback(enosys());
            },
            rmdir(path, callback) {
              callback(enosys());
            },
            stat(path, callback) {
              callback(enosys());
            },
            symlink(path, link, callback) {
              callback(enosys());
            },
            truncate(path, length, callback) {
              callback(enosys());
            },
            unlink(path, callback) {
              callback(enosys());
            },
            utimes(path, atime, mtime, callback) {
              callback(enosys());
            }
          };
        }
        if (!globalThis.process) {
          globalThis.process = {
            getuid() {
              return -1;
            },
            getgid() {
              return -1;
            },
            geteuid() {
              return -1;
            },
            getegid() {
              return -1;
            },
            getgroups() {
              throw enosys();
            },
            pid: -1,
            ppid: -1,
            umask() {
              throw enosys();
            },
            cwd() {
              throw enosys();
            },
            chdir() {
              throw enosys();
            }
          };
        }
        if (!globalThis.crypto) {
          throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");
        }
        if (!globalThis.performance) {
          throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");
        }
        if (!globalThis.TextEncoder) {
          throw new Error("globalThis.TextEncoder is not available, polyfill required");
        }
        if (!globalThis.TextDecoder) {
          throw new Error("globalThis.TextDecoder is not available, polyfill required");
        }
        const encoder = new TextEncoder("utf-8");
        const decoder = new TextDecoder("utf-8");
        globalThis.Go = class {
          constructor() {
            this.argv = ["js"];
            this.env = {};
            this.exit = (code) => {
              if (code !== 0) {
                console.warn("exit code:", code);
              }
            };
            this._exitPromise = new Promise((resolve) => {
              this._resolveExitPromise = resolve;
            });
            this._pendingEvent = null;
            this._scheduledTimeouts = /* @__PURE__ */ new Map();
            this._nextCallbackTimeoutID = 1;
            const setInt64 = (addr, v) => {
              this.mem.setUint32(addr + 0, v, true);
              this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);
            };
            const setInt32 = (addr, v) => {
              this.mem.setUint32(addr + 0, v, true);
            };
            const getInt64 = (addr) => {
              const low = this.mem.getUint32(addr + 0, true);
              const high = this.mem.getInt32(addr + 4, true);
              return low + high * 4294967296;
            };
            const loadValue = (addr) => {
              const f = this.mem.getFloat64(addr, true);
              if (f === 0) {
                return void 0;
              }
              if (!isNaN(f)) {
                return f;
              }
              const id = this.mem.getUint32(addr, true);
              return this._values[id];
            };
            const storeValue = (addr, v) => {
              const nanHead = 2146959360;
              if (typeof v === "number" && v !== 0) {
                if (isNaN(v)) {
                  this.mem.setUint32(addr + 4, nanHead, true);
                  this.mem.setUint32(addr, 0, true);
                  return;
                }
                this.mem.setFloat64(addr, v, true);
                return;
              }
              if (v === void 0) {
                this.mem.setFloat64(addr, 0, true);
                return;
              }
              let id = this._ids.get(v);
              if (id === void 0) {
                id = this._idPool.pop();
                if (id === void 0) {
                  id = this._values.length;
                }
                this._values[id] = v;
                this._goRefCounts[id] = 0;
                this._ids.set(v, id);
              }
              this._goRefCounts[id]++;
              let typeFlag = 0;
              switch (typeof v) {
                case "object":
                  if (v !== null) {
                    typeFlag = 1;
                  }
                  break;
                case "string":
                  typeFlag = 2;
                  break;
                case "symbol":
                  typeFlag = 3;
                  break;
                case "function":
                  typeFlag = 4;
                  break;
              }
              this.mem.setUint32(addr + 4, nanHead | typeFlag, true);
              this.mem.setUint32(addr, id, true);
            };
            const loadSlice = (addr) => {
              const array = getInt64(addr + 0);
              const len = getInt64(addr + 8);
              return new Uint8Array(this._inst.exports.mem.buffer, array, len);
            };
            const loadSliceOfValues = (addr) => {
              const array = getInt64(addr + 0);
              const len = getInt64(addr + 8);
              const a = new Array(len);
              for (let i = 0; i < len; i++) {
                a[i] = loadValue(array + i * 8);
              }
              return a;
            };
            const loadString = (addr) => {
              const saddr = getInt64(addr + 0);
              const len = getInt64(addr + 8);
              return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));
            };
            const timeOrigin = Date.now() - performance.now();
            this.importObject = {
              _gotest: {
                add: (a, b) => a + b
              },
              gojs: {
                // Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)
                // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported
                // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).
                // This changes the SP, thus we have to update the SP used by the imported function.
                // func wasmExit(code int32)
                "runtime.wasmExit": (sp) => {
                  sp >>>= 0;
                  const code = this.mem.getInt32(sp + 8, true);
                  this.exited = true;
                  delete this._inst;
                  delete this._values;
                  delete this._goRefCounts;
                  delete this._ids;
                  delete this._idPool;
                  this.exit(code);
                },
                // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)
                "runtime.wasmWrite": (sp) => {
                  sp >>>= 0;
                  const fd = getInt64(sp + 8);
                  const p = getInt64(sp + 16);
                  const n = this.mem.getInt32(sp + 24, true);
                  globalThis.fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));
                },
                // func resetMemoryDataView()
                "runtime.resetMemoryDataView": (sp) => {
                  sp >>>= 0;
                  this.mem = new DataView(this._inst.exports.mem.buffer);
                },
                // func nanotime1() int64
                "runtime.nanotime1": (sp) => {
                  sp >>>= 0;
                  setInt64(sp + 8, (timeOrigin + performance.now()) * 1e6);
                },
                // func walltime() (sec int64, nsec int32)
                "runtime.walltime": (sp) => {
                  sp >>>= 0;
                  const msec = (/* @__PURE__ */ new Date()).getTime();
                  setInt64(sp + 8, msec / 1e3);
                  this.mem.setInt32(sp + 16, msec % 1e3 * 1e6, true);
                },
                // func scheduleTimeoutEvent(delay int64) int32
                "runtime.scheduleTimeoutEvent": (sp) => {
                  sp >>>= 0;
                  const id = this._nextCallbackTimeoutID;
                  this._nextCallbackTimeoutID++;
                  this._scheduledTimeouts.set(id, setTimeout(
                    () => {
                      this._resume();
                      while (this._scheduledTimeouts.has(id)) {
                        console.warn("scheduleTimeoutEvent: missed timeout event");
                        this._resume();
                      }
                    },
                    getInt64(sp + 8)
                  ));
                  this.mem.setInt32(sp + 16, id, true);
                },
                // func clearTimeoutEvent(id int32)
                "runtime.clearTimeoutEvent": (sp) => {
                  sp >>>= 0;
                  const id = this.mem.getInt32(sp + 8, true);
                  clearTimeout(this._scheduledTimeouts.get(id));
                  this._scheduledTimeouts.delete(id);
                },
                // func getRandomData(r []byte)
                "runtime.getRandomData": (sp) => {
                  sp >>>= 0;
                  crypto.getRandomValues(loadSlice(sp + 8));
                },
                // func finalizeRef(v ref)
                "syscall/js.finalizeRef": (sp) => {
                  sp >>>= 0;
                  const id = this.mem.getUint32(sp + 8, true);
                  this._goRefCounts[id]--;
                  if (this._goRefCounts[id] === 0) {
                    const v = this._values[id];
                    this._values[id] = null;
                    this._ids.delete(v);
                    this._idPool.push(id);
                  }
                },
                // func stringVal(value string) ref
                "syscall/js.stringVal": (sp) => {
                  sp >>>= 0;
                  storeValue(sp + 24, loadString(sp + 8));
                },
                // func valueGet(v ref, p string) ref
                "syscall/js.valueGet": (sp) => {
                  sp >>>= 0;
                  const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));
                  sp = this._inst.exports.getsp() >>> 0;
                  storeValue(sp + 32, result);
                },
                // func valueSet(v ref, p string, x ref)
                "syscall/js.valueSet": (sp) => {
                  sp >>>= 0;
                  Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));
                },
                // func valueDelete(v ref, p string)
                "syscall/js.valueDelete": (sp) => {
                  sp >>>= 0;
                  Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));
                },
                // func valueIndex(v ref, i int) ref
                "syscall/js.valueIndex": (sp) => {
                  sp >>>= 0;
                  storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));
                },
                // valueSetIndex(v ref, i int, x ref)
                "syscall/js.valueSetIndex": (sp) => {
                  sp >>>= 0;
                  Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));
                },
                // func valueCall(v ref, m string, args []ref) (ref, bool)
                "syscall/js.valueCall": (sp) => {
                  sp >>>= 0;
                  try {
                    const v = loadValue(sp + 8);
                    const m = Reflect.get(v, loadString(sp + 16));
                    const args = loadSliceOfValues(sp + 32);
                    const result = Reflect.apply(m, v, args);
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 56, result);
                    this.mem.setUint8(sp + 64, 1);
                  } catch (err) {
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 56, err);
                    this.mem.setUint8(sp + 64, 0);
                  }
                },
                // func valueInvoke(v ref, args []ref) (ref, bool)
                "syscall/js.valueInvoke": (sp) => {
                  sp >>>= 0;
                  try {
                    const v = loadValue(sp + 8);
                    const args = loadSliceOfValues(sp + 16);
                    const result = Reflect.apply(v, void 0, args);
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 40, result);
                    this.mem.setUint8(sp + 48, 1);
                  } catch (err) {
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 40, err);
                    this.mem.setUint8(sp + 48, 0);
                  }
                },
                // func valueNew(v ref, args []ref) (ref, bool)
                "syscall/js.valueNew": (sp) => {
                  sp >>>= 0;
                  try {
                    const v = loadValue(sp + 8);
                    const args = loadSliceOfValues(sp + 16);
                    const result = Reflect.construct(v, args);
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 40, result);
                    this.mem.setUint8(sp + 48, 1);
                  } catch (err) {
                    sp = this._inst.exports.getsp() >>> 0;
                    storeValue(sp + 40, err);
                    this.mem.setUint8(sp + 48, 0);
                  }
                },
                // func valueLength(v ref) int
                "syscall/js.valueLength": (sp) => {
                  sp >>>= 0;
                  setInt64(sp + 16, parseInt(loadValue(sp + 8).length));
                },
                // valuePrepareString(v ref) (ref, int)
                "syscall/js.valuePrepareString": (sp) => {
                  sp >>>= 0;
                  const str = encoder.encode(String(loadValue(sp + 8)));
                  storeValue(sp + 16, str);
                  setInt64(sp + 24, str.length);
                },
                // valueLoadString(v ref, b []byte)
                "syscall/js.valueLoadString": (sp) => {
                  sp >>>= 0;
                  const str = loadValue(sp + 8);
                  loadSlice(sp + 16).set(str);
                },
                // func valueInstanceOf(v ref, t ref) bool
                "syscall/js.valueInstanceOf": (sp) => {
                  sp >>>= 0;
                  this.mem.setUint8(sp + 24, loadValue(sp + 8) instanceof loadValue(sp + 16) ? 1 : 0);
                },
                // func copyBytesToGo(dst []byte, src ref) (int, bool)
                "syscall/js.copyBytesToGo": (sp) => {
                  sp >>>= 0;
                  const dst = loadSlice(sp + 8);
                  const src = loadValue(sp + 32);
                  if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {
                    this.mem.setUint8(sp + 48, 0);
                    return;
                  }
                  const toCopy = src.subarray(0, dst.length);
                  dst.set(toCopy);
                  setInt64(sp + 40, toCopy.length);
                  this.mem.setUint8(sp + 48, 1);
                },
                // func copyBytesToJS(dst ref, src []byte) (int, bool)
                "syscall/js.copyBytesToJS": (sp) => {
                  sp >>>= 0;
                  const dst = loadValue(sp + 8);
                  const src = loadSlice(sp + 16);
                  if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {
                    this.mem.setUint8(sp + 48, 0);
                    return;
                  }
                  const toCopy = src.subarray(0, dst.length);
                  dst.set(toCopy);
                  setInt64(sp + 40, toCopy.length);
                  this.mem.setUint8(sp + 48, 1);
                },
                "debug": (value) => {
                  console.log(value);
                }
              }
            };
          }
          run(instance) {
            return __async(this, null, function* () {
              if (!(instance instanceof WebAssembly.Instance)) {
                throw new Error("Go.run: WebAssembly.Instance expected");
              }
              this._inst = instance;
              this.mem = new DataView(this._inst.exports.mem.buffer);
              this._values = [
                // JS values that Go currently has references to, indexed by reference id
                NaN,
                0,
                null,
                true,
                false,
                globalThis,
                this
              ];
              this._goRefCounts = new Array(this._values.length).fill(Infinity);
              this._ids = /* @__PURE__ */ new Map([
                // mapping from JS values to reference ids
                [0, 1],
                [null, 2],
                [true, 3],
                [false, 4],
                [globalThis, 5],
                [this, 6]
              ]);
              this._idPool = [];
              this.exited = false;
              let offset = 4096;
              const strPtr = (str) => {
                const ptr = offset;
                const bytes = encoder.encode(str + "\\0");
                new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);
                offset += bytes.length;
                if (offset % 8 !== 0) {
                  offset += 8 - offset % 8;
                }
                return ptr;
              };
              const argc = this.argv.length;
              const argvPtrs = [];
              this.argv.forEach((arg) => {
                argvPtrs.push(strPtr(arg));
              });
              argvPtrs.push(0);
              const keys = Object.keys(this.env).sort();
              keys.forEach((key) => {
                argvPtrs.push(strPtr(\`\${key}=\${this.env[key]}\`));
              });
              argvPtrs.push(0);
              const argv = offset;
              argvPtrs.forEach((ptr) => {
                this.mem.setUint32(offset, ptr, true);
                this.mem.setUint32(offset + 4, 0, true);
                offset += 8;
              });
              const wasmMinDataAddr = 4096 + 8192;
              if (offset >= wasmMinDataAddr) {
                throw new Error("total length of command line and environment variables exceeds limit");
              }
              this._inst.exports.run(argc, argv);
              if (this.exited) {
                this._resolveExitPromise();
              }
              yield this._exitPromise;
            });
          }
          _resume() {
            if (this.exited) {
              throw new Error("Go program has already exited");
            }
            this._inst.exports.resume();
            if (this.exited) {
              this._resolveExitPromise();
            }
          }
          _makeFuncWrapper(id) {
            const go = this;
            return function() {
              const event = { id, this: this, args: arguments };
              go._pendingEvent = event;
              go._resume();
              return event.result;
            };
          }
        };
      })();
      onmessage = ({ data: wasm }) => {
        let decoder = new TextDecoder();
        let fs = globalThis.fs;
        let stderr = "";
        fs.writeSync = (fd, buffer) => {
          if (fd === 1) {
            postMessage(buffer);
          } else if (fd === 2) {
            stderr += decoder.decode(buffer);
            let parts = stderr.split("\\n");
            if (parts.length > 1) console.log(parts.slice(0, -1).join("\\n"));
            stderr = parts[parts.length - 1];
          } else {
            throw new Error("Bad write");
          }
          return buffer.length;
        };
        let stdin = [];
        let resumeStdin;
        let stdinPos = 0;
        onmessage = ({ data }) => {
          if (data.length > 0) {
            stdin.push(data);
            if (resumeStdin) resumeStdin();
          }
          return go;
        };
        fs.read = (fd, buffer, offset, length, position, callback) => {
          if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {
            throw new Error("Bad read");
          }
          if (stdin.length === 0) {
            resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);
            return;
          }
          let first = stdin[0];
          let count = Math.max(0, Math.min(length, first.length - stdinPos));
          buffer.set(first.subarray(stdinPos, stdinPos + count), offset);
          stdinPos += count;
          if (stdinPos === first.length) {
            stdin.shift();
            stdinPos = 0;
          }
          callback(null, count);
        };
        let go = new globalThis.Go();
        go.argv = ["", \`--service=\${"0.25.2"}\`];
        tryToInstantiateModule(wasm, go).then(
          (instance) => {
            postMessage(null);
            go.run(instance);
          },
          (error) => {
            postMessage(error);
          }
        );
        return go;
      };
      function tryToInstantiateModule(wasm, go) {
        return __async(this, null, function* () {
          if (wasm instanceof WebAssembly.Module) {
            return WebAssembly.instantiate(wasm, go.importObject);
          }
          const res = yield fetch(wasm);
          if (!res.ok) throw new Error(\`Failed to download \${JSON.stringify(wasm)}\`);
          if ("instantiateStreaming" in WebAssembly && /^application\\/wasm($|;)/i.test(res.headers.get("Content-Type") || "")) {
            const result2 = yield WebAssembly.instantiateStreaming(res, go.importObject);
            return result2.instance;
          }
          const bytes = yield res.arrayBuffer();
          const result = yield WebAssembly.instantiate(bytes, go.importObject);
          return result.instance;
        });
      }
      return (m) => onmessage(m);
    })(postMessage)`],{type:"text/javascript"});j=new Worker(URL.createObjectURL(Se))}else{let Se=(ve=>{var je=(oe,fe,ee)=>new Promise(($,P)=>{var U=pe=>{try{ne(ee.next(pe))}catch(L){P(L)}},q=pe=>{try{ne(ee.throw(pe))}catch(L){P(L)}},ne=pe=>pe.done?$(pe.value):Promise.resolve(pe.value).then(U,q);ne((ee=ee.apply(oe,fe)).next())});let Ze,me={};for(let oe=self;oe;oe=Object.getPrototypeOf(oe))for(let fe of Object.getOwnPropertyNames(oe))fe in me||Object.defineProperty(me,fe,{get:()=>self[fe]});(()=>{let oe=()=>{let $=new Error("not implemented");return $.code="ENOSYS",$};if(!me.fs){let $="";me.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(P,U){$+=ee.decode(U);let q=$.lastIndexOf(`
`);return q!=-1&&(console.log($.substring(0,q)),$=$.substring(q+1)),U.length},write(P,U,q,ne,pe,L){if(q!==0||ne!==U.length||pe!==null){L(oe());return}let G=this.writeSync(P,U);L(null,G)},chmod(P,U,q){q(oe())},chown(P,U,q,ne){ne(oe())},close(P,U){U(oe())},fchmod(P,U,q){q(oe())},fchown(P,U,q,ne){ne(oe())},fstat(P,U){U(oe())},fsync(P,U){U(null)},ftruncate(P,U,q){q(oe())},lchown(P,U,q,ne){ne(oe())},link(P,U,q){q(oe())},lstat(P,U){U(oe())},mkdir(P,U,q){q(oe())},open(P,U,q,ne){ne(oe())},read(P,U,q,ne,pe,L){L(oe())},readdir(P,U){U(oe())},readlink(P,U){U(oe())},rename(P,U,q){q(oe())},rmdir(P,U){U(oe())},stat(P,U){U(oe())},symlink(P,U,q){q(oe())},truncate(P,U,q){q(oe())},unlink(P,U){U(oe())},utimes(P,U,q,ne){ne(oe())}}}if(me.process||(me.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw oe()},pid:-1,ppid:-1,umask(){throw oe()},cwd(){throw oe()},chdir(){throw oe()}}),!me.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!me.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!me.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!me.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");let fe=new TextEncoder("utf-8"),ee=new TextDecoder("utf-8");me.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=M=>{M!==0&&console.warn("exit code:",M)},this._exitPromise=new Promise(M=>{this._resolveExitPromise=M}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;let $=(M,I)=>{this.mem.setUint32(M+0,I,!0),this.mem.setUint32(M+4,Math.floor(I/4294967296),!0)},P=(M,I)=>{this.mem.setUint32(M+0,I,!0)},U=M=>{let I=this.mem.getUint32(M+0,!0),se=this.mem.getInt32(M+4,!0);return I+se*4294967296},q=M=>{let I=this.mem.getFloat64(M,!0);if(I===0)return;if(!isNaN(I))return I;let se=this.mem.getUint32(M,!0);return this._values[se]},ne=(M,I)=>{if(typeof I=="number"&&I!==0){if(isNaN(I)){this.mem.setUint32(M+4,2146959360,!0),this.mem.setUint32(M,0,!0);return}this.mem.setFloat64(M,I,!0);return}if(I===void 0){this.mem.setFloat64(M,0,!0);return}let re=this._ids.get(I);re===void 0&&(re=this._idPool.pop(),re===void 0&&(re=this._values.length),this._values[re]=I,this._goRefCounts[re]=0,this._ids.set(I,re)),this._goRefCounts[re]++;let _e=0;switch(typeof I){case"object":I!==null&&(_e=1);break;case"string":_e=2;break;case"symbol":_e=3;break;case"function":_e=4;break}this.mem.setUint32(M+4,2146959360|_e,!0),this.mem.setUint32(M,re,!0)},pe=M=>{let I=U(M+0),se=U(M+8);return new Uint8Array(this._inst.exports.mem.buffer,I,se)},L=M=>{let I=U(M+0),se=U(M+8),re=new Array(se);for(let _e=0;_e<se;_e++)re[_e]=q(I+_e*8);return re},G=M=>{let I=U(M+0),se=U(M+8);return ee.decode(new DataView(this._inst.exports.mem.buffer,I,se))},ce=Date.now()-performance.now();this.importObject={_gotest:{add:(M,I)=>M+I},gojs:{"runtime.wasmExit":M=>{M>>>=0;let I=this.mem.getInt32(M+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(I)},"runtime.wasmWrite":M=>{M>>>=0;let I=U(M+8),se=U(M+16),re=this.mem.getInt32(M+24,!0);me.fs.writeSync(I,new Uint8Array(this._inst.exports.mem.buffer,se,re))},"runtime.resetMemoryDataView":M=>{M>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":M=>{M>>>=0,$(M+8,(ce+performance.now())*1e6)},"runtime.walltime":M=>{M>>>=0;let I=new Date().getTime();$(M+8,I/1e3),this.mem.setInt32(M+16,I%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":M=>{M>>>=0;let I=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(I,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(I);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},U(M+8))),this.mem.setInt32(M+16,I,!0)},"runtime.clearTimeoutEvent":M=>{M>>>=0;let I=this.mem.getInt32(M+8,!0);clearTimeout(this._scheduledTimeouts.get(I)),this._scheduledTimeouts.delete(I)},"runtime.getRandomData":M=>{M>>>=0,crypto.getRandomValues(pe(M+8))},"syscall/js.finalizeRef":M=>{M>>>=0;let I=this.mem.getUint32(M+8,!0);if(this._goRefCounts[I]--,this._goRefCounts[I]===0){let se=this._values[I];this._values[I]=null,this._ids.delete(se),this._idPool.push(I)}},"syscall/js.stringVal":M=>{M>>>=0,ne(M+24,G(M+8))},"syscall/js.valueGet":M=>{M>>>=0;let I=Reflect.get(q(M+8),G(M+16));M=this._inst.exports.getsp()>>>0,ne(M+32,I)},"syscall/js.valueSet":M=>{M>>>=0,Reflect.set(q(M+8),G(M+16),q(M+32))},"syscall/js.valueDelete":M=>{M>>>=0,Reflect.deleteProperty(q(M+8),G(M+16))},"syscall/js.valueIndex":M=>{M>>>=0,ne(M+24,Reflect.get(q(M+8),U(M+16)))},"syscall/js.valueSetIndex":M=>{M>>>=0,Reflect.set(q(M+8),U(M+16),q(M+24))},"syscall/js.valueCall":M=>{M>>>=0;try{let I=q(M+8),se=Reflect.get(I,G(M+16)),re=L(M+32),_e=Reflect.apply(se,I,re);M=this._inst.exports.getsp()>>>0,ne(M+56,_e),this.mem.setUint8(M+64,1)}catch(I){M=this._inst.exports.getsp()>>>0,ne(M+56,I),this.mem.setUint8(M+64,0)}},"syscall/js.valueInvoke":M=>{M>>>=0;try{let I=q(M+8),se=L(M+16),re=Reflect.apply(I,void 0,se);M=this._inst.exports.getsp()>>>0,ne(M+40,re),this.mem.setUint8(M+48,1)}catch(I){M=this._inst.exports.getsp()>>>0,ne(M+40,I),this.mem.setUint8(M+48,0)}},"syscall/js.valueNew":M=>{M>>>=0;try{let I=q(M+8),se=L(M+16),re=Reflect.construct(I,se);M=this._inst.exports.getsp()>>>0,ne(M+40,re),this.mem.setUint8(M+48,1)}catch(I){M=this._inst.exports.getsp()>>>0,ne(M+40,I),this.mem.setUint8(M+48,0)}},"syscall/js.valueLength":M=>{M>>>=0,$(M+16,parseInt(q(M+8).length))},"syscall/js.valuePrepareString":M=>{M>>>=0;let I=fe.encode(String(q(M+8)));ne(M+16,I),$(M+24,I.length)},"syscall/js.valueLoadString":M=>{M>>>=0;let I=q(M+8);pe(M+16).set(I)},"syscall/js.valueInstanceOf":M=>{M>>>=0,this.mem.setUint8(M+24,q(M+8)instanceof q(M+16)?1:0)},"syscall/js.copyBytesToGo":M=>{M>>>=0;let I=pe(M+8),se=q(M+32);if(!(se instanceof Uint8Array||se instanceof Uint8ClampedArray)){this.mem.setUint8(M+48,0);return}let re=se.subarray(0,I.length);I.set(re),$(M+40,re.length),this.mem.setUint8(M+48,1)},"syscall/js.copyBytesToJS":M=>{M>>>=0;let I=q(M+8),se=pe(M+16);if(!(I instanceof Uint8Array||I instanceof Uint8ClampedArray)){this.mem.setUint8(M+48,0);return}let re=se.subarray(0,I.length);I.set(re),$(M+40,re.length),this.mem.setUint8(M+48,1)},debug:M=>{console.log(M)}}}}run($){return je(this,null,function*(){if(!($ instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=$,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,me,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[me,5],[this,6]]),this._idPool=[],this.exited=!1;let P=4096,U=ce=>{let M=P,I=fe.encode(ce+"\0");return new Uint8Array(this.mem.buffer,P,I.length).set(I),P+=I.length,P%8!==0&&(P+=8-P%8),M},q=this.argv.length,ne=[];this.argv.forEach(ce=>{ne.push(U(ce))}),ne.push(0),Object.keys(this.env).sort().forEach(ce=>{ne.push(U(`${ce}=${this.env[ce]}`))}),ne.push(0);let L=P;ne.forEach(ce=>{this.mem.setUint32(P,ce,!0),this.mem.setUint32(P+4,0,!0),P+=8});let G=4096+8192;if(P>=G)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(q,L),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper($){let P=this;return function(){let U={id:$,this:this,args:arguments};return P._pendingEvent=U,P._resume(),U.result}}}})(),Ze=({data:oe})=>{let fe=new TextDecoder,ee=me.fs,$="";ee.writeSync=(pe,L)=>{if(pe===1)ve(L);else if(pe===2){$+=fe.decode(L);let G=$.split(`
`);G.length>1&&console.log(G.slice(0,-1).join(`
`)),$=G[G.length-1]}else throw new Error("Bad write");return L.length};let P=[],U,q=0;Ze=({data:pe})=>(pe.length>0&&(P.push(pe),U&&U()),ne),ee.read=(pe,L,G,ce,M,I)=>{if(pe!==0||G!==0||ce!==L.length||M!==null)throw new Error("Bad read");if(P.length===0){U=()=>ee.read(pe,L,G,ce,M,I);return}let se=P[0],re=Math.max(0,Math.min(ce,se.length-q));L.set(se.subarray(q,q+re),G),q+=re,q===se.length&&(P.shift(),q=0),I(null,re)};let ne=new me.Go;return ne.argv=["","--service=0.25.2"],Tt(oe,ne).then(pe=>{ve(null),ne.run(pe)},pe=>{ve(pe)}),ne};function Tt(oe,fe){return je(this,null,function*(){if(oe instanceof WebAssembly.Module)return WebAssembly.instantiate(oe,fe.importObject);let ee=yield fetch(oe);if(!ee.ok)throw new Error(`Failed to download ${JSON.stringify(oe)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(ee.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(ee,fe.importObject)).instance;let $=yield ee.arrayBuffer();return(yield WebAssembly.instantiate($,fe.importObject)).instance})}return oe=>Ze(oe)})(ve=>j.onmessage({data:ve})),ie;j={onmessage:null,postMessage:ve=>setTimeout(()=>{try{ie=Se({data:ve})}catch(je){X(je)}}),terminate(){if(ie)for(let ve of ie._scheduledTimeouts.values())clearTimeout(ve)}}}let H,le,z=new Promise((Se,ie)=>{H=Se,le=ie});j.onmessage=({data:Se})=>{j.onmessage=({data:ie})=>Ge(ie),Se?le(Se):H()},j.postMessage(C||new URL(E,location.href).toString());let{readFromStdout:Ge,service:Ye}=$n({writeToStdin(Se){j.postMessage(Se)},isSync:!1,hasFS:!1,esbuild:u});yield z,Wn=()=>{j.terminate(),Lt=void 0,Wn=void 0,ca=void 0},ca={build:Se=>new Promise((ie,ve)=>{W.then(ve),Ye.buildOrContext({callName:"build",refs:null,options:Se,isTTY:!1,defaultWD:"/",callback:(je,Ze)=>je?ve(je):ie(Ze)})}),context:Se=>new Promise((ie,ve)=>{W.then(ve),Ye.buildOrContext({callName:"context",refs:null,options:Se,isTTY:!1,defaultWD:"/",callback:(je,Ze)=>je?ve(je):ie(Ze)})}),transform:(Se,ie)=>new Promise((ve,je)=>{W.then(je),Ye.transform({callName:"transform",refs:null,input:Se,options:ie||{},isTTY:!1,fs:{readFile(Ze,me){me(new Error("Internal error"),null)},writeFile(Ze,me){me(null)}},callback:(Ze,me)=>Ze?je(Ze):ve(me)})}),formatMessages:(Se,ie)=>new Promise((ve,je)=>{W.then(je),Ye.formatMessages({callName:"formatMessages",refs:null,messages:Se,options:ie,callback:(Ze,me)=>Ze?je(Ze):ve(me)})}),analyzeMetafile:(Se,ie)=>new Promise((ve,je)=>{W.then(je),Ye.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof Se=="string"?Se:JSON.stringify(Se),options:ie,callback:(Ze,me)=>Ze?je(Ze):ve(me)})})}}),Xa=u})(typeof iw=="object"?iw:{set exports(e){(typeof self!="undefined"?self:this).esbuild=e}})});var RP={};fp(RP,{createBundler:()=>xq});function xq(e,t,n){let r=!1,a=Fn.default.join(n.app.plugins.getPluginFolder(),n.manifest.id);async function i(){if(!r)try{let s=t(Fn.default.join(a,"esbuild-0.25.2.wasm"));try{let l=e.getResourcePath(s);await Ws.initialize({wasmURL:l,worker:!1}),r=!0,console.debug("[bundler] esbuild initialized with local WASM file",l)}catch(l){console.warn("[bundler] Failed to initialize esbuild with local WASM file, falling back to CDN:",l),await Ws.initialize({wasmURL:"https://unpkg.com/esbuild-wasm@0.25.2/esbuild.wasm",worker:!1}),r=!0,console.debug("[bundler] esbuild initialized with CDN WASM file: ")}}catch(s){throw console.error("[bundler] Failed to initialize esbuild:",s),s}}async function o(s,l={sourcemap:!1}){r||await i();try{let u=e.getBasePath(),c;if(Fn.default.isAbsolute(s)?c=s:c=Fn.default.join(u,s),console.debug(`[bundler] Absolute entry path: ${c}`),!await e.exists(s))throw new Error(`Entry point does not exist: ${s}`);let f=Fn.default.dirname(s),p=Fn.default.join(f,"manifest.json");if(!await e.exists(p))throw new Error("manifest.json not found in plugin directory");console.debug(`[bundler] Starting bundling for entry point: ${s}`);let w=await Ws.build({entryPoints:[c],bundle:!0,write:!1,format:"cjs",platform:"browser",target:"es2018",plugins:[{name:"obsidian-fs",setup:b=>{let x=new Map;x.set(s,c),b.onResolve({filter:/.*/},h=>{if(console.debug(`[esbuild] Resolving: ${h.path} from ${h.importer}`),!h.path.startsWith(".")&&!Fn.default.isAbsolute(h.path))return{path:h.path,external:!0};let g;if(Fn.default.isAbsolute(h.path))g=h.path;else if(h.importer){let y=Fn.default.dirname(x.get(h.importer)||h.importer);g=Fn.default.join(y,h.path)}else g=Fn.default.join(u,h.path);return x.set(h.path,g),{path:g,namespace:"obsidian-fs"}}),b.onLoad({filter:/.*/,namespace:"obsidian-fs"},async h=>{try{console.debug(`[esbuild] Loading: ${h.path}`);let g=h.path.startsWith(u)?h.path.slice(u.length+1):h.path,y=h.path,S=g;if(await e.exists(S)){let _=await e.read(S),T=Fn.default.extname(y).slice(1).toLowerCase();return{contents:_,loader:T==="tsx"?"tsx":T==="jsx"?"jsx":T==="js"?"js":T==="json"?"json":"ts"}}if(!Fn.default.extname(y)){let _=[".ts",".tsx",".js",".jsx",".json"];for(let T of _){let R=S+T;if(await e.exists(R)){let k=await e.read(R),D=T.slice(1).toLowerCase();return{contents:k,loader:D==="tsx"?"tsx":D==="jsx"?"jsx":D==="js"?"js":D==="json"?"json":"ts"}}}for(let T of _){let R=Fn.default.join(S,`index${T}`);if(await e.exists(R)){let k=await e.read(R),D=T.slice(1).toLowerCase();return{contents:k,loader:D==="tsx"?"tsx":D==="jsx"?"jsx":D==="js"?"js":D==="json"?"json":"ts"}}}}return{errors:[{text:`File not found: ${g}`}]}}catch(g){return{errors:[{text:g.message}]}}})}}],minify:!1,sourcemap:l.sourcemap,treeShaking:!0,logLevel:"info"});if(w.outputFiles&&w.outputFiles.length>0){let b=w.outputFiles[0].text,x=Fn.default.join(Fn.default.dirname(s),"main.js");return await e.write(x,b),{success:!0,outputPath:x}}throw new Error("No output generated from esbuild")}catch(u){return console.error("Bundle failed:",u),{success:!1,error:u}}}return{initialize:i,bundle:o,stop:()=>Ws.stop()}}var Ws,Fn,OP=BP(()=>{Ws=Ae(MP()),Fn=Ae(require("path"))});var _q={};fp(_q,{default:()=>Tq});module.exports=qP(_q);var On=require("obsidian");var sw="vercel.ai.error",FP=Symbol.for(sw),lw,HP=class uw extends Error{constructor({name:t,message:n,cause:r}){super(n),this[lw]=!0,this.name=t,this.cause=r}static isInstance(t){return uw.hasMarker(t,sw)}static hasMarker(t,n){let r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};lw=FP;var ye=HP,cw="AI_APICallError",fw=`vercel.ai.error.${cw}`,$P=Symbol.for(fw),pw,fn=class extends ye{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:a,responseBody:i,cause:o,isRetryable:s=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:cw,message:e,cause:o}),this[pw]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=a,this.responseBody=i,this.isRetryable=s,this.data=l}static isInstance(e){return ye.hasMarker(e,fw)}};pw=$P;var dw="AI_EmptyResponseBodyError",mw=`vercel.ai.error.${dw}`,GP=Symbol.for(mw),hw,Mg=class extends ye{constructor({message:e="Empty response body"}={}){super({name:dw,message:e}),this[hw]=!0}static isInstance(e){return ye.hasMarker(e,mw)}};hw=GP;function Li(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var gw="AI_InvalidArgumentError",yw=`vercel.ai.error.${gw}`,YP=Symbol.for(yw),vw,pp=class extends ye{constructor({message:e,cause:t,argument:n}){super({name:gw,message:e,cause:t}),this[vw]=!0,this.argument=n}static isInstance(e){return ye.hasMarker(e,yw)}};vw=YP;var bw="AI_InvalidPromptError",xw=`vercel.ai.error.${bw}`,ZP=Symbol.for(xw),ww,pa=class extends ye{constructor({prompt:e,message:t,cause:n}){super({name:bw,message:`Invalid prompt: ${t}`,cause:n}),this[ww]=!0,this.prompt=e}static isInstance(e){return ye.hasMarker(e,xw)}};ww=ZP;var Sw="AI_InvalidResponseDataError",Tw=`vercel.ai.error.${Sw}`,KP=Symbol.for(Tw),_w,Xu=class extends ye{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Sw,message:t}),this[_w]=!0,this.data=e}static isInstance(e){return ye.hasMarker(e,Tw)}};_w=KP;var Ew="AI_JSONParseError",kw=`vercel.ai.error.${Ew}`,JP=Symbol.for(kw),Aw,tl=class extends ye{constructor({text:e,cause:t}){super({name:Ew,message:`JSON parsing failed: Text: ${e}.
Error message: ${Li(t)}`,cause:t}),this[Aw]=!0,this.text=e}static isInstance(e){return ye.hasMarker(e,kw)}};Aw=JP;var Cw="AI_LoadAPIKeyError",Mw=`vercel.ai.error.${Cw}`,XP=Symbol.for(Mw),Rw,nl=class extends ye{constructor({message:e}){super({name:Cw,message:e}),this[Rw]=!0}static isInstance(e){return ye.hasMarker(e,Mw)}};Rw=XP;var QP="AI_LoadSettingError",WP=`vercel.ai.error.${QP}`,eN=Symbol.for(WP),tN;tN=eN;var nN="AI_NoContentGeneratedError",rN=`vercel.ai.error.${nN}`,aN=Symbol.for(rN),iN;iN=aN;var Ow="AI_NoSuchModelError",Dw=`vercel.ai.error.${Ow}`,oN=Symbol.for(Dw),Pw,Rg=class extends ye{constructor({errorName:e=Ow,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[Pw]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return ye.hasMarker(e,Dw)}};Pw=oN;var Nw="AI_TooManyEmbeddingValuesForCallError",Iw=`vercel.ai.error.${Nw}`,sN=Symbol.for(Iw),jw,Lw=class extends ye{constructor(e){super({name:Nw,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[jw]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return ye.hasMarker(e,Iw)}};jw=sN;var Vw="AI_TypeValidationError",Uw=`vercel.ai.error.${Vw}`,lN=Symbol.for(Uw),zw,uN=class Cg extends ye{constructor({value:t,cause:n}){super({name:Vw,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Li(n)}`,cause:n}),this[zw]=!0,this.value=t}static isInstance(t){return ye.hasMarker(t,Uw)}static wrap({value:t,cause:n}){return Cg.isInstance(n)&&n.value===t?n:new Cg({value:t,cause:n})}};zw=lN;var Vo=uN,Bw="AI_UnsupportedFunctionalityError",qw=`vercel.ai.error.${Bw}`,cN=Symbol.for(qw),Fw,ut=class extends ye{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Bw,message:t}),this[Fw]=!0,this.functionality=e}static isInstance(e){return ye.hasMarker(e,qw)}};Fw=cN;var Hw=(e,t=21)=>(n=t)=>{let r="",a=n|0;for(;a--;)r+=e[Math.random()*e.length|0];return r};var mp=Ae(Kw(),1);function pn(...e){return e.reduce((t,n)=>({...t,...n!=null?n:{}}),{})}function Jw(e){return new ReadableStream({async pull(t){try{let{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(n){t.error(n)}},cancel(){}})}async function Xw(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function dN(){let e="",t,n=[],r,a;function i(l,u){if(l===""){o(u);return}if(l.startsWith(":"))return;let c=l.indexOf(":");if(c===-1){s(l,"");return}let f=l.slice(0,c),p=c+1,m=p<l.length&&l[p]===" "?l.slice(p+1):l.slice(p);s(f,m)}function o(l){n.length>0&&(l.enqueue({event:t,data:n.join(`
`),id:r,retry:a}),n=[],t=void 0,a=void 0)}function s(l,u){switch(l){case"event":t=u;break;case"data":n.push(u);break;case"id":r=u;break;case"retry":let c=parseInt(u,10);isNaN(c)||(a=c);break}}return new TransformStream({transform(l,u){let{lines:c,incompleteLine:f}=mN(e,l);e=f;for(let p=0;p<c.length;p++)i(c[p],u)},flush(l){i(e,l),o(l)}})}function mN(e,t){let n=[],r=e;for(let a=0;a<t.length;){let i=t[a++];i===`
`?(n.push(r),r=""):i==="\r"?(n.push(r),r="",t[a+1]===`
`&&a++):r+=i}return{lines:n,incompleteLine:r}}function ec(e){let t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var Gr=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{let a=Hw(n,t);if(e==null)return a;if(n.includes(r))throw new pp({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return i=>`${e}${r}${a(i)}`},Gn=Gr();function Qw(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function hN(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function Qu(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function dp({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new nl({message:`${r} API key must be a string.`});if(typeof process=="undefined")throw new nl({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new nl({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new nl({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var Wu=Symbol.for("vercel.ai.validator");function gN(e){return{[Wu]:!0,validate:e}}function yN(e){return typeof e=="object"&&e!==null&&Wu in e&&e[Wu]===!0&&"validate"in e}function vN(e){return yN(e)?e:bN(e)}function bN(e){return gN(t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function xN({value:e,schema:t}){let n=Qa({value:e,schema:t});if(!n.success)throw Vo.wrap({value:e,cause:n.error});return n.value}function Qa({value:e,schema:t}){let n=vN(t);try{if(n.validate==null)return{success:!0,value:e};let r=n.validate(e);return r.success?r:{success:!1,error:Vo.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:Vo.wrap({value:e,cause:r})}}}function wN({text:e,schema:t}){try{let n=mp.default.parse(e);return t==null?n:xN({value:n,schema:t})}catch(n){throw tl.isInstance(n)||Vo.isInstance(n)?n:new tl({text:e,cause:n})}}function Ea({text:e,schema:t}){try{let n=mp.default.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};let r=Qa({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:tl.isInstance(n)?n:new tl({text:e,cause:n})}}}function Dg(e){try{return mp.default.parse(e),!0}catch(t){return!1}}function Vi({provider:e,providerOptions:t,schema:n}){if((t==null?void 0:t[e])==null)return;let r=Qa({value:t[e],schema:n});if(!r.success)throw new pp({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var SN=()=>globalThis.fetch,wn=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eS({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:a,abortSignal:i,fetch:o}),Ww=async({url:e,headers:t,formData:n,failedResponseHandler:r,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eS({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:r,successfulResponseHandler:a,abortSignal:i,fetch:o}),eS=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:a,abortSignal:i,fetch:o=SN()})=>{try{let s=await o(e,{method:"POST",headers:hN(t),body:n.content,signal:i}),l=ec(s);if(!s.ok){let u;try{u=await a({response:s,url:e,requestBodyValues:n.values})}catch(c){throw Qu(c)||fn.isInstance(c)?c:new fn({message:"Failed to process error response",cause:c,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw u.value}try{return await r({response:s,url:e,requestBodyValues:n.values})}catch(u){throw u instanceof Error&&(Qu(u)||fn.isInstance(u))?u:new fn({message:"Failed to process successful response",cause:u,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(s){if(Qu(s))throw s;if(s instanceof TypeError&&s.message==="fetch failed"){let l=s.cause;if(l!=null)throw new fn({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:n.values,isRetryable:!0})}throw s}};async function tS(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var hp=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:a,requestBodyValues:i})=>{let o=await r.text(),s=ec(r);if(o.trim()==="")return{responseHeaders:s,value:new fn({message:r.statusText,url:a,requestBodyValues:i,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n==null?void 0:n(r)})};try{let l=wN({text:o,schema:e});return{responseHeaders:s,value:new fn({message:t(l),url:a,requestBodyValues:i,statusCode:r.status,responseHeaders:s,responseBody:o,data:l,isRetryable:n==null?void 0:n(r,l)})}}catch(l){return{responseHeaders:s,value:new fn({message:r.statusText,url:a,requestBodyValues:i,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n==null?void 0:n(r)})}}},Ui=e=>async({response:t})=>{let n=ec(t);if(t.body==null)throw new Mg({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(dN()).pipeThrough(new TransformStream({transform({data:r},a){r!=="[DONE]"&&a.enqueue(Ea({text:r,schema:e}))}}))}};var fr=e=>async({response:t,url:n,requestBodyValues:r})=>{let a=await t.text(),i=Ea({text:a,schema:e}),o=ec(t);if(!i.success)throw new fn({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:n,requestBodyValues:r});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},nS=()=>async({response:e,url:t,requestBodyValues:n})=>{let r=ec(e);if(!e.body)throw new fn({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{let a=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(a)}}catch(a){throw new fn({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:a})}};var{btoa:TN,atob:_N}=globalThis;function zi(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n=_N(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function da(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return TN(t)}function gp(e){return e==null?void 0:e.replace(/\/$/,"")}var st;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{let i={};for(let o of a)i[o]=o;return i},e.getValidEnumValues=a=>{let i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(let s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(let o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(st||(st={}));var Ng;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ng||(Ng={}));var de=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=e=>{switch(typeof e){case"undefined":return de.undefined;case"string":return de.string;case"number":return isNaN(e)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(e)?de.array:e===null?de.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?de.promise:typeof Map!="undefined"&&e instanceof Map?de.map:typeof Set!="undefined"&&e instanceof Set?de.set:typeof Date!="undefined"&&e instanceof Date?de.date:de.object;default:return de.unknown}},Y=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),EN=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),er=class extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let s=r,l=0;for(;l<o.path.length;){let u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(n(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),r}static assert(t){if(!(t instanceof er))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n={},r=[];for(let a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};er.create=e=>new er(e);var ol=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===de.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,st.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${st.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${st.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${st.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:st.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,st.assertNever(e)}return{message:n}},oS=ol;function kN(e){oS=e}function yp(){return oS}var vp=e=>{let{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="",l=r.filter(u=>!!u).slice().reverse();for(let u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},AN=[];function ae(e,t){let n=yp(),r=vp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ol?void 0:ol].filter(a=>!!a)});e.common.issues.push(r)}var Sn=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let a of n){if(a.status==="aborted")return De;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let a of n){let i=await a.key,o=await a.value;r.push({key:i,value:o})}return Sn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let a of n){let{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return De;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value!="undefined"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}},De=Object.freeze({status:"aborted"}),il=e=>({status:"dirty",value:e}),tr=e=>({status:"valid",value:e}),Ig=e=>e.status==="aborted",jg=e=>e.status==="dirty",Uo=e=>e.status==="valid",rc=e=>typeof Promise!="undefined"&&e instanceof Promise;function bp(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function sS(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n}var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xe||(xe={}));var tc,nc,Yr=class{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},rS=(e,t)=>{if(Uo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new er(e.common.issues);return this._error=n,this._error}}};function Fe(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var l,u;let{message:c}=e;return o.code==="invalid_enum_value"?{message:c!=null?c:s.defaultError}:typeof s.data=="undefined"?{message:(l=c!=null?c:r)!==null&&l!==void 0?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=c!=null?c:n)!==null&&u!==void 0?u:s.defaultError}},description:a}}var He=class{get description(){return this._def.description}_getType(t){return ei(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sn,ctx:{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(rc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},i=this._parseSync({data:t,path:a.path,parent:a});return rS(a,i)}"~validate"(t){var n,r;let a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)};if(!this["~standard"].async)try{let i=this._parseSync({data:t,path:[],parent:a});return Uo(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Uo(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(rc(a)?a:Promise.resolve(a));return rS(r,i)}refine(t,n){let r=a=>typeof n=="string"||typeof n=="undefined"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{let o=t(a),s=()=>i.addIssue({code:Y.custom,...r(a)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Dr({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return pr.create(this,this._def)}nullable(){return Ma.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Or.create(this)}promise(){return Fi.create(this,this._def)}or(t){return Fo.create([this,t],this._def)}and(t){return Ho.create(this,t,this._def)}transform(t){return new Dr({...Fe(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let n=typeof t=="function"?t:()=>t;return new Ko({...Fe(this._def),innerType:this,defaultValue:n,typeName:Z.ZodDefault})}brand(){return new ac({typeName:Z.ZodBranded,type:this,...Fe(this._def)})}catch(t){let n=typeof t=="function"?t:()=>t;return new Jo({...Fe(this._def),innerType:this,catchValue:n,typeName:Z.ZodCatch})}describe(t){let n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Xo.create(this,t)}readonly(){return Qo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},CN=/^c[^\s-]{8,}$/i,MN=/^[0-9a-z]+$/,RN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ON=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DN=/^[a-z0-9_-]{21}$/i,PN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,NN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Pg,LN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,UN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FN=new RegExp(`^${lS}$`);function uS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function HN(e){return new RegExp(`^${uS(e)}$`)}function cS(e){let t=`${lS}T${uS(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function $N(e,t){return!!((t==="v4"||!t)&&LN.test(e)||(t==="v6"||!t)&&UN.test(e))}function GN(e,t){if(!PN.test(e))return!1;try{let[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch(n){return!1}}function YN(e,t){return!!((t==="v4"||!t)&&VN.test(e)||(t==="v6"||!t)&&zN.test(e))}var Rr=class extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==de.string){let i=this._getOrReturnCtx(t);return ae(i,{code:Y.invalid_type,expected:de.string,received:i.parsedType}),De}let r=new Sn,a;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?ae(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&ae(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")IN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"email",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Pg||(Pg=new RegExp(jN,"u")),Pg.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"emoji",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ON.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"uuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")DN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"nanoid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")CN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"cuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")MN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"cuid2",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")RN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"ulid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch(o){a=this._getOrReturnCtx(t,a),ae(a,{validation:"url",code:Y.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"regex",code:Y.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?cS(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?FN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?HN(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?NN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"duration",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?$N(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"ip",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?GN(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"jwt",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?YN(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"cidr",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?BN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"base64",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?qN.test(t.data)||(a=this._getOrReturnCtx(t,a),ae(a,{validation:"base64url",code:Y.invalid_string,message:i.message}),r.dirty()):st.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:Y.invalid_string,...xe.errToObj(r)})}_addCheck(t){return new Rr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)=="undefined"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)=="undefined"?null:t==null?void 0:t.precision,...xe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xe.errToObj(n)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Rr.create=e=>{var t;return new Rr({checks:[],typeName:Z.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fe(e)})};function ZN(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}var ka=class extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==de.number){let i=this._getOrReturnCtx(t);return ae(i,{code:Y.invalid_type,expected:de.number,received:i.parsedType}),De}let r,a=new Sn;for(let i of this._def.checks)i.kind==="int"?st.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ZN(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.not_finite,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new ka({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new ka({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&st.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};ka.create=e=>new ka({checks:[],typeName:Z.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});var Aa=class extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(i){return this._getInvalidInput(t)}if(this._getType(t)!==de.bigint)return this._getInvalidInput(t);let r,a=new Sn;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ae(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):st.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return ae(n,{code:Y.invalid_type,expected:de.bigint,received:n.parsedType}),De}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new Aa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new Aa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Aa.create=e=>{var t;return new Aa({checks:[],typeName:Z.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fe(e)})};var zo=class extends He{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==de.boolean){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.boolean,received:r.parsedType}),De}return tr(t.data)}};zo.create=e=>new zo({typeName:Z.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});var ni=class extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==de.date){let i=this._getOrReturnCtx(t);return ae(i,{code:Y.invalid_type,expected:de.date,received:i.parsedType}),De}if(isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return ae(i,{code:Y.invalid_date}),De}let r=new Sn,a;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ae(a,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):st.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ni({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};ni.create=e=>new ni({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Z.ZodDate,...Fe(e)});var sl=class extends He{_parse(t){if(this._getType(t)!==de.symbol){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.symbol,received:r.parsedType}),De}return tr(t.data)}};sl.create=e=>new sl({typeName:Z.ZodSymbol,...Fe(e)});var Bo=class extends He{_parse(t){if(this._getType(t)!==de.undefined){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.undefined,received:r.parsedType}),De}return tr(t.data)}};Bo.create=e=>new Bo({typeName:Z.ZodUndefined,...Fe(e)});var qo=class extends He{_parse(t){if(this._getType(t)!==de.null){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.null,received:r.parsedType}),De}return tr(t.data)}};qo.create=e=>new qo({typeName:Z.ZodNull,...Fe(e)});var qi=class extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return tr(t.data)}};qi.create=e=>new qi({typeName:Z.ZodAny,...Fe(e)});var ti=class extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return tr(t.data)}};ti.create=e=>new ti({typeName:Z.ZodUnknown,...Fe(e)});var ma=class extends He{_parse(t){let n=this._getOrReturnCtx(t);return ae(n,{code:Y.invalid_type,expected:de.never,received:n.parsedType}),De}};ma.create=e=>new ma({typeName:Z.ZodNever,...Fe(e)});var ll=class extends He{_parse(t){if(this._getType(t)!==de.undefined){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.void,received:r.parsedType}),De}return tr(t.data)}};ll.create=e=>new ll({typeName:Z.ZodVoid,...Fe(e)});var Or=class extends He{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==de.array)return ae(n,{code:Y.invalid_type,expected:de.array,received:n.parsedType}),De;if(a.exactLength!==null){let o=n.data.length>a.exactLength.value,s=n.data.length<a.exactLength.value;(o||s)&&(ae(n,{code:o?Y.too_big:Y.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(ae(n,{code:Y.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(ae(n,{code:Y.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,s)=>a.type._parseAsync(new Yr(n,o,n.path,s)))).then(o=>Sn.mergeArray(r,o));let i=[...n.data].map((o,s)=>a.type._parseSync(new Yr(n,o,n.path,s)));return Sn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Or({...this._def,minLength:{value:t,message:xe.toString(n)}})}max(t,n){return new Or({...this._def,maxLength:{value:t,message:xe.toString(n)}})}length(t,n){return new Or({...this._def,exactLength:{value:t,message:xe.toString(n)}})}nonempty(t){return this.min(1,t)}};Or.create=(e,t)=>new Or({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...Fe(t)});function al(e){if(e instanceof At){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=pr.create(al(r))}return new At({...e._def,shape:()=>t})}else return e instanceof Or?new Or({...e._def,type:al(e.element)}):e instanceof pr?pr.create(al(e.unwrap())):e instanceof Ma?Ma.create(al(e.unwrap())):e instanceof Zr?Zr.create(e.items.map(t=>al(t))):e}var At=class extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=st.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==de.object){let u=this._getOrReturnCtx(t);return ae(u,{code:Y.invalid_type,expected:de.object,received:u.parsedType}),De}let{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(let u in a.data)o.includes(u)||s.push(u);let l=[];for(let u of o){let c=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Yr(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ma){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of s)l.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(u==="strict")s.length>0&&(ae(a,{code:Y.unrecognized_keys,keys:s}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of s){let f=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Yr(a,f,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let u=[];for(let c of l){let f=await c.key,p=await c.value;u.push({key:f,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>Sn.mergeObjectSync(r,u)):Sn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,o,s;let l=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(s=xe.errToObj(t).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Z.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new At({...this._def,catchall:t})}pick(t){let n={};return st.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new At({...this._def,shape:()=>n})}omit(t){let n={};return st.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new At({...this._def,shape:()=>n})}deepPartial(){return al(this)}partial(t){let n={};return st.objectKeys(this.shape).forEach(r=>{let a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new At({...this._def,shape:()=>n})}required(t){let n={};return st.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof pr;)i=i._def.innerType;n[r]=i}}),new At({...this._def,shape:()=>n})}keyof(){return fS(st.objectKeys(this.shape))}};At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:ma.create(),typeName:Z.ZodObject,...Fe(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:ma.create(),typeName:Z.ZodObject,...Fe(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:ma.create(),typeName:Z.ZodObject,...Fe(t)});var Fo=class extends He{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return n.common.issues.push(...s.ctx.common.issues),s.result;let o=i.map(s=>new er(s.ctx.common.issues));return ae(n,{code:Y.invalid_union,unionErrors:o}),De}if(n.common.async)return Promise.all(r.map(async i=>{let o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i,o=[];for(let l of r){let u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;let s=o.map(l=>new er(l));return ae(n,{code:Y.invalid_union,unionErrors:s}),De}}get options(){return this._def.options}};Fo.create=(e,t)=>new Fo({options:e,typeName:Z.ZodUnion,...Fe(t)});var Wa=e=>e instanceof Go?Wa(e.schema):e instanceof Dr?Wa(e.innerType()):e instanceof Yo?[e.value]:e instanceof Ca?e.options:e instanceof Zo?st.objectValues(e.enum):e instanceof Ko?Wa(e._def.innerType):e instanceof Bo?[void 0]:e instanceof qo?[null]:e instanceof pr?[void 0,...Wa(e.unwrap())]:e instanceof Ma?[null,...Wa(e.unwrap())]:e instanceof ac||e instanceof Qo?Wa(e.unwrap()):e instanceof Jo?Wa(e._def.innerType):[],ul=class extends He{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.object)return ae(n,{code:Y.invalid_type,expected:de.object,received:n.parsedType}),De;let r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ae(n,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let a=new Map;for(let i of n){let o=Wa(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new ul({typeName:Z.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Fe(r)})}};function Lg(e,t){let n=ei(e),r=ei(t);if(e===t)return{valid:!0,data:e};if(n===de.object&&r===de.object){let a=st.objectKeys(t),i=st.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(let s of i){let l=Lg(e[s],t[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(n===de.array&&r===de.array){if(e.length!==t.length)return{valid:!1};let a=[];for(let i=0;i<e.length;i++){let o=e[i],s=t[i],l=Lg(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===de.date&&r===de.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Ho=class extends He{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(Ig(i)||Ig(o))return De;let s=Lg(i.value,o.value);return s.valid?((jg(i)||jg(o))&&n.dirty(),{status:n.value,value:s.data}):(ae(r,{code:Y.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Ho.create=(e,t,n)=>new Ho({left:e,right:t,typeName:Z.ZodIntersection,...Fe(n)});var Zr=class extends He{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.array)return ae(r,{code:Y.invalid_type,expected:de.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return ae(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(ae(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let i=[...r.data].map((o,s)=>{let l=this._def.items[s]||this._def.rest;return l?l._parse(new Yr(r,o,r.path,s)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Sn.mergeArray(n,o)):Sn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Zr({...this._def,rest:t})}};Zr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zr({items:e,typeName:Z.ZodTuple,rest:null,...Fe(t)})};var $o=class extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.object)return ae(r,{code:Y.invalid_type,expected:de.object,received:r.parsedType}),De;let a=[],i=this._def.keyType,o=this._def.valueType;for(let s in r.data)a.push({key:i._parse(new Yr(r,s,r.path,s)),value:o._parse(new Yr(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?Sn.mergeObjectAsync(n,a):Sn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof He?new $o({keyType:t,valueType:n,typeName:Z.ZodRecord,...Fe(r)}):new $o({keyType:Rr.create(),valueType:t,typeName:Z.ZodRecord,...Fe(n)})}},cl=class extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.map)return ae(r,{code:Y.invalid_type,expected:de.map,received:r.parsedType}),De;let a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([s,l],u)=>({key:a._parse(new Yr(r,s,r.path,[u,"key"])),value:i._parse(new Yr(r,l,r.path,[u,"value"]))}));if(r.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let l of o){let u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return De;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),s.set(u.value,c.value)}return{status:n.value,value:s}})}else{let s=new Map;for(let l of o){let u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return De;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),s.set(u.value,c.value)}return{status:n.value,value:s}}}};cl.create=(e,t,n)=>new cl({valueType:t,keyType:e,typeName:Z.ZodMap,...Fe(n)});var ri=class extends He{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.set)return ae(r,{code:Y.invalid_type,expected:de.set,received:r.parsedType}),De;let a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(ae(r,{code:Y.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(ae(r,{code:Y.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());let i=this._def.valueType;function o(l){let u=new Set;for(let c of l){if(c.status==="aborted")return De;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}let s=[...r.data.values()].map((l,u)=>i._parse(new Yr(r,l,r.path,u)));return r.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(t,n){return new ri({...this._def,minSize:{value:t,message:xe.toString(n)}})}max(t,n){return new ri({...this._def,maxSize:{value:t,message:xe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};ri.create=(e,t)=>new ri({valueType:e,minSize:null,maxSize:null,typeName:Z.ZodSet,...Fe(t)});var Bi=class extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.function)return ae(n,{code:Y.invalid_type,expected:de.function,received:n.parsedType}),De;function r(s,l){return vp({data:s,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,yp(),ol].filter(u=>!!u),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function a(s,l){return vp({data:s,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,yp(),ol].filter(u=>!!u),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}let i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Fi){let s=this;return tr(async function(...l){let u=new er([]),c=await s._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(o,this,c);return await s._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{let s=this;return tr(function(...l){let u=s._def.args.safeParse(l,i);if(!u.success)throw new er([r(l,u.error)]);let c=Reflect.apply(o,this,u.data),f=s._def.returns.safeParse(c,i);if(!f.success)throw new er([a(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Bi({...this._def,args:Zr.create(t).rest(ti.create())})}returns(t){return new Bi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Bi({args:t||Zr.create([]).rest(ti.create()),returns:n||ti.create(),typeName:Z.ZodFunction,...Fe(r)})}},Go=class extends He{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Go.create=(e,t)=>new Go({getter:e,typeName:Z.ZodLazy,...Fe(t)});var Yo=class extends He{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return ae(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:t.data}}get value(){return this._def.value}};Yo.create=(e,t)=>new Yo({value:e,typeName:Z.ZodLiteral,...Fe(t)});function fS(e,t){return new Ca({values:e,typeName:Z.ZodEnum,...Fe(t)})}var Ca=class extends He{constructor(){super(...arguments),tc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return ae(n,{expected:st.joinValues(r),received:n.parsedType,code:Y.invalid_type}),De}if(bp(this,tc,"f")||sS(this,tc,new Set(this._def.values),"f"),!bp(this,tc,"f").has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return ae(n,{received:n.data,code:Y.invalid_enum_value,options:r}),De}return tr(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ca.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ca.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};tc=new WeakMap;Ca.create=fS;var Zo=class extends He{constructor(){super(...arguments),nc.set(this,void 0)}_parse(t){let n=st.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==de.string&&r.parsedType!==de.number){let a=st.objectValues(n);return ae(r,{expected:st.joinValues(a),received:r.parsedType,code:Y.invalid_type}),De}if(bp(this,nc,"f")||sS(this,nc,new Set(st.getValidEnumValues(this._def.values)),"f"),!bp(this,nc,"f").has(t.data)){let a=st.objectValues(n);return ae(r,{received:r.data,code:Y.invalid_enum_value,options:a}),De}return tr(t.data)}get enum(){return this._def.values}};nc=new WeakMap;Zo.create=(e,t)=>new Zo({values:e,typeName:Z.ZodNativeEnum,...Fe(t)});var Fi=class extends He{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.promise&&n.common.async===!1)return ae(n,{code:Y.invalid_type,expected:de.promise,received:n.parsedType}),De;let r=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return tr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Fi.create=(e,t)=>new Fi({type:e,typeName:Z.ZodPromise,...Fe(t)});var Dr=class extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ae(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async s=>{if(n.value==="aborted")return De;let l=await this._def.schema._parseAsync({data:s,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?il(l.value):l});{if(n.value==="aborted")return De;let s=this._def.schema._parseSync({data:o,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"||n.value==="dirty"?il(s.value):s}}if(a.type==="refinement"){let o=s=>{let l=a.refinement(s,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:(s.status==="dirty"&&n.dirty(),o(s.value),{status:n.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?De:(s.status==="dirty"&&n.dirty(),o(s.value).then(()=>({status:n.value,value:s.value}))))}if(a.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uo(o))return o;let s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Uo(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:n.value,value:s})):o);st.assertNever(a)}};Dr.create=(e,t,n)=>new Dr({schema:e,typeName:Z.ZodEffects,effect:t,...Fe(n)});Dr.createWithPreprocess=(e,t,n)=>new Dr({schema:t,effect:{type:"preprocess",transform:e},typeName:Z.ZodEffects,...Fe(n)});var pr=class extends He{_parse(t){return this._getType(t)===de.undefined?tr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};pr.create=(e,t)=>new pr({innerType:e,typeName:Z.ZodOptional,...Fe(t)});var Ma=class extends He{_parse(t){return this._getType(t)===de.null?tr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ma.create=(e,t)=>new Ma({innerType:e,typeName:Z.ZodNullable,...Fe(t)});var Ko=class extends He{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Ko.create=(e,t)=>new Ko({innerType:e,typeName:Z.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Fe(t)});var Jo=class extends He{_parse(t){let{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new er(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new er(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Jo.create=(e,t)=>new Jo({innerType:e,typeName:Z.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Fe(t)});var fl=class extends He{_parse(t){if(this._getType(t)!==de.nan){let r=this._getOrReturnCtx(t);return ae(r,{code:Y.invalid_type,expected:de.nan,received:r.parsedType}),De}return{status:"valid",value:t.data}}};fl.create=e=>new fl({typeName:Z.ZodNaN,...Fe(e)});var KN=Symbol("zod_brand"),ac=class extends He{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},Xo=class extends He{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(n.dirty(),il(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{let a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?De:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Xo({in:t,out:n,typeName:Z.ZodPipeline})}},Qo=class extends He{_parse(t){let n=this._def.innerType._parse(t),r=a=>(Uo(a)&&(a.value=Object.freeze(a.value)),a);return rc(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}};Qo.create=(e,t)=>new Qo({innerType:e,typeName:Z.ZodReadonly,...Fe(t)});function aS(e,t){let n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function pS(e,t={},n){return e?qi.create().superRefine((r,a)=>{var i,o;let s=e(r);if(s instanceof Promise)return s.then(l=>{var u,c;if(!l){let f=aS(t,r),p=(c=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&c!==void 0?c:!0;a.addIssue({code:"custom",...f,fatal:p})}});if(!s){let l=aS(t,r),u=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...l,fatal:u})}}):qi.create()}var JN={object:At.lazycreate},Z;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Z||(Z={}));var XN=(e,t={message:`Input not instance of ${e.name}`})=>pS(n=>n instanceof e,t),dS=Rr.create,mS=ka.create,QN=fl.create,WN=Aa.create,hS=zo.create,eI=ni.create,tI=sl.create,nI=Bo.create,rI=qo.create,aI=qi.create,iI=ti.create,oI=ma.create,sI=ll.create,lI=Or.create,uI=At.create,cI=At.strictCreate,fI=Fo.create,pI=ul.create,dI=Ho.create,mI=Zr.create,hI=$o.create,gI=cl.create,yI=ri.create,vI=Bi.create,bI=Go.create,xI=Yo.create,wI=Ca.create,SI=Zo.create,TI=Fi.create,iS=Dr.create,_I=pr.create,EI=Ma.create,kI=Dr.createWithPreprocess,AI=Xo.create,CI=()=>dS().optional(),MI=()=>mS().optional(),RI=()=>hS().optional(),OI={string:e=>Rr.create({...e,coerce:!0}),number:e=>ka.create({...e,coerce:!0}),boolean:e=>zo.create({...e,coerce:!0}),bigint:e=>Aa.create({...e,coerce:!0}),date:e=>ni.create({...e,coerce:!0})},DI=De,d=Object.freeze({__proto__:null,defaultErrorMap:ol,setErrorMap:kN,getErrorMap:yp,makeIssue:vp,EMPTY_PATH:AN,addIssueToContext:ae,ParseStatus:Sn,INVALID:De,DIRTY:il,OK:tr,isAborted:Ig,isDirty:jg,isValid:Uo,isAsync:rc,get util(){return st},get objectUtil(){return Ng},ZodParsedType:de,getParsedType:ei,ZodType:He,datetimeRegex:cS,ZodString:Rr,ZodNumber:ka,ZodBigInt:Aa,ZodBoolean:zo,ZodDate:ni,ZodSymbol:sl,ZodUndefined:Bo,ZodNull:qo,ZodAny:qi,ZodUnknown:ti,ZodNever:ma,ZodVoid:ll,ZodArray:Or,ZodObject:At,ZodUnion:Fo,ZodDiscriminatedUnion:ul,ZodIntersection:Ho,ZodTuple:Zr,ZodRecord:$o,ZodMap:cl,ZodSet:ri,ZodFunction:Bi,ZodLazy:Go,ZodLiteral:Yo,ZodEnum:Ca,ZodNativeEnum:Zo,ZodPromise:Fi,ZodEffects:Dr,ZodTransformer:Dr,ZodOptional:pr,ZodNullable:Ma,ZodDefault:Ko,ZodCatch:Jo,ZodNaN:fl,BRAND:KN,ZodBranded:ac,ZodPipeline:Xo,ZodReadonly:Qo,custom:pS,Schema:He,ZodSchema:He,late:JN,get ZodFirstPartyTypeKind(){return Z},coerce:OI,any:aI,array:lI,bigint:WN,boolean:hS,date:eI,discriminatedUnion:pI,effect:iS,enum:wI,function:vI,instanceof:XN,intersection:dI,lazy:bI,literal:xI,map:gI,nan:QN,nativeEnum:SI,never:oI,null:rI,nullable:EI,number:mS,object:uI,oboolean:RI,onumber:MI,optional:_I,ostring:CI,pipeline:AI,preprocess:kI,promise:TI,record:hI,set:yI,strictObject:cI,string:dS,symbol:tI,transformer:iS,tuple:mI,undefined:nI,union:fI,unknown:iI,void:sI,NEVER:DI,ZodIssueCode:Y,quotelessJson:EN,ZodError:er});var PI=d.object({type:d.literal("error"),error:d.object({type:d.string(),message:d.string()})}),gS=hp({errorSchema:PI,errorToMessage:e=>e.error.message});function NI(e){var t;let n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],a=new Set;if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:a};let i=[];for(let l of n)switch(l.type){case"function":i.push({name:l.name,description:l.description,input_schema:l.parameters});break;case"provider-defined":switch(l.id){case"anthropic.computer_20250124":a.add("computer-use-2025-01-24"),i.push({name:l.name,type:"computer_20250124",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.computer_20241022":a.add("computer-use-2024-10-22"),i.push({name:l.name,type:"computer_20241022",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.text_editor_20250124":a.add("computer-use-2025-01-24"),i.push({name:l.name,type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":a.add("computer-use-2024-10-22"),i.push({name:l.name,type:"text_editor_20241022"});break;case"anthropic.bash_20250124":a.add("computer-use-2025-01-24"),i.push({name:l.name,type:"bash_20250124"});break;case"anthropic.bash_20241022":a.add("computer-use-2024-10-22"),i.push({name:l.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:l});break}break;default:r.push({type:"unsupported-tool",tool:l});break}let o=e.toolChoice;if(o==null)return{tools:i,tool_choice:void 0,toolWarnings:r,betas:a};let s=o.type;switch(s){case"auto":return{tools:i,tool_choice:{type:"auto"},toolWarnings:r,betas:a};case"required":return{tools:i,tool_choice:{type:"any"},toolWarnings:r,betas:a};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:a};case"tool":return{tools:i,tool_choice:{type:"tool",name:o.toolName},toolWarnings:r,betas:a};default:{let l=s;throw new ut({functionality:`Unsupported tool choice type: ${l}`})}}}function II({prompt:e,sendReasoning:t,warnings:n}){var r,a,i,o;let s=new Set,l=jI(e),u,c=[];function f(p){var m;let w=p==null?void 0:p.anthropic;return(m=w==null?void 0:w.cacheControl)!=null?m:w==null?void 0:w.cache_control}for(let p=0;p<l.length;p++){let m=l[p],w=p===l.length-1,b=m.type;switch(b){case"system":{if(u!=null)throw new ut({functionality:"Multiple system messages that are separated by user/assistant messages"});u=m.messages.map(({content:x,providerMetadata:h})=>({type:"text",text:x,cache_control:f(h)}));break}case"user":{let x=[];for(let h of m.messages){let{role:g,content:y}=h;switch(g){case"user":{for(let S=0;S<y.length;S++){let _=y[S],T=S===y.length-1,R=(r=f(_.providerMetadata))!=null?r:T?f(h.providerMetadata):void 0;switch(_.type){case"text":{x.push({type:"text",text:_.text,cache_control:R});break}case"image":{x.push({type:"image",source:_.image instanceof URL?{type:"url",url:_.image.toString()}:{type:"base64",media_type:(a=_.mimeType)!=null?a:"image/jpeg",data:da(_.image)},cache_control:R});break}case"file":{if(_.mimeType!=="application/pdf")throw new ut({functionality:"Non-PDF files in user messages"});s.add("pdfs-2024-09-25"),x.push({type:"document",source:_.data instanceof URL?{type:"url",url:_.data.toString()}:{type:"base64",media_type:"application/pdf",data:_.data},cache_control:R});break}}}break}case"tool":{for(let S=0;S<y.length;S++){let _=y[S],T=S===y.length-1,R=(i=f(_.providerMetadata))!=null?i:T?f(h.providerMetadata):void 0,k=_.content!=null?_.content.map(D=>{var F;switch(D.type){case"text":return{type:"text",text:D.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(F=D.mimeType)!=null?F:"image/jpeg",data:D.data},cache_control:void 0}}}):JSON.stringify(_.result);x.push({type:"tool_result",tool_use_id:_.toolCallId,content:k,is_error:_.isError,cache_control:R})}break}default:{let S=g;throw new Error(`Unsupported role: ${S}`)}}}c.push({role:"user",content:x});break}case"assistant":{let x=[];for(let h=0;h<m.messages.length;h++){let g=m.messages[h],y=h===m.messages.length-1,{content:S}=g;for(let _=0;_<S.length;_++){let T=S[_],R=_===S.length-1,k=(o=f(T.providerMetadata))!=null?o:R?f(g.providerMetadata):void 0;switch(T.type){case"text":{x.push({type:"text",text:w&&y&&R?T.text.trim():T.text,cache_control:k});break}case"reasoning":{t?x.push({type:"thinking",thinking:T.text,signature:T.signature,cache_control:k}):n.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"redacted-reasoning":{x.push({type:"redacted_thinking",data:T.data,cache_control:k});break}case"tool-call":{x.push({type:"tool_use",id:T.toolCallId,name:T.toolName,input:T.args,cache_control:k});break}}}}c.push({role:"assistant",content:x});break}default:{let x=b;throw new Error(`Unsupported type: ${x}`)}}}return{prompt:{system:u,messages:c},betas:s}}function jI(e){let t=[],n;for(let r of e){let{role:a}=r;switch(a){case"system":{(n==null?void 0:n.type)!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break}case"assistant":{(n==null?void 0:n.type)!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break}case"user":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}case"tool":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}default:{let i=a;throw new Error(`Unsupported role: ${i}`)}}}return t}function yS(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var LI=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=n}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportsImageUrls(){return this.config.supportsImageUrls}async getArgs({mode:e,prompt:t,maxTokens:n=4096,temperature:r,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:f}){var p,m,w;let b=e.type,x=[];o!=null&&x.push({type:"unsupported-setting",setting:"frequencyPenalty"}),s!=null&&x.push({type:"unsupported-setting",setting:"presencePenalty"}),c!=null&&x.push({type:"unsupported-setting",setting:"seed"}),u!=null&&u.type!=="text"&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:h,betas:g}=II({prompt:t,sendReasoning:(p=this.settings.sendReasoning)!=null?p:!0,warnings:x}),y=Vi({provider:"anthropic",providerOptions:f,schema:zI}),S=((m=y==null?void 0:y.thinking)==null?void 0:m.type)==="enabled",_=(w=y==null?void 0:y.thinking)==null?void 0:w.budgetTokens,T={model:this.modelId,max_tokens:n,temperature:r,top_k:i,top_p:a,stop_sequences:l,...S&&{thinking:{type:"enabled",budget_tokens:_}},system:h.system,messages:h.messages};if(S){if(_==null)throw new ut({functionality:"thinking requires a budget"});T.temperature!=null&&(T.temperature=void 0,x.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),i!=null&&(T.top_k=void 0,x.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),a!=null&&(T.top_p=void 0,x.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),T.max_tokens=n+_}switch(b){case"regular":{let{tools:R,tool_choice:k,toolWarnings:D,betas:F}=NI(e);return{args:{...T,tools:R,tool_choice:k},warnings:[...x,...D],betas:new Set([...g,...F])}}case"object-json":throw new ut({functionality:"json-mode object generation"});case"object-tool":{let{name:R,description:k,parameters:D}=e.tool;return{args:{...T,tools:[{name:R,description:k,input_schema:D}],tool_choice:{type:"tool",name:R}},warnings:x,betas:g}}default:{let R=b;throw new Error(`Unsupported type: ${R}`)}}}async getHeaders({betas:e,headers:t}){return pn(await tS(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return(r=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return(r=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?r:e}async doGenerate(e){var t,n,r,a;let{args:i,warnings:o,betas:s}=await this.getArgs(e),{responseHeaders:l,value:u,rawValue:c}=await wn({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:s,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:gS,successfulResponseHandler:fr(VI),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...p}=i,m="";for(let x of u.content)x.type==="text"&&(m+=x.text);let w;if(u.content.some(x=>x.type==="tool_use")){w=[];for(let x of u.content)x.type==="tool_use"&&w.push({toolCallType:"function",toolCallId:x.id,toolName:x.name,args:JSON.stringify(x.input)})}let b=u.content.filter(x=>x.type==="redacted_thinking"||x.type==="thinking").map(x=>x.type==="thinking"?{type:"text",text:x.thinking,signature:x.signature}:{type:"redacted",data:x.data});return{text:m,reasoning:b.length>0?b:void 0,toolCalls:w,finishReason:yS(u.stop_reason),usage:{promptTokens:u.usage.input_tokens,completionTokens:u.usage.output_tokens},rawCall:{rawPrompt:f,rawSettings:p},rawResponse:{headers:l,body:c},response:{id:(t=u.id)!=null?t:void 0,modelId:(n=u.model)!=null?n:void 0},warnings:o,providerMetadata:{anthropic:{cacheCreationInputTokens:(r=u.usage.cache_creation_input_tokens)!=null?r:null,cacheReadInputTokens:(a=u.usage.cache_read_input_tokens)!=null?a:null}},request:{body:JSON.stringify(i)}}}async doStream(e){let{args:t,warnings:n,betas:r}=await this.getArgs(e),a={...t,stream:!0},{responseHeaders:i,value:o}=await wn({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(a),failedResponseHandler:gS,successfulResponseHandler:Ui(UI),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...l}=t,u="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},f={},p,m;return{stream:o.pipeThrough(new TransformStream({transform(w,b){var x,h,g,y;if(!w.success){b.enqueue({type:"error",error:w.error});return}let S=w.value;switch(S.type){case"ping":return;case"content_block_start":{let _=S.content_block.type;switch(m=_,_){case"text":case"thinking":return;case"redacted_thinking":{b.enqueue({type:"redacted-reasoning",data:S.content_block.data});return}case"tool_use":{f[S.index]={toolCallId:S.content_block.id,toolName:S.content_block.name,jsonText:""};return}default:{let T=_;throw new Error(`Unsupported content block type: ${T}`)}}}case"content_block_stop":{if(f[S.index]!=null){let _=f[S.index];b.enqueue({type:"tool-call",toolCallType:"function",toolCallId:_.toolCallId,toolName:_.toolName,args:_.jsonText}),delete f[S.index]}m=void 0;return}case"content_block_delta":{let _=S.delta.type;switch(_){case"text_delta":{b.enqueue({type:"text-delta",textDelta:S.delta.text});return}case"thinking_delta":{b.enqueue({type:"reasoning",textDelta:S.delta.thinking});return}case"signature_delta":{m==="thinking"&&b.enqueue({type:"reasoning-signature",signature:S.delta.signature});return}case"input_json_delta":{let T=f[S.index];b.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:T.toolCallId,toolName:T.toolName,argsTextDelta:S.delta.partial_json}),T.jsonText+=S.delta.partial_json;return}default:{let T=_;throw new Error(`Unsupported delta type: ${T}`)}}}case"message_start":{c.promptTokens=S.message.usage.input_tokens,c.completionTokens=S.message.usage.output_tokens,p={anthropic:{cacheCreationInputTokens:(x=S.message.usage.cache_creation_input_tokens)!=null?x:null,cacheReadInputTokens:(h=S.message.usage.cache_read_input_tokens)!=null?h:null}},b.enqueue({type:"response-metadata",id:(g=S.message.id)!=null?g:void 0,modelId:(y=S.message.model)!=null?y:void 0});return}case"message_delta":{c.completionTokens=S.usage.output_tokens,u=yS(S.delta.stop_reason);return}case"message_stop":{b.enqueue({type:"finish",finishReason:u,usage:c,providerMetadata:p});return}case"error":{b.enqueue({type:"error",error:S.error});return}default:{let _=S;throw new Error(`Unsupported chunk type: ${_}`)}}}})),rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:i},warnings:n,request:{body:JSON.stringify(a)}}}},VI=d.object({type:d.literal("message"),id:d.string().nullish(),model:d.string().nullish(),content:d.array(d.discriminatedUnion("type",[d.object({type:d.literal("text"),text:d.string()}),d.object({type:d.literal("thinking"),thinking:d.string(),signature:d.string()}),d.object({type:d.literal("redacted_thinking"),data:d.string()}),d.object({type:d.literal("tool_use"),id:d.string(),name:d.string(),input:d.unknown()})])),stop_reason:d.string().nullish(),usage:d.object({input_tokens:d.number(),output_tokens:d.number(),cache_creation_input_tokens:d.number().nullish(),cache_read_input_tokens:d.number().nullish()})}),UI=d.discriminatedUnion("type",[d.object({type:d.literal("message_start"),message:d.object({id:d.string().nullish(),model:d.string().nullish(),usage:d.object({input_tokens:d.number(),output_tokens:d.number(),cache_creation_input_tokens:d.number().nullish(),cache_read_input_tokens:d.number().nullish()})})}),d.object({type:d.literal("content_block_start"),index:d.number(),content_block:d.discriminatedUnion("type",[d.object({type:d.literal("text"),text:d.string()}),d.object({type:d.literal("thinking"),thinking:d.string()}),d.object({type:d.literal("tool_use"),id:d.string(),name:d.string()}),d.object({type:d.literal("redacted_thinking"),data:d.string()})])}),d.object({type:d.literal("content_block_delta"),index:d.number(),delta:d.discriminatedUnion("type",[d.object({type:d.literal("input_json_delta"),partial_json:d.string()}),d.object({type:d.literal("text_delta"),text:d.string()}),d.object({type:d.literal("thinking_delta"),thinking:d.string()}),d.object({type:d.literal("signature_delta"),signature:d.string()})])}),d.object({type:d.literal("content_block_stop"),index:d.number()}),d.object({type:d.literal("error"),error:d.object({type:d.string(),message:d.string()})}),d.object({type:d.literal("message_delta"),delta:d.object({stop_reason:d.string().nullish()}),usage:d.object({output_tokens:d.number()})}),d.object({type:d.literal("message_stop")}),d.object({type:d.literal("ping")})]),zI=d.object({thinking:d.object({type:d.union([d.literal("enabled"),d.literal("disabled")]),budgetTokens:d.number().optional()}).optional()}),BI=d.object({command:d.string(),restart:d.boolean().optional()});function qI(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:BI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var FI=d.object({command:d.string(),restart:d.boolean().optional()});function HI(e={}){return{type:"provider-defined",id:"anthropic.bash_20250124",args:{},parameters:FI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var $I=d.object({command:d.enum(["view","create","str_replace","insert","undo_edit"]),path:d.string(),file_text:d.string().optional(),insert_line:d.number().int().optional(),new_str:d.string().optional(),old_str:d.string().optional(),view_range:d.array(d.number().int()).optional()});function GI(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:$I,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var YI=d.object({command:d.enum(["view","create","str_replace","insert","undo_edit"]),path:d.string(),file_text:d.string().optional(),insert_line:d.number().int().optional(),new_str:d.string().optional(),old_str:d.string().optional(),view_range:d.array(d.number().int()).optional()});function ZI(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20250124",args:{},parameters:YI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var KI=d.object({action:d.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:d.array(d.number().int()).optional(),text:d.string().optional()});function JI(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:KI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var XI=d.object({action:d.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:d.tuple([d.number().int(),d.number().int()]).optional(),duration:d.number().optional(),scroll_amount:d.number().optional(),scroll_direction:d.enum(["up","down","left","right"]).optional(),start_coordinate:d.tuple([d.number().int(),d.number().int()]).optional(),text:d.string().optional()});function QI(e){return{type:"provider-defined",id:"anthropic.computer_20250124",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:XI,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var WI={bash_20241022:qI,bash_20250124:HI,textEditor_20241022:GI,textEditor_20250124:ZI,computer_20241022:JI,computer_20250124:QI};function Vg(e={}){var t;let n=(t=gp(e.baseURL))!=null?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":dp({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),a=(o,s={})=>new LI(o,s,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch,supportsImageUrls:!0}),i=function(o,s){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return a(o,s)};return i.languageModel=a,i.chat=a,i.messages=a,i.textEmbeddingModel=o=>{throw new Rg({modelId:o,modelType:"textEmbeddingModel"})},i.tools=WI,i}var oF=Vg();function ej({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){let r=[],a=[];for(let{role:i,content:o}of e)switch(i){case"system":{switch(n){case"system":{r.push({role:"system",content:o});break}case"developer":{r.push({role:"developer",content:o});break}case"remove":{a.push({type:"other",message:"system messages are removed for this model"});break}default:{let s=n;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(o.length===1&&o[0].type==="text"){r.push({role:"user",content:o[0].text});break}r.push({role:"user",content:o.map((s,l)=>{var u,c,f,p;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(u=s.mimeType)!=null?u:"image/jpeg"};base64,${da(s.image)}`,detail:(f=(c=s.providerMetadata)==null?void 0:c.openai)==null?void 0:f.imageDetail}};case"file":{if(s.data instanceof URL)throw new ut({functionality:"'File content parts with URL data' functionality not supported."});switch(s.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:s.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:s.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:(p=s.filename)!=null?p:`part-${l}.pdf`,file_data:`data:application/pdf;base64,${s.data}`}};default:throw new ut({functionality:`File content part type ${s.mimeType} in user messages`})}}}})});break}case"assistant":{let s="",l=[];for(let u of o)switch(u.type){case"text":{s+=u.text;break}case"tool-call":{l.push({id:u.toolCallId,type:"function",function:{name:u.toolName,arguments:JSON.stringify(u.args)}});break}}if(t){if(l.length>1)throw new ut({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:s,function_call:l.length>0?l[0].function:void 0})}else r.push({role:"assistant",content:s,tool_calls:l.length>0?l:void 0});break}case"tool":{for(let s of o)t?r.push({role:"function",name:s.toolName,content:JSON.stringify(s.result)}):r.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result)});break}default:{let s=i;throw new Error(`Unsupported role: ${s}`)}}return{messages:r,warnings:a}}function vS(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:a,top_logprobs:i})=>({token:r,logprob:a,topLogprobs:i?i.map(({token:o,logprob:s})=>({token:o,logprob:s})):[]})))!=null?n:void 0}function xp(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var zg=d.object({error:d.object({message:d.string(),type:d.string().nullish(),param:d.any().nullish(),code:d.union([d.string(),d.number()]).nullish()})}),Ra=hp({errorSchema:zg,errorToMessage:e=>e.error.message});function wp({id:e,model:t,created:n}){return{id:e!=null?e:void 0,modelId:t!=null?t:void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function tj({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;let a=(r=e.tools)!=null&&r.length?e.tools:void 0,i=[];if(a==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};let o=e.toolChoice;if(t){let u=[];for(let f of a)f.type==="provider-defined"?i.push({type:"unsupported-tool",tool:f}):u.push({name:f.name,description:f.description,parameters:f.parameters});if(o==null)return{functions:u,function_call:void 0,toolWarnings:i};switch(o.type){case"auto":case"none":case void 0:return{functions:u,function_call:void 0,toolWarnings:i};case"required":throw new ut({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:u,function_call:{name:o.toolName},toolWarnings:i}}}let s=[];for(let u of a)u.type==="provider-defined"?i.push({type:"unsupported-tool",tool:u}):s.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters,strict:n?!0:void 0}});if(o==null)return{tools:s,tool_choice:void 0,toolWarnings:i};let l=o.type;switch(l){case"auto":case"none":case"required":return{tools:s,tool_choice:l,toolWarnings:i};case"tool":return{tools:s,tool_choice:{type:"function",function:{name:o.toolName}},toolWarnings:i};default:{let u=l;throw new ut({functionality:`Unsupported tool choice type: ${u}`})}}}var nj=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:Ug(this.modelId)}get defaultObjectGenerationMode(){return ij(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:f}){var p,m,w,b,x,h,g,y;let S=e.type,_=[];i!=null&&_.push({type:"unsupported-setting",setting:"topK"}),(u==null?void 0:u.type)==="json"&&u.schema!=null&&!this.supportsStructuredOutputs&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let T=this.settings.useLegacyFunctionCalling;if(T&&this.settings.parallelToolCalls===!0)throw new ut({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(T&&this.supportsStructuredOutputs)throw new ut({functionality:"structuredOutputs with useLegacyFunctionCalling"});let{messages:R,warnings:k}=ej({prompt:t,useLegacyFunctionCalling:T,systemMessageMode:oj(this.modelId)});_.push(...k);let D={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:a,frequency_penalty:o,presence_penalty:s,response_format:(u==null?void 0:u.type)==="json"?this.supportsStructuredOutputs&&u.schema!=null?{type:"json_schema",json_schema:{schema:u.schema,strict:!0,name:(p=u.name)!=null?p:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:c,max_completion_tokens:(m=f==null?void 0:f.openai)==null?void 0:m.maxCompletionTokens,store:(w=f==null?void 0:f.openai)==null?void 0:w.store,metadata:(b=f==null?void 0:f.openai)==null?void 0:b.metadata,prediction:(x=f==null?void 0:f.openai)==null?void 0:x.prediction,reasoning_effort:(g=(h=f==null?void 0:f.openai)==null?void 0:h.reasoningEffort)!=null?g:this.settings.reasoningEffort,messages:R};switch(Ug(this.modelId)?(D.temperature!=null&&(D.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),D.top_p!=null&&(D.top_p=void 0,_.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),D.frequency_penalty!=null&&(D.frequency_penalty=void 0,_.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),D.presence_penalty!=null&&(D.presence_penalty=void 0,_.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),D.logit_bias!=null&&(D.logit_bias=void 0,_.push({type:"other",message:"logitBias is not supported for reasoning models"})),D.logprobs!=null&&(D.logprobs=void 0,_.push({type:"other",message:"logprobs is not supported for reasoning models"})),D.top_logprobs!=null&&(D.top_logprobs=void 0,_.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),D.max_tokens!=null&&(D.max_completion_tokens==null&&(D.max_completion_tokens=D.max_tokens),D.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&D.temperature!=null&&(D.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),S){case"regular":{let{tools:F,tool_choice:Ne,functions:Te,function_call:B,toolWarnings:te}=tj({mode:e,useLegacyFunctionCalling:T,structuredOutputs:this.supportsStructuredOutputs});return{args:{...D,tools:F,tool_choice:Ne,functions:Te,function_call:B},warnings:[..._,...te]}}case"object-json":return{args:{...D,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(y=e.name)!=null?y:"response",description:e.description}}:{type:"json_object"}},warnings:_};case"object-tool":return{args:T?{...D,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...D,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:_};default:{let F=S;throw new Error(`Unsupported type: ${F}`)}}}async doGenerate(e){var t,n,r,a,i,o,s,l;let{args:u,warnings:c}=this.getArgs(e),{responseHeaders:f,value:p,rawValue:m}=await wn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:u,failedResponseHandler:Ra,successfulResponseHandler:fr(rj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:w,...b}=u,x=p.choices[0],h=(t=p.usage)==null?void 0:t.completion_tokens_details,g=(n=p.usage)==null?void 0:n.prompt_tokens_details,y={openai:{}};return(h==null?void 0:h.reasoning_tokens)!=null&&(y.openai.reasoningTokens=h==null?void 0:h.reasoning_tokens),(h==null?void 0:h.accepted_prediction_tokens)!=null&&(y.openai.acceptedPredictionTokens=h==null?void 0:h.accepted_prediction_tokens),(h==null?void 0:h.rejected_prediction_tokens)!=null&&(y.openai.rejectedPredictionTokens=h==null?void 0:h.rejected_prediction_tokens),(g==null?void 0:g.cached_tokens)!=null&&(y.openai.cachedPromptTokens=g==null?void 0:g.cached_tokens),{text:(r=x.message.content)!=null?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&x.message.function_call?[{toolCallType:"function",toolCallId:Gn(),toolName:x.message.function_call.name,args:x.message.function_call.arguments}]:(a=x.message.tool_calls)==null?void 0:a.map(S=>{var _;return{toolCallType:"function",toolCallId:(_=S.id)!=null?_:Gn(),toolName:S.function.name,args:S.function.arguments}}),finishReason:xp(x.finish_reason),usage:{promptTokens:(o=(i=p.usage)==null?void 0:i.prompt_tokens)!=null?o:NaN,completionTokens:(l=(s=p.usage)==null?void 0:s.completion_tokens)!=null?l:NaN},rawCall:{rawPrompt:w,rawSettings:b},rawResponse:{headers:f,body:m},request:{body:JSON.stringify(u)},response:wp(p),warnings:c,logprobs:vS(x.logprobs),providerMetadata:y}}async doStream(e){if(this.settings.simulateStreaming){let b=await this.doGenerate(e);return{stream:new ReadableStream({start(h){if(h.enqueue({type:"response-metadata",...b.response}),b.text&&h.enqueue({type:"text-delta",textDelta:b.text}),b.toolCalls)for(let g of b.toolCalls)h.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:g.toolCallId,toolName:g.toolName,argsTextDelta:g.args}),h.enqueue({type:"tool-call",...g});h.enqueue({type:"finish",finishReason:b.finishReason,usage:b.usage,logprobs:b.logprobs,providerMetadata:b.providerMetadata}),h.close()}}),rawCall:b.rawCall,rawResponse:b.rawResponse,warnings:b.warnings}}let{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await wn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:r,failedResponseHandler:Ra,successfulResponseHandler:Ui(aj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...s}=t,l=[],u="unknown",c={promptTokens:void 0,completionTokens:void 0},f,p=!0,{useLegacyFunctionCalling:m}=this.settings,w={openai:{}};return{stream:i.pipeThrough(new TransformStream({transform(b,x){var h,g,y,S,_,T,R,k,D,F,Ne,Te;if(!b.success){u="error",x.enqueue({type:"error",error:b.error});return}let B=b.value;if("error"in B){u="error",x.enqueue({type:"error",error:B.error});return}if(p&&(p=!1,x.enqueue({type:"response-metadata",...wp(B)})),B.usage!=null){let{prompt_tokens:Ce,completion_tokens:mt,prompt_tokens_details:A,completion_tokens_details:Ee}=B.usage;c={promptTokens:Ce!=null?Ce:void 0,completionTokens:mt!=null?mt:void 0},(Ee==null?void 0:Ee.reasoning_tokens)!=null&&(w.openai.reasoningTokens=Ee==null?void 0:Ee.reasoning_tokens),(Ee==null?void 0:Ee.accepted_prediction_tokens)!=null&&(w.openai.acceptedPredictionTokens=Ee==null?void 0:Ee.accepted_prediction_tokens),(Ee==null?void 0:Ee.rejected_prediction_tokens)!=null&&(w.openai.rejectedPredictionTokens=Ee==null?void 0:Ee.rejected_prediction_tokens),(A==null?void 0:A.cached_tokens)!=null&&(w.openai.cachedPromptTokens=A==null?void 0:A.cached_tokens)}let te=B.choices[0];if((te==null?void 0:te.finish_reason)!=null&&(u=xp(te.finish_reason)),(te==null?void 0:te.delta)==null)return;let ue=te.delta;ue.content!=null&&x.enqueue({type:"text-delta",textDelta:ue.content});let ze=vS(te==null?void 0:te.logprobs);ze!=null&&ze.length&&(f===void 0&&(f=[]),f.push(...ze));let be=m&&ue.function_call!=null?[{type:"function",id:Gn(),function:ue.function_call,index:0}]:ue.tool_calls;if(be!=null)for(let Ce of be){let mt=Ce.index;if(l[mt]==null){if(Ce.type!=="function")throw new Xu({data:Ce,message:"Expected 'function' type."});if(Ce.id==null)throw new Xu({data:Ce,message:"Expected 'id' to be a string."});if(((h=Ce.function)==null?void 0:h.name)==null)throw new Xu({data:Ce,message:"Expected 'function.name' to be a string."});l[mt]={id:Ce.id,type:"function",function:{name:Ce.function.name,arguments:(g=Ce.function.arguments)!=null?g:""},hasFinished:!1};let Ee=l[mt];((y=Ee.function)==null?void 0:y.name)!=null&&((S=Ee.function)==null?void 0:S.arguments)!=null&&(Ee.function.arguments.length>0&&x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Ee.id,toolName:Ee.function.name,argsTextDelta:Ee.function.arguments}),Dg(Ee.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(_=Ee.id)!=null?_:Gn(),toolName:Ee.function.name,args:Ee.function.arguments}),Ee.hasFinished=!0));continue}let A=l[mt];A.hasFinished||(((T=Ce.function)==null?void 0:T.arguments)!=null&&(A.function.arguments+=(k=(R=Ce.function)==null?void 0:R.arguments)!=null?k:""),x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:A.id,toolName:A.function.name,argsTextDelta:(D=Ce.function.arguments)!=null?D:""}),((F=A.function)==null?void 0:F.name)!=null&&((Ne=A.function)==null?void 0:Ne.arguments)!=null&&Dg(A.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(Te=A.id)!=null?Te:Gn(),toolName:A.function.name,args:A.function.arguments}),A.hasFinished=!0))}},flush(b){var x,h;b.enqueue({type:"finish",finishReason:u,logprobs:f,usage:{promptTokens:(x=c.promptTokens)!=null?x:NaN,completionTokens:(h=c.completionTokens)!=null?h:NaN},...w!=null?{providerMetadata:w}:{}})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},request:{body:JSON.stringify(r)},warnings:n}}},SS=d.object({prompt_tokens:d.number().nullish(),completion_tokens:d.number().nullish(),prompt_tokens_details:d.object({cached_tokens:d.number().nullish()}).nullish(),completion_tokens_details:d.object({reasoning_tokens:d.number().nullish(),accepted_prediction_tokens:d.number().nullish(),rejected_prediction_tokens:d.number().nullish()}).nullish()}).nullish(),rj=d.object({id:d.string().nullish(),created:d.number().nullish(),model:d.string().nullish(),choices:d.array(d.object({message:d.object({role:d.literal("assistant").nullish(),content:d.string().nullish(),function_call:d.object({arguments:d.string(),name:d.string()}).nullish(),tool_calls:d.array(d.object({id:d.string().nullish(),type:d.literal("function"),function:d.object({name:d.string(),arguments:d.string()})})).nullish()}),index:d.number(),logprobs:d.object({content:d.array(d.object({token:d.string(),logprob:d.number(),top_logprobs:d.array(d.object({token:d.string(),logprob:d.number()}))})).nullable()}).nullish(),finish_reason:d.string().nullish()})),usage:SS}),aj=d.union([d.object({id:d.string().nullish(),created:d.number().nullish(),model:d.string().nullish(),choices:d.array(d.object({delta:d.object({role:d.enum(["assistant"]).nullish(),content:d.string().nullish(),function_call:d.object({name:d.string().optional(),arguments:d.string().optional()}).nullish(),tool_calls:d.array(d.object({index:d.number(),id:d.string().nullish(),type:d.literal("function").optional(),function:d.object({name:d.string().nullish(),arguments:d.string().nullish()})})).nullish()}).nullish(),logprobs:d.object({content:d.array(d.object({token:d.string(),logprob:d.number(),top_logprobs:d.array(d.object({token:d.string(),logprob:d.number()}))})).nullable()}).nullish(),finish_reason:d.string().nullable().optional(),index:d.number()})),usage:SS}),zg]);function Ug(e){return e.startsWith("o")}function ij(e){return e.startsWith("gpt-4o-audio-preview")}function oj(e){var t,n;return Ug(e)?(n=(t=sj[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}var sj={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function lj({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let a="";e[0].role==="system"&&(a+=`${e[0].content}

`,e=e.slice(1));for(let{role:i,content:o}of e)switch(i){case"system":throw new pa({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let s=o.map(l=>{switch(l.type){case"text":return l.text;case"image":throw new ut({functionality:"images"})}}).join("");a+=`${n}:
${s}

`;break}case"assistant":{let s=o.map(l=>{switch(l.type){case"text":return l.text;case"tool-call":throw new ut({functionality:"tool-call messages"})}}).join("");a+=`${r}:
${s}

`;break}case"tool":throw new ut({functionality:"tool messages"});default:{let s=i;throw new Error(`Unsupported role: ${s}`)}}return a+=`${r}:
`,{prompt:a,stopSequences:[`
${n}:`]}}function bS(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,a])=>({token:r,logprob:a})):[]}))}var uj=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:a,topP:i,topK:o,frequencyPenalty:s,presencePenalty:l,stopSequences:u,responseFormat:c,seed:f}){var p;let m=e.type,w=[];o!=null&&w.push({type:"unsupported-setting",setting:"topK"}),c!=null&&c.type!=="text"&&w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:b,stopSequences:x}=lj({prompt:n,inputFormat:t}),h=[...x!=null?x:[],...u!=null?u:[]],g={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:a,top_p:i,frequency_penalty:s,presence_penalty:l,seed:f,prompt:b,stop:h.length>0?h:void 0};switch(m){case"regular":{if((p=e.tools)!=null&&p.length)throw new ut({functionality:"tools"});if(e.toolChoice)throw new ut({functionality:"toolChoice"});return{args:g,warnings:w}}case"object-json":throw new ut({functionality:"object-json mode"});case"object-tool":throw new ut({functionality:"object-tool mode"});default:{let y=m;throw new Error(`Unsupported type: ${y}`)}}}async doGenerate(e){let{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:a,rawValue:i}=await wn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:t,failedResponseHandler:Ra,successfulResponseHandler:fr(cj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,l=a.choices[0];return{text:l.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:xp(l.finish_reason),logprobs:bS(l.logprobs),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:r,body:i},response:wp(a),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){let{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await wn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:r,failedResponseHandler:Ra,successfulResponseHandler:Ui(fj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c,f=!0;return{stream:i.pipeThrough(new TransformStream({transform(p,m){if(!p.success){l="error",m.enqueue({type:"error",error:p.error});return}let w=p.value;if("error"in w){l="error",m.enqueue({type:"error",error:w.error});return}f&&(f=!1,m.enqueue({type:"response-metadata",...wp(w)})),w.usage!=null&&(u={promptTokens:w.usage.prompt_tokens,completionTokens:w.usage.completion_tokens});let b=w.choices[0];(b==null?void 0:b.finish_reason)!=null&&(l=xp(b.finish_reason)),(b==null?void 0:b.text)!=null&&m.enqueue({type:"text-delta",textDelta:b.text});let x=bS(b==null?void 0:b.logprobs);x!=null&&x.length&&(c===void 0&&(c=[]),c.push(...x))},flush(p){p.enqueue({type:"finish",finishReason:l,logprobs:c,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},warnings:n,request:{body:JSON.stringify(r)}}}},cj=d.object({id:d.string().nullish(),created:d.number().nullish(),model:d.string().nullish(),choices:d.array(d.object({text:d.string(),finish_reason:d.string(),logprobs:d.object({tokens:d.array(d.string()),token_logprobs:d.array(d.number()),top_logprobs:d.array(d.record(d.string(),d.number())).nullable()}).nullish()})),usage:d.object({prompt_tokens:d.number(),completion_tokens:d.number()})}),fj=d.union([d.object({id:d.string().nullish(),created:d.number().nullish(),model:d.string().nullish(),choices:d.array(d.object({text:d.string(),finish_reason:d.string().nullish(),index:d.number(),logprobs:d.object({tokens:d.array(d.string()),token_logprobs:d.array(d.number()),top_logprobs:d.array(d.record(d.string(),d.number())).nullable()}).nullish()})),usage:d.object({prompt_tokens:d.number(),completion_tokens:d.number()}).nullish()}),zg]),pj=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new Lw({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:r,value:a}=await wn({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:pn(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Ra,successfulResponseHandler:fr(dj),abortSignal:n,fetch:this.config.fetch});return{embeddings:a.data.map(i=>i.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},dj=d.object({data:d.array(d.object({embedding:d.array(d.number())})),usage:d.object({prompt_tokens:d.number()}).nullish()}),mj={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},hj=new Set(["gpt-image-1"]),gj=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:mj[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l,u,c,f;let p=[];r!=null&&p.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),a!=null&&p.push({type:"unsupported-setting",setting:"seed"});let m=(c=(u=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:u.call(l))!=null?c:new Date,{value:w,responseHeaders:b}=await wn({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:pn(this.config.headers(),o),body:{model:this.modelId,prompt:e,n:t,size:n,...(f=i.openai)!=null?f:{},...hj.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:Ra,successfulResponseHandler:fr(yj),abortSignal:s,fetch:this.config.fetch});return{images:w.data.map(x=>x.b64_json),warnings:p,response:{timestamp:m,modelId:this.modelId,headers:b}}}},yj=d.object({data:d.array(d.object({b64_json:d.string()}))}),vj=d.object({include:d.array(d.string()).nullish(),language:d.string().nullish(),prompt:d.string().nullish(),temperature:d.number().min(0).max(1).nullish().default(0),timestampGranularities:d.array(d.enum(["word","segment"])).nullish().default(["segment"])}),xS={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},bj=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:n}){var r,a,i,o,s;let l=[],u=Vi({provider:"openai",providerOptions:n,schema:vj}),c=new FormData,f=e instanceof Uint8Array?new Blob([e]):new Blob([zi(e)]);if(c.append("model",this.modelId),c.append("file",new File([f],"audio",{type:t})),u){let p={include:(r=u.include)!=null?r:void 0,language:(a=u.language)!=null?a:void 0,prompt:(i=u.prompt)!=null?i:void 0,temperature:(o=u.temperature)!=null?o:void 0,timestamp_granularities:(s=u.timestampGranularities)!=null?s:void 0};for(let m in p){let w=p[m];w!==void 0&&c.append(m,String(w))}}return{formData:c,warnings:l}}async doGenerate(e){var t,n,r,a,i,o;let s=(r=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?r:new Date,{formData:l,warnings:u}=this.getArgs(e),{value:c,responseHeaders:f,rawValue:p}=await Ww({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),formData:l,failedResponseHandler:Ra,successfulResponseHandler:fr(xj),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=c.language!=null&&c.language in xS?xS[c.language]:void 0;return{text:c.text,segments:(i=(a=c.words)==null?void 0:a.map(w=>({text:w.word,startSecond:w.start,endSecond:w.end})))!=null?i:[],language:m,durationInSeconds:(o=c.duration)!=null?o:void 0,warnings:u,response:{timestamp:s,modelId:this.modelId,headers:f,body:p}}}},xj=d.object({text:d.string(),language:d.string().nullish(),duration:d.number().nullish(),words:d.array(d.object({word:d.string(),start:d.number(),end:d.number()})).nullish()});function wj({prompt:e,systemMessageMode:t}){let n=[],r=[];for(let{role:a,content:i}of e)switch(a){case"system":{switch(t){case"system":{n.push({role:"system",content:i});break}case"developer":{n.push({role:"developer",content:i});break}case"remove":{r.push({type:"other",message:"system messages are removed for this model"});break}default:{let o=t;throw new Error(`Unsupported system message mode: ${o}`)}}break}case"user":{n.push({role:"user",content:i.map((o,s)=>{var l,u,c,f;switch(o.type){case"text":return{type:"input_text",text:o.text};case"image":return{type:"input_image",image_url:o.image instanceof URL?o.image.toString():`data:${(l=o.mimeType)!=null?l:"image/jpeg"};base64,${da(o.image)}`,detail:(c=(u=o.providerMetadata)==null?void 0:u.openai)==null?void 0:c.imageDetail};case"file":{if(o.data instanceof URL)throw new ut({functionality:"File URLs in user messages"});switch(o.mimeType){case"application/pdf":return{type:"input_file",filename:(f=o.filename)!=null?f:`part-${s}.pdf`,file_data:`data:application/pdf;base64,${o.data}`};default:throw new ut({functionality:"Only PDF files are supported in user messages"})}}}})});break}case"assistant":{for(let o of i)switch(o.type){case"text":{n.push({role:"assistant",content:[{type:"output_text",text:o.text}]});break}case"tool-call":{n.push({type:"function_call",call_id:o.toolCallId,name:o.toolName,arguments:JSON.stringify(o.args)});break}}break}case"tool":{for(let o of i)n.push({type:"function_call_output",call_id:o.toolCallId,output:JSON.stringify(o.result)});break}default:{let o=a;throw new Error(`Unsupported role: ${o}`)}}return{messages:n,warnings:r}}function wS({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function Sj({mode:e,strict:t}){var n;let r=(n=e.tools)!=null&&n.length?e.tools:void 0,a=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let i=e.toolChoice,o=[];for(let l of r)switch(l.type){case"function":o.push({type:"function",name:l.name,description:l.description,parameters:l.parameters,strict:t?!0:void 0});break;case"provider-defined":switch(l.id){case"openai.web_search_preview":o.push({type:"web_search_preview",search_context_size:l.args.searchContextSize,user_location:l.args.userLocation});break;default:a.push({type:"unsupported-tool",tool:l});break}break;default:a.push({type:"unsupported-tool",tool:l});break}if(i==null)return{tools:o,tool_choice:void 0,toolWarnings:a};let s=i.type;switch(s){case"auto":case"none":case"required":return{tools:o,tool_choice:s,toolWarnings:a};case"tool":return i.toolName==="web_search_preview"?{tools:o,tool_choice:{type:"web_search_preview"},toolWarnings:a}:{tools:o,tool_choice:{type:"function",name:i.toolName},toolWarnings:a};default:{let l=s;throw new ut({functionality:`Unsupported tool choice type: ${l}`})}}}var Tj=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:n,stopSequences:r,topP:a,topK:i,presencePenalty:o,frequencyPenalty:s,seed:l,prompt:u,providerMetadata:c,responseFormat:f}){var p,m,w;let b=[],x=Bj(this.modelId),h=e.type;i!=null&&b.push({type:"unsupported-setting",setting:"topK"}),l!=null&&b.push({type:"unsupported-setting",setting:"seed"}),o!=null&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),s!=null&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&b.push({type:"unsupported-setting",setting:"stopSequences"});let{messages:g,warnings:y}=wj({prompt:u,systemMessageMode:x.systemMessageMode});b.push(...y);let S=Vi({provider:"openai",providerOptions:c,schema:qj}),_=(p=S==null?void 0:S.strictSchemas)!=null?p:!0,T={model:this.modelId,input:g,temperature:n,top_p:a,max_output_tokens:t,...(f==null?void 0:f.type)==="json"&&{text:{format:f.schema!=null?{type:"json_schema",strict:_,name:(m=f.name)!=null?m:"response",description:f.description,schema:f.schema}:{type:"json_object"}}},metadata:S==null?void 0:S.metadata,parallel_tool_calls:S==null?void 0:S.parallelToolCalls,previous_response_id:S==null?void 0:S.previousResponseId,store:S==null?void 0:S.store,user:S==null?void 0:S.user,instructions:S==null?void 0:S.instructions,...x.isReasoningModel&&((S==null?void 0:S.reasoningEffort)!=null||(S==null?void 0:S.reasoningSummary)!=null)&&{reasoning:{...(S==null?void 0:S.reasoningEffort)!=null&&{effort:S.reasoningEffort},...(S==null?void 0:S.reasoningSummary)!=null&&{summary:S.reasoningSummary}}},...x.requiredAutoTruncation&&{truncation:"auto"}};switch(x.isReasoningModel&&(T.temperature!=null&&(T.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),T.top_p!=null&&(T.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),h){case"regular":{let{tools:R,tool_choice:k,toolWarnings:D}=Sj({mode:e,strict:_});return{args:{...T,tools:R,tool_choice:k},warnings:[...b,...D]}}case"object-json":return{args:{...T,text:{format:e.schema!=null?{type:"json_schema",strict:_,name:(w=e.name)!=null?w:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:b};case"object-tool":return{args:{...T,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:_}]},warnings:b};default:{let R=h;throw new Error(`Unsupported type: ${R}`)}}}async doGenerate(e){var t,n,r,a,i,o,s;let{args:l,warnings:u}=this.getArgs(e),{responseHeaders:c,value:f,rawValue:p}=await wn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:l,failedResponseHandler:Ra,successfulResponseHandler:fr(d.object({id:d.string(),created_at:d.number(),model:d.string(),output:d.array(d.discriminatedUnion("type",[d.object({type:d.literal("message"),role:d.literal("assistant"),content:d.array(d.object({type:d.literal("output_text"),text:d.string(),annotations:d.array(d.object({type:d.literal("url_citation"),start_index:d.number(),end_index:d.number(),url:d.string(),title:d.string()}))}))}),d.object({type:d.literal("function_call"),call_id:d.string(),name:d.string(),arguments:d.string()}),d.object({type:d.literal("web_search_call")}),d.object({type:d.literal("computer_call")}),d.object({type:d.literal("reasoning"),summary:d.array(d.object({type:d.literal("summary_text"),text:d.string()}))})])),incomplete_details:d.object({reason:d.string()}).nullable(),usage:TS})),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=f.output.filter(x=>x.type==="message").flatMap(x=>x.content).filter(x=>x.type==="output_text"),w=f.output.filter(x=>x.type==="function_call").map(x=>({toolCallType:"function",toolCallId:x.call_id,toolName:x.name,args:x.arguments})),b=(n=(t=f.output.find(x=>x.type==="reasoning"))==null?void 0:t.summary)!=null?n:null;return{text:m.map(x=>x.text).join(`
`),sources:m.flatMap(x=>x.annotations.map(h=>{var g,y,S;return{sourceType:"url",id:(S=(y=(g=this.config).generateId)==null?void 0:y.call(g))!=null?S:Gn(),url:h.url,title:h.title}})),finishReason:wS({finishReason:(r=f.incomplete_details)==null?void 0:r.reason,hasToolCalls:w.length>0}),toolCalls:w.length>0?w:void 0,reasoning:b?b.map(x=>({type:"text",text:x.text})):void 0,usage:{promptTokens:f.usage.input_tokens,completionTokens:f.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:c,body:p},request:{body:JSON.stringify(l)},response:{id:f.id,timestamp:new Date(f.created_at*1e3),modelId:f.model},providerMetadata:{openai:{responseId:f.id,cachedPromptTokens:(i=(a=f.usage.input_tokens_details)==null?void 0:a.cached_tokens)!=null?i:null,reasoningTokens:(s=(o=f.usage.output_tokens_details)==null?void 0:o.reasoning_tokens)!=null?s:null}},warnings:u}}async doStream(e){let{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:a}=await wn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:Ra,successfulResponseHandler:Ui(Dj),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=this,o="unknown",s=NaN,l=NaN,u=null,c=null,f=null,p={},m=!1;return{stream:a.pipeThrough(new TransformStream({transform(w,b){var x,h,g,y,S,_,T,R;if(!w.success){o="error",b.enqueue({type:"error",error:w.error});return}let k=w.value;if(Vj(k))k.item.type==="function_call"&&(p[k.output_index]={toolName:k.item.name,toolCallId:k.item.call_id},b.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:k.item.call_id,toolName:k.item.name,argsTextDelta:k.item.arguments}));else if(Lj(k)){let D=p[k.output_index];D!=null&&b.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:D.toolCallId,toolName:D.toolName,argsTextDelta:k.delta})}else jj(k)?(f=k.response.id,b.enqueue({type:"response-metadata",id:k.response.id,timestamp:new Date(k.response.created_at*1e3),modelId:k.response.model})):Pj(k)?b.enqueue({type:"text-delta",textDelta:k.delta}):zj(k)?b.enqueue({type:"reasoning",textDelta:k.delta}):Nj(k)&&k.item.type==="function_call"?(p[k.output_index]=void 0,m=!0,b.enqueue({type:"tool-call",toolCallType:"function",toolCallId:k.item.call_id,toolName:k.item.name,args:k.item.arguments})):Ij(k)?(o=wS({finishReason:(x=k.response.incomplete_details)==null?void 0:x.reason,hasToolCalls:m}),s=k.response.usage.input_tokens,l=k.response.usage.output_tokens,u=(g=(h=k.response.usage.input_tokens_details)==null?void 0:h.cached_tokens)!=null?g:u,c=(S=(y=k.response.usage.output_tokens_details)==null?void 0:y.reasoning_tokens)!=null?S:c):Uj(k)&&b.enqueue({type:"source",source:{sourceType:"url",id:(R=(T=(_=i.config).generateId)==null?void 0:T.call(_))!=null?R:Gn(),url:k.annotation.url,title:k.annotation.title}})},flush(w){w.enqueue({type:"finish",finishReason:o,usage:{promptTokens:s,completionTokens:l},...(u!=null||c!=null)&&{providerMetadata:{openai:{responseId:f,cachedPromptTokens:u,reasoningTokens:c}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:r},request:{body:JSON.stringify(t)},warnings:n}}},TS=d.object({input_tokens:d.number(),input_tokens_details:d.object({cached_tokens:d.number().nullish()}).nullish(),output_tokens:d.number(),output_tokens_details:d.object({reasoning_tokens:d.number().nullish()}).nullish()}),_j=d.object({type:d.literal("response.output_text.delta"),delta:d.string()}),Ej=d.object({type:d.enum(["response.completed","response.incomplete"]),response:d.object({incomplete_details:d.object({reason:d.string()}).nullish(),usage:TS})}),kj=d.object({type:d.literal("response.created"),response:d.object({id:d.string(),created_at:d.number(),model:d.string()})}),Aj=d.object({type:d.literal("response.output_item.done"),output_index:d.number(),item:d.discriminatedUnion("type",[d.object({type:d.literal("message")}),d.object({type:d.literal("function_call"),id:d.string(),call_id:d.string(),name:d.string(),arguments:d.string(),status:d.literal("completed")})])}),Cj=d.object({type:d.literal("response.function_call_arguments.delta"),item_id:d.string(),output_index:d.number(),delta:d.string()}),Mj=d.object({type:d.literal("response.output_item.added"),output_index:d.number(),item:d.discriminatedUnion("type",[d.object({type:d.literal("message")}),d.object({type:d.literal("function_call"),id:d.string(),call_id:d.string(),name:d.string(),arguments:d.string()})])}),Rj=d.object({type:d.literal("response.output_text.annotation.added"),annotation:d.object({type:d.literal("url_citation"),url:d.string(),title:d.string()})}),Oj=d.object({type:d.literal("response.reasoning_summary_text.delta"),item_id:d.string(),output_index:d.number(),summary_index:d.number(),delta:d.string()}),Dj=d.union([_j,Ej,kj,Aj,Cj,Mj,Rj,Oj,d.object({type:d.string()}).passthrough()]);function Pj(e){return e.type==="response.output_text.delta"}function Nj(e){return e.type==="response.output_item.done"}function Ij(e){return e.type==="response.completed"||e.type==="response.incomplete"}function jj(e){return e.type==="response.created"}function Lj(e){return e.type==="response.function_call_arguments.delta"}function Vj(e){return e.type==="response.output_item.added"}function Uj(e){return e.type==="response.output_text.annotation.added"}function zj(e){return e.type==="response.reasoning_summary_text.delta"}function Bj(e){return e.startsWith("o")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var qj=d.object({metadata:d.any().nullish(),parallelToolCalls:d.boolean().nullish(),previousResponseId:d.string().nullish(),store:d.boolean().nullish(),user:d.string().nullish(),reasoningEffort:d.string().nullish(),strictSchemas:d.boolean().nullish(),instructions:d.string().nullish(),reasoningSummary:d.string().nullish()}),Fj=d.object({});function Hj({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:Fj}}var $j={webSearchPreview:Hj},Gj=d.object({instructions:d.string().nullish(),speed:d.number().min(.25).max(4).default(1).nullish()}),Yj=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:n="mp3",speed:r,instructions:a,providerOptions:i}){let o=[],s=Vi({provider:"openai",providerOptions:i,schema:Gj}),l={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:r,instructions:a};if(n&&(["mp3","opus","aac","flac","wav","pcm"].includes(n)?l.response_format=n:o.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${n}. Using mp3 instead.`})),s){let u={};for(let c in u){let f=u[c];f!==void 0&&(l[c]=f)}}return{requestBody:l,warnings:o}}async doGenerate(e){var t,n,r;let a=(r=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?r:new Date,{requestBody:i,warnings:o}=this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await wn({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:pn(this.config.headers(),e.headers),body:i,failedResponseHandler:Ra,successfulResponseHandler:nS(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(i)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}};function Bg(e={}){var t,n,r;let a=(t=gp(e.baseURL))!=null?t:"https://api.openai.com/v1",i=(n=e.compatibility)!=null?n:"compatible",o=(r=e.name)!=null?r:"openai",s=()=>({Authorization:`Bearer ${dp({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),l=(h,g={})=>new nj(h,g,{provider:`${o}.chat`,url:({path:y})=>`${a}${y}`,headers:s,compatibility:i,fetch:e.fetch}),u=(h,g={})=>new uj(h,g,{provider:`${o}.completion`,url:({path:y})=>`${a}${y}`,headers:s,compatibility:i,fetch:e.fetch}),c=(h,g={})=>new pj(h,g,{provider:`${o}.embedding`,url:({path:y})=>`${a}${y}`,headers:s,fetch:e.fetch}),f=(h,g={})=>new gj(h,g,{provider:`${o}.image`,url:({path:y})=>`${a}${y}`,headers:s,fetch:e.fetch}),p=h=>new bj(h,{provider:`${o}.transcription`,url:({path:g})=>`${a}${g}`,headers:s,fetch:e.fetch}),m=h=>new Yj(h,{provider:`${o}.speech`,url:({path:g})=>`${a}${g}`,headers:s,fetch:e.fetch}),w=(h,g)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return h==="gpt-3.5-turbo-instruct"?u(h,g):l(h,g)},b=h=>new Tj(h,{provider:`${o}.responses`,url:({path:g})=>`${a}${g}`,headers:s,fetch:e.fetch}),x=function(h,g){return w(h,g)};return x.languageModel=w,x.chat=l,x.completion=u,x.responses=b,x.embedding=c,x.textEmbedding=c,x.textEmbeddingModel=c,x.image=f,x.imageModel=f,x.transcription=p,x.transcriptionModel=p,x.speech=m,x.speechModel=m,x.tools=$j,x}var LF=Bg({compatibility:"strict"});var ES=Symbol("Let zodToJsonSchema decide on which parser to use");var _S={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},kS=e=>typeof e=="string"?{..._S,name:e}:{..._S,...e};var AS=e=>{let t=kS(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function qg(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function at(e,t,n,r,a){e[t]=n,qg(e,t,r,a)}function CS(){return{}}function MS(e,t){var r,a,i;let n={type:"array"};return(r=e.type)!=null&&r._def&&((i=(a=e.type)==null?void 0:a._def)==null?void 0:i.typeName)!==Z.ZodAny&&(n.items=Re(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&at(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&at(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(at(n,"minItems",e.exactLength.value,e.exactLength.message,t),at(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function RS(e,t){let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?at(n,"minimum",r.value,r.message,t):at(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),at(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?at(n,"maximum",r.value,r.message,t):at(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),at(n,"maximum",r.value,r.message,t));break;case"multipleOf":at(n,"multipleOf",r.value,r.message,t);break}return n}function OS(){return{type:"boolean"}}function Sp(e,t){return Re(e.type._def,t)}var DS=(e,t)=>Re(e.innerType._def,t);function Fg(e,t,n){let r=n!=null?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,i)=>Fg(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Zj(e,t)}}var Zj=(e,t)=>{let n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(let r of e.checks)switch(r.kind){case"min":at(n,"minimum",r.value,r.message,t);break;case"max":at(n,"maximum",r.value,r.message,t);break}return n};function PS(e,t){return{...Re(e.innerType._def,t),default:e.defaultValue()}}function NS(e,t){return t.effectStrategy==="input"?Re(e.schema._def,t):{}}function IS(e){return{type:"string",enum:Array.from(e.values)}}var Kj=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function jS(e,t){let n=[Re(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Re(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,a=[];return n.forEach(i=>{if(Kj(i))a.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...l}=i;o=l}else r=void 0;a.push(o)}}),a.length?{allOf:a,...r}:void 0}function LS(e,t){let n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}var Hg,ha={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Hg===void 0&&(Hg=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Hg),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Tp(e,t){let n={type:"string"};if(e.checks)for(let r of e.checks)switch(r.kind){case"min":at(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":at(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ga(n,"email",r.message,t);break;case"format:idn-email":ga(n,"idn-email",r.message,t);break;case"pattern:zod":nr(n,ha.email,r.message,t);break}break;case"url":ga(n,"uri",r.message,t);break;case"uuid":ga(n,"uuid",r.message,t);break;case"regex":nr(n,r.regex,r.message,t);break;case"cuid":nr(n,ha.cuid,r.message,t);break;case"cuid2":nr(n,ha.cuid2,r.message,t);break;case"startsWith":nr(n,RegExp(`^${$g(r.value,t)}`),r.message,t);break;case"endsWith":nr(n,RegExp(`${$g(r.value,t)}$`),r.message,t);break;case"datetime":ga(n,"date-time",r.message,t);break;case"date":ga(n,"date",r.message,t);break;case"time":ga(n,"time",r.message,t);break;case"duration":ga(n,"duration",r.message,t);break;case"length":at(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),at(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{nr(n,RegExp($g(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&ga(n,"ipv4",r.message,t),r.version!=="v4"&&ga(n,"ipv6",r.message,t);break}case"base64url":nr(n,ha.base64url,r.message,t);break;case"jwt":nr(n,ha.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&nr(n,ha.ipv4Cidr,r.message,t),r.version!=="v4"&&nr(n,ha.ipv6Cidr,r.message,t);break}case"emoji":nr(n,ha.emoji(),r.message,t);break;case"ulid":{nr(n,ha.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ga(n,"binary",r.message,t);break}case"contentEncoding:base64":{at(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{nr(n,ha.base64,r.message,t);break}}break}case"nanoid":nr(n,ha.nanoid,r.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:(a=>{})(r)}return n}function $g(e,t){return t.patternStrategy==="escape"?Xj(e):e}var Jj=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Xj(e){let t="";for(let n=0;n<e.length;n++)Jj.has(e[n])||(t+="\\"),t+=e[n];return t}function ga(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):at(e,"format",t,n,r)}function nr(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:VS(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):at(e,"pattern",VS(t,r),n,r)}function VS(e,t){var l;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source,a="",i=!1,o=!1,s=!1;for(let u=0;u<r.length;u++){if(i){a+=r[u],i=!1;continue}if(n.i){if(o){if(r[u].match(/[a-z]/)){s?(a+=r[u],a+=`${r[u-2]}-${r[u]}`.toUpperCase(),s=!1):r[u+1]==="-"&&((l=r[u+2])!=null&&l.match(/[a-z]/))?(a+=r[u],s=!0):a+=`${r[u]}${r[u].toUpperCase()}`;continue}}else if(r[u].match(/[a-z]/)){a+=`[${r[u]}${r[u].toUpperCase()}]`;continue}}if(n.m){if(r[u]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[u]==="$"){a+=`($|(?=[\r
]))`;continue}}if(n.s&&r[u]==="."){a+=o?`${r[u]}\r
`:`[${r[u]}\r
]`;continue}a+=r[u],r[u]==="\\"?i=!0:o&&r[u]==="]"?o=!1:!o&&r[u]==="["&&(o=!0)}try{new RegExp(a)}catch(u){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function _p(e,t){var r,a,i,o,s,l,u;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===Z.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((c,f)=>{var p;return{...c,[f]:(p=Re(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",f]}))!=null?p:{}}},{}),additionalProperties:t.rejectedAdditionalProperties};let n={type:"object",additionalProperties:(a=Re(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?a:t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(((i=e.keyType)==null?void 0:i._def.typeName)===Z.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:c,...f}=Tp(e.keyType._def,t);return{...n,propertyNames:f}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===Z.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((l=e.keyType)==null?void 0:l._def.typeName)===Z.ZodBranded&&e.keyType._def.type._def.typeName===Z.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:c,...f}=Sp(e.keyType._def,t);return{...n,propertyNames:f}}}return n}function US(e,t){if(t.mapStrategy==="record")return _p(e,t);let n=Re(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=Re(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function zS(e){let t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),a=Array.from(new Set(r.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function BS(){return{not:{}}}function qS(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var ic={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function HS(e,t){if(t.target==="openApi3")return FS(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in ic&&(!r._def.checks||!r._def.checks.length))){let r=n.reduce((a,i)=>{let o=ic[i._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){let r=n.reduce((a,i)=>{let o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){let a=r.filter((i,o,s)=>s.indexOf(i)===o);return{type:a.length>1?a:a[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(i=>!r.includes(i))],[])};return FS(e,t)}var FS=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>Re(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function $S(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:ic[e.innerType._def.typeName],nullable:!0}:{type:[ic[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let r=Re(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let n=Re(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function GS(e,t){let n={type:"number"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"int":n.type="integer",qg(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?at(n,"minimum",r.value,r.message,t):at(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),at(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?at(n,"maximum",r.value,r.message,t):at(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),at(n,"maximum",r.value,r.message,t));break;case"multipleOf":at(n,"multipleOf",r.value,r.message,t);break}return n}function YS(e,t){let n=t.target==="openAi",r={type:"object",properties:{}},a=[],i=e.shape();for(let s in i){let l=i[s];if(l===void 0||l._def===void 0)continue;let u=Wj(l);u&&n&&(l instanceof pr&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);let c=Re(l._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});c!==void 0&&(r.properties[s]=c,u||a.push(s))}a.length&&(r.required=a);let o=Qj(e,t);return o!==void 0&&(r.additionalProperties=o),r}function Qj(e,t){if(e.catchall._def.typeName!=="ZodNever")return Re(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Wj(e){try{return e.isOptional()}catch(t){return!0}}var ZS=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Re(e.innerType._def,t);let n=Re(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}};var KS=(e,t)=>{if(t.pipeStrategy==="input")return Re(e.in._def,t);if(t.pipeStrategy==="output")return Re(e.out._def,t);let n=Re(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Re(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function JS(e,t){return Re(e.type._def,t)}function XS(e,t){let r={type:"array",uniqueItems:!0,items:Re(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&at(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&at(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function QS(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Re(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Re(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Re(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function WS(){return{not:{}}}function eT(){return{}}var tT=(e,t)=>Re(e.innerType._def,t);var nT=(e,t,n)=>{switch(t){case Z.ZodString:return Tp(e,n);case Z.ZodNumber:return GS(e,n);case Z.ZodObject:return YS(e,n);case Z.ZodBigInt:return RS(e,n);case Z.ZodBoolean:return OS();case Z.ZodDate:return Fg(e,n);case Z.ZodUndefined:return WS();case Z.ZodNull:return qS(n);case Z.ZodArray:return MS(e,n);case Z.ZodUnion:case Z.ZodDiscriminatedUnion:return HS(e,n);case Z.ZodIntersection:return jS(e,n);case Z.ZodTuple:return QS(e,n);case Z.ZodRecord:return _p(e,n);case Z.ZodLiteral:return LS(e,n);case Z.ZodEnum:return IS(e);case Z.ZodNativeEnum:return zS(e);case Z.ZodNullable:return $S(e,n);case Z.ZodOptional:return ZS(e,n);case Z.ZodMap:return US(e,n);case Z.ZodSet:return XS(e,n);case Z.ZodLazy:return()=>e.getter()._def;case Z.ZodPromise:return JS(e,n);case Z.ZodNaN:case Z.ZodNever:return BS();case Z.ZodEffects:return NS(e,n);case Z.ZodAny:return CS();case Z.ZodUnknown:return eT();case Z.ZodDefault:return PS(e,n);case Z.ZodBranded:return Sp(e,n);case Z.ZodReadonly:return tT(e,n);case Z.ZodCatch:return DS(e,n);case Z.ZodPipeline:return KS(e,n);case Z.ZodFunction:case Z.ZodVoid:case Z.ZodSymbol:return;default:return(r=>{})(t)}};function Re(e,t,n=!1){var s;let r=t.seen.get(e);if(t.override){let l=(s=t.override)==null?void 0:s.call(t,e,t,r,n);if(l!==ES)return l}if(r&&!n){let l=e4(r,t);if(l!==void 0)return l}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=nT(e,e.typeName,t),o=typeof i=="function"?Re(i(),t):i;if(o&&n4(e,t,o),t.postProcess){let l=t.postProcess(o,e,t);return a.jsonSchema=o,l}return a.jsonSchema=o,o}var e4=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:t4(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},t4=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},n4=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n);var rT=(e,t)=>{var l;let n=AS(t),r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[c,f])=>{var p;return{...u,[c]:(p=Re(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0))!=null?p:{}}},{}):void 0,a=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,i=(l=Re(e._def,a===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1))!=null?l:{},o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(i.title=o);let s=a===void 0?r?{...i,[n.definitionPath]:r}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:i}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};var aT=rT;var oc={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},sc={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},lc={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},uc={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},cc={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},r4=[oc,sc,lc,uc,cc],k$={[oc.code]:oc,[sc.code]:sc,[lc.code]:lc,[uc.code]:uc,[cc.code]:cc},A$={[oc.name]:oc.code,[sc.name]:sc.code,[lc.name]:lc.code,[uc.name]:uc.code,[cc.name]:cc.code},C$=r4.map(e=>e.code);function a4(e){let t=["ROOT"],n=-1,r=null;function a(l,u,c){switch(l){case'"':{n=u,t.pop(),t.push(c),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=u,r=u,t.pop(),t.push(c),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u,t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"{":{n=u,t.pop(),t.push(c),t.push("INSIDE_OBJECT_START");break}case"[":{n=u,t.pop(),t.push(c),t.push("INSIDE_ARRAY_START");break}}}function i(l,u){switch(l){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=u,t.pop();break}}}function o(l,u){switch(l){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}}}for(let l=0;l<e.length;l++){let u=e[l];switch(t[t.length-1]){case"ROOT":a(u,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=l,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(u,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(u,l);break}case"INSIDE_STRING":{switch(u){case'"':{t.pop(),n=l;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=l}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{n=l,t.pop();break}default:{n=l,a(u,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=l,t.pop();break}default:{n=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(u,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=l;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=l;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,l),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(u,l);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(u,l);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,l);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{let f=e.substring(r,l+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(u,l):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,l)):n=l;break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--)switch(t[l]){case"INSIDE_STRING":{s+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{s+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{s+="]";break}case"INSIDE_LITERAL":{let c=e.substring(r,e.length);"true".startsWith(c)?s+="true".slice(c.length):"false".startsWith(c)?s+="false".slice(c.length):"null".startsWith(c)&&(s+="null".slice(c.length))}}return s}function iT(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=Ea({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=Ea({text:a4(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var i4={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},o4={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},s4={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},l4={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},u4={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},c4={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},f4={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},p4={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},d4={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},m4={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},h4={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},g4={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},y4={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},v4={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},b4={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},x4={code:"k",name:"file",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string"||!("mimeType"in e)||typeof e.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},Ep=[i4,o4,s4,l4,u4,c4,f4,p4,d4,m4,h4,g4,y4,v4,b4,x4],R$=Object.fromEntries(Ep.map(e=>[e.code,e])),O$=Object.fromEntries(Ep.map(e=>[e.name,e.code])),D$=Ep.map(e=>e.code);function dn(e,t){let n=Ep.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}var P$=`
`.charCodeAt(0);var N$=`
`.charCodeAt(0);function w4(e,t){var n;let r=(n=t==null?void 0:t.useReferences)!=null?n:!1;return S4(aT(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:a=>{let i=e.safeParse(a);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}var Gg=Symbol.for("vercel.ai.schema");function S4(e,{validate:t}={}){return{[Gg]:!0,_type:void 0,[Wu]:!0,jsonSchema:e,validate:t}}function T4(e){return typeof e=="object"&&e!==null&&Gg in e&&e[Gg]===!0&&"jsonSchema"in e&&"validate"in e}function Wo(e){return T4(e)?e:w4(e)}var oT=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var ai="1.9.0";var sT=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _4(e){var t=new Set([e]),n=new Set,r=e.match(sT);if(!r)return function(){return!1};var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(a.prerelease!=null)return function(l){return l===e};function i(s){return n.add(s),!1}function o(s){return t.add(s),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var u=l.match(sT);if(!u)return i(l);var c={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return c.prerelease!=null||a.major!==c.major?i(l):a.major===0?a.minor===c.minor&&a.patch<=c.patch?o(l):i(l):a.minor<=c.minor?o(l):i(l)}}var lT=_4(ai);var E4=ai.split(".")[0],fc=Symbol.for("opentelemetry.js.api."+E4),pc=oT;function pl(e,t,n,r){var a;r===void 0&&(r=!1);var i=pc[fc]=(a=pc[fc])!==null&&a!==void 0?a:{version:ai};if(!r&&i[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(i.version!==ai){var o=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+ai);return n.error(o.stack||o.message),!1}return i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+ai+"."),!0}function ii(e){var t,n,r=(t=pc[fc])===null||t===void 0?void 0:t.version;if(!(!r||!lT(r)))return(n=pc[fc])===null||n===void 0?void 0:n[e]}function dl(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ai+".");var n=pc[fc];n&&delete n[e]}var k4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},A4=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},uT=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dc("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dc("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dc("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dc("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dc("verbose",this._namespace,t)},e}();function dc(e,t,n){var r=ii("diag");if(r)return n.unshift(t),r[e].apply(r,A4([],k4(n),!1))}var rr;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(rr||(rr={}));function cT(e,t){e<rr.NONE?e=rr.NONE:e>rr.ALL&&(e=rr.ALL),t=t||{};function n(r,a){var i=t[r];return typeof i=="function"&&e>=a?i.bind(t):function(){}}return{error:n("error",rr.ERROR),warn:n("warn",rr.WARN),info:n("info",rr.INFO),debug:n("debug",rr.DEBUG),verbose:n("verbose",rr.VERBOSE)}}var C4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},M4=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},R4="diag",ml=function(){function e(){function t(a){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=ii("diag");if(s)return s[a].apply(s,M4([],C4(i),!1))}}var n=this,r=function(a,i){var o,s,l;if(i===void 0&&(i={logLevel:rr.INFO}),a===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((o=u.stack)!==null&&o!==void 0?o:u.message),!1}typeof i=="number"&&(i={logLevel:i});var c=ii("diag"),f=cT((s=i.logLevel)!==null&&s!==void 0?s:rr.INFO,a);if(c&&!i.suppressOverrideMessage){var p=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+p),f.warn("Current logger will overwrite one already registered from "+p)}return pl("diag",f,n,!0)};n.setLogger=r,n.disable=function(){dl(R4,n)},n.createComponentLogger=function(a){return new uT(a)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function fT(e){return Symbol.for(e)}var O4=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,a){var i=new e(n._currentContext);return i._currentContext.set(r,a),i},n.deleteValue=function(r){var a=new e(n._currentContext);return a._currentContext.delete(r),a}}return e}(),pT=new O4;var D4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},P4=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},dT=function(){function e(){}return e.prototype.active=function(){return pT},e.prototype.with=function(t,n,r){for(var a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return n.call.apply(n,P4([r],D4(a),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var N4=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},I4=function(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Yg="context",j4=new dT,kp=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return pl(Yg,t,ml.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var a,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(a=this._getContextManager()).with.apply(a,I4([t,n,r],N4(i),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return ii(Yg)||j4},e.prototype.disable=function(){this._getContextManager().disable(),dl(Yg,ml.instance())},e}();var Ap;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Ap||(Ap={}));var Zg="0000000000000000",Kg="00000000000000000000000000000000",mT={traceId:Kg,spanId:Zg,traceFlags:Ap.NONE};var Hi=function(){function e(t){t===void 0&&(t=mT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}();var Jg=fT("OpenTelemetry Context Key SPAN");function Cp(e){return e.getValue(Jg)||void 0}function hT(){return Cp(kp.getInstance().active())}function mc(e,t){return e.setValue(Jg,t)}function gT(e){return e.deleteValue(Jg)}function yT(e,t){return mc(e,new Hi(t))}function Mp(e){var t;return(t=Cp(e))===null||t===void 0?void 0:t.spanContext()}var L4=/^([0-9a-f]{32})$/i,V4=/^[0-9a-f]{16}$/i;function U4(e){return L4.test(e)&&e!==Kg}function z4(e){return V4.test(e)&&e!==Zg}function Rp(e){return U4(e.traceId)&&z4(e.spanId)}function vT(e){return new Hi(e)}var Xg=kp.getInstance(),Op=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Xg.active());var a=Boolean(n==null?void 0:n.root);if(a)return new Hi;var i=r&&Mp(r);return B4(i)&&Rp(i)?new Hi(i):new Hi},e.prototype.startActiveSpan=function(t,n,r,a){var i,o,s;if(!(arguments.length<2)){arguments.length===2?s=n:arguments.length===3?(i=n,s=r):(i=n,o=r,s=a);var l=o!=null?o:Xg.active(),u=this.startSpan(t,i,l),c=mc(l,u);return Xg.with(c,s,void 0,u)}},e}();function B4(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var q4=new Op,bT=function(){function e(t,n,r,a){this._provider=t,this.name=n,this.version=r,this.options=a}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,a){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):q4},e}();var xT=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new Op},e}();var F4=new xT,Qg=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var a;return(a=this.getDelegateTracer(t,n,r))!==null&&a!==void 0?a:new bT(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:F4},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var a;return(a=this._delegate)===null||a===void 0?void 0:a.getTracer(t,n,r)},e}();var hl;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(hl||(hl={}));var Wg="trace",wT=function(){function e(){this._proxyTracerProvider=new Qg,this.wrapSpanContext=vT,this.isSpanContextValid=Rp,this.deleteSpan=gT,this.getSpan=Cp,this.getActiveSpan=hT,this.getSpanContext=Mp,this.setSpan=mc,this.setSpanContext=yT}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=pl(Wg,this._proxyTracerProvider,ml.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return ii(Wg)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){dl(Wg,ml.instance()),this._proxyTracerProvider=new Qg},e}();var ey=wT.getInstance();var H4=Object.defineProperty,uy=(e,t)=>{for(var n in t)H4(e,n,{get:t[n],enumerable:!0})};function Pp(e,{contentType:t,dataStreamVersion:n}){let r=new Headers(e!=null?e:{});return r.has("Content-Type")||r.set("Content-Type",t),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}function ST(e,{contentType:t,dataStreamVersion:n}){let r={};if(e!=null)for(let[a,i]of Object.entries(e))r[a]=i;return r["Content-Type"]==null&&(r["Content-Type"]=t),n!==void 0&&(r["X-Vercel-AI-Data-Stream"]=n),r}function TT({response:e,status:t,statusText:n,headers:r,stream:a}){e.writeHead(t!=null?t:200,n,r);let i=a.getReader();(async()=>{try{for(;;){let{done:s,value:l}=await i.read();if(s)break;e.write(l)}}catch(s){throw s}finally{e.end()}})()}var OT="AI_InvalidArgumentError",DT=`vercel.ai.error.${OT}`,$4=Symbol.for(DT),PT,Kr=class extends ye{constructor({parameter:e,value:t,message:n}){super({name:OT,message:`Invalid argument for parameter ${e}: ${n}`}),this[PT]=!0,this.parameter=e,this.value=t}static isInstance(e){return ye.hasMarker(e,DT)}};PT=$4;var NT="AI_RetryError",IT=`vercel.ai.error.${NT}`,G4=Symbol.for(IT),jT,Np=class extends ye{constructor({message:e,reason:t,errors:n}){super({name:NT,message:e}),this[jT]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return ye.hasMarker(e,IT)}};jT=G4;var Y4=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>LT(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function LT(e,{maxRetries:t,delayInMs:n,backoffFactor:r},a=[]){try{return await e()}catch(i){if(Qu(i)||t===0)throw i;let o=Qw(i),s=[...a,i],l=s.length;if(l>t)throw new Np({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:s});if(i instanceof Error&&fn.isInstance(i)&&i.isRetryable===!0&&l<=t)return await Xw(n),LT(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},s);throw l===1?i:new Np({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:s})}}function VT({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Kr({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Kr({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=e!=null?e:2;return{maxRetries:t,retry:Y4({maxRetries:t})}}function gl({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function UT({model:e,settings:t,telemetry:n,headers:r}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[o,s])=>(i[`ai.settings.${o}`]=s,i),{}),...Object.entries((a=n==null?void 0:n.metadata)!=null?a:{}).reduce((i,[o,s])=>(i[`ai.telemetry.metadata.${o}`]=s,i),{}),...Object.entries(r!=null?r:{}).reduce((i,[o,s])=>(s!==void 0&&(i[`ai.request.headers.${o}`]=s),i),{})}}var Z4={startSpan(){return Dp},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(Dp);if(typeof n=="function")return n(Dp);if(typeof r=="function")return r(Dp)}},Dp={spanContext(){return K4},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},K4={traceId:"",spanId:"",traceFlags:0};function zT({isEnabled:e=!1,tracer:t}={}){return e?t||ey.getTracer("ai"):Z4}function yl({name:e,tracer:t,attributes:n,fn:r,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:n},async i=>{try{let o=await r(i);return a&&i.end(),o}catch(o){try{o instanceof Error?(i.recordException({name:o.name,message:o.message,stack:o.stack}),i.setStatus({code:hl.ERROR,message:o.message})):i.setStatus({code:hl.ERROR})}finally{i.end()}throw o}})}function Jr({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,a])=>{if(a===void 0)return n;if(typeof a=="object"&&"input"in a&&typeof a.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;let i=a.input();return i===void 0?n:{...n,[r]:i}}if(typeof a=="object"&&"output"in a&&typeof a.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;let i=a.output();return i===void 0?n:{...n,[r]:i}}return{...n,[r]:a}},{})}var J4="AI_NoImageGeneratedError",X4=`vercel.ai.error.${J4}`,Q4=Symbol.for(X4),W4;W4=Q4;var BT=class{constructor({data:e,mimeType:t}){let n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mimeType=t}get base64(){return this.base64Data==null&&(this.base64Data=da(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=zi(this.base64Data)),this.uint8ArrayData}},eL=class extends BT{constructor(e){super(e),this.type="file"}},tL=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}];var nL=e=>{let t=typeof e=="string"?zi(e):e,n=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(n+10)};function rL(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?nL(e):e}function aL({data:e,signatures:t}){let n=rL(e);for(let r of t)if(typeof n=="string"?n.startsWith(r.base64Prefix):n.length>=r.bytesPrefix.length&&r.bytesPrefix.every((a,i)=>n[i]===a))return r.mimeType}var qT="AI_NoObjectGeneratedError",FT=`vercel.ai.error.${qT}`,iL=Symbol.for(FT),HT,_T=class extends ye{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:i}){super({name:qT,message:e,cause:t}),this[HT]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=i}static isInstance(e){return ye.hasMarker(e,FT)}};HT=iL;var $T="AI_DownloadError",GT=`vercel.ai.error.${$T}`,oL=Symbol.for(GT),YT,ty=class extends ye{constructor({url:e,statusCode:t,statusText:n,cause:r,message:a=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:$T,message:a,cause:r}),this[YT]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return ye.hasMarker(e,GT)}};YT=oL;async function sL({url:e}){var t;let n=e.toString();try{let r=await fetch(n);if(!r.ok)throw new ty({url:n,statusCode:r.status,statusText:r.statusText});return{data:new Uint8Array(await r.arrayBuffer()),mimeType:(t=r.headers.get("content-type"))!=null?t:void 0}}catch(r){throw ty.isInstance(r)?r:new ty({url:n,cause:r})}}var ZT="AI_InvalidDataContentError",KT=`vercel.ai.error.${ZT}`,lL=Symbol.for(KT),JT,ET=class extends ye{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:ZT,message:n,cause:t}),this[JT]=!0,this.content=e}static isInstance(e){return ye.hasMarker(e,KT)}};JT=lL;var XT=d.union([d.string(),d.instanceof(Uint8Array),d.instanceof(ArrayBuffer),d.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function QT(e){return typeof e=="string"?e:e instanceof ArrayBuffer?da(new Uint8Array(e)):da(e)}function Ip(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return zi(e)}catch(t){throw new ET({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new ET({content:e})}function uL(e){try{return new TextDecoder().decode(e)}catch(t){throw new Error("Error decoding Uint8Array to text")}}var WT="AI_InvalidMessageRoleError",e_=`vercel.ai.error.${WT}`,cL=Symbol.for(e_),t_,fL=class extends ye{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:WT,message:t}),this[t_]=!0,this.role=e}static isInstance(e){return ye.hasMarker(e,e_)}};t_=cL;function pL(e){try{let[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mimeType:void 0,base64Content:void 0}}}async function n_({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=sL}){let a=await mL(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>dL(i,a))]}function dL(e,t){var n,r,a,i,o,s;let l=e.role;switch(l){case"system":return{role:"system",content:e.content,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(u=>hL(u,t)).filter(u=>u.type!=="text"||u.text!==""),providerMetadata:(a=e.providerOptions)!=null?a:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(i=e.providerOptions)!=null?i:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(u=>u.type!=="text"||u.text!=="").map(u=>{var c;let f=(c=u.providerOptions)!=null?c:u.experimental_providerMetadata;switch(u.type){case"file":return{type:"file",data:u.data instanceof URL?u.data:QT(u.data),filename:u.filename,mimeType:u.mimeType,providerMetadata:f};case"reasoning":return{type:"reasoning",text:u.text,signature:u.signature,providerMetadata:f};case"redacted-reasoning":return{type:"redacted-reasoning",data:u.data,providerMetadata:f};case"text":return{type:"text",text:u.text,providerMetadata:f};case"tool-call":return{type:"tool-call",toolCallId:u.toolCallId,toolName:u.toolName,args:u.args,providerMetadata:f}}}),providerMetadata:(o=e.providerOptions)!=null?o:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(u=>{var c;return{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:u.result,content:u.experimental_content,isError:u.isError,providerMetadata:(c=u.providerOptions)!=null?c:u.experimental_providerMetadata}}),providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};default:{let u=l;throw new fL({role:u})}}}async function mL(e,t,n,r){let a=e.filter(o=>o.role==="user").map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>o.type==="image"||o.type==="file").filter(o=>!(o.type==="image"&&n===!0)).map(o=>o.type==="image"?o.image:o.data).map(o=>typeof o=="string"&&(o.startsWith("http:")||o.startsWith("https:"))?new URL(o):o).filter(o=>o instanceof URL).filter(o=>!r(o)),i=await Promise.all(a.map(async o=>({url:o,data:await t({url:o})})));return Object.fromEntries(i.map(({url:o,data:s})=>[o.toString(),s]))}function hL(e,t){var n,r,a,i;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};let o=e.mimeType,s,l,u,c=e.type;switch(c){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${c}`)}try{l=typeof s=="string"?new URL(s):s}catch(f){l=s}if(l instanceof URL)if(l.protocol==="data:"){let{mimeType:f,base64Content:p}=pL(l.toString());if(f==null||p==null)throw new Error(`Invalid data URL format in part ${c}`);o=f,u=Ip(p)}else{let f=t[l.toString()];f?(u=f.data,o!=null||(o=f.mimeType)):u=l}else u=Ip(l);switch(c){case"image":return u instanceof Uint8Array&&(o=(r=aL({data:u,signatures:tL}))!=null?r:o),{type:"image",image:u,mimeType:o,providerMetadata:(a=e.providerOptions)!=null?a:e.experimental_providerMetadata};case"file":{if(o==null)throw new Error("Mime type is missing for file part");return{type:"file",data:u instanceof Uint8Array?QT(u):u,filename:e.filename,mimeType:o,providerMetadata:(i=e.providerOptions)!=null?i:e.experimental_providerMetadata}}}}function r_({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:a,frequencyPenalty:i,stopSequences:o,seed:s}){if(e!=null){if(!Number.isInteger(e))throw new Kr({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Kr({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Kr({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new Kr({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new Kr({parameter:"topK",value:r,message:"topK must be a number"});if(a!=null&&typeof a!="number")throw new Kr({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new Kr({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(s!=null&&!Number.isInteger(s))throw new Kr({parameter:"seed",value:s,message:"seed must be an integer"});return{maxTokens:e,temperature:t!=null?t:0,topP:n,topK:r,presencePenalty:a,frequencyPenalty:i,stopSequences:o!=null&&o.length>0?o:void 0,seed:s}}function kT(e){var t,n,r;let a=[];for(let i of e){let o;try{o=new URL(i.url)}catch(s){throw new Error(`Invalid URL: ${i.url}`)}switch(o.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))a.push({type:"image",image:o});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:o,mimeType:i.contentType})}break}case"data:":{let s,l,u;try{[s,l]=i.url.split(","),u=s.split(";")[0].split(":")[1]}catch(c){throw new Error(`Error processing data URL: ${i.url}`)}if(u==null||l==null)throw new Error(`Invalid data URL format: ${i.url}`);if((n=i.contentType)!=null&&n.startsWith("image/"))a.push({type:"image",image:Ip(l)});else if((r=i.contentType)!=null&&r.startsWith("text/"))a.push({type:"text",text:uL(Ip(l))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:l,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${o.protocol}`)}}return a}var a_="AI_MessageConversionError",i_=`vercel.ai.error.${a_}`,gL=Symbol.for(i_),o_,ny=class extends ye{constructor({originalMessage:e,message:t}){super({name:a_,message:t}),this[o_]=!0,this.originalMessage=e}static isInstance(e){return ye.hasMarker(e,i_)}};o_=gL;function yL(e,t){var n,r;let a=(n=t==null?void 0:t.tools)!=null?n:{},i=[];for(let s=0;s<e.length;s++){let l=e[s],u=s===e.length-1,{role:c,content:f,experimental_attachments:p}=l;switch(c){case"system":{i.push({role:"system",content:f});break}case"user":{if(l.parts==null)i.push({role:"user",content:p?[{type:"text",text:f},...kT(p)]:f});else{let m=l.parts.filter(w=>w.type==="text").map(w=>({type:"text",text:w.text}));i.push({role:"user",content:p?[...m,...kT(p)]:m})}break}case"assistant":{if(l.parts!=null){let b=function(){let y=[];for(let _ of g)switch(_.type){case"file":case"text":{y.push(_);break}case"reasoning":{for(let T of _.details)switch(T.type){case"text":y.push({type:"reasoning",text:T.text,signature:T.signature});break;case"redacted":y.push({type:"redacted-reasoning",data:T.data});break}break}case"tool-invocation":y.push({type:"tool-call",toolCallId:_.toolInvocation.toolCallId,toolName:_.toolInvocation.toolName,args:_.toolInvocation.args});break;default:{let T=_;throw new Error(`Unsupported part: ${T}`)}}i.push({role:"assistant",content:y});let S=g.filter(_=>_.type==="tool-invocation").map(_=>_.toolInvocation);S.length>0&&i.push({role:"tool",content:S.map(_=>{if(!("result"in _))throw new ny({originalMessage:l,message:"ToolInvocation must have a result: "+JSON.stringify(_)});let{toolCallId:T,toolName:R,result:k}=_,D=a[R];return(D==null?void 0:D.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:T,toolName:R,result:D.experimental_toToolResultContent(k),experimental_content:D.experimental_toToolResultContent(k)}:{type:"tool-result",toolCallId:T,toolName:R,result:k}})}),g=[],h=!1,x++};var o=b;let x=0,h=!1,g=[];for(let y of l.parts)switch(y.type){case"text":{h&&b(),g.push(y);break}case"file":case"reasoning":{g.push(y);break}case"tool-invocation":{((r=y.toolInvocation.step)!=null?r:0)!==x&&b(),g.push(y),h=!0;break}}b();break}let m=l.toolInvocations;if(m==null||m.length===0){i.push({role:"assistant",content:f});break}let w=m.reduce((b,x)=>{var h;return Math.max(b,(h=x.step)!=null?h:0)},0);for(let b=0;b<=w;b++){let x=m.filter(h=>{var g;return((g=h.step)!=null?g:0)===b});x.length!==0&&(i.push({role:"assistant",content:[...u&&f&&b===0?[{type:"text",text:f}]:[],...x.map(({toolCallId:h,toolName:g,args:y})=>({type:"tool-call",toolCallId:h,toolName:g,args:y}))]}),i.push({role:"tool",content:x.map(h=>{if(!("result"in h))throw new ny({originalMessage:l,message:"ToolInvocation must have a result: "+JSON.stringify(h)});let{toolCallId:g,toolName:y,result:S}=h,_=a[y];return(_==null?void 0:_.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:g,toolName:y,result:_.experimental_toToolResultContent(S),experimental_content:_.experimental_toToolResultContent(S)}:{type:"tool-result",toolCallId:g,toolName:y,result:S}})}))}f&&!u&&i.push({role:"assistant",content:f});break}case"data":break;default:{let m=c;throw new ny({originalMessage:l,message:`Unsupported role: ${m}`})}}}return i}function vL(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(bL);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function bL(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var iy=d.lazy(()=>d.union([d.null(),d.string(),d.number(),d.boolean(),d.record(d.string(),iy),d.array(iy)])),zt=d.record(d.string(),d.record(d.string(),iy)),xL=d.array(d.union([d.object({type:d.literal("text"),text:d.string()}),d.object({type:d.literal("image"),data:d.string(),mimeType:d.string().optional()})])),s_=d.object({type:d.literal("text"),text:d.string(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),wL=d.object({type:d.literal("image"),image:d.union([XT,d.instanceof(URL)]),mimeType:d.string().optional(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),l_=d.object({type:d.literal("file"),data:d.union([XT,d.instanceof(URL)]),filename:d.string().optional(),mimeType:d.string(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),SL=d.object({type:d.literal("reasoning"),text:d.string(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),TL=d.object({type:d.literal("redacted-reasoning"),data:d.string(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),_L=d.object({type:d.literal("tool-call"),toolCallId:d.string(),toolName:d.string(),args:d.unknown(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),EL=d.object({type:d.literal("tool-result"),toolCallId:d.string(),toolName:d.string(),result:d.unknown(),content:xL.optional(),isError:d.boolean().optional(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),kL=d.object({role:d.literal("system"),content:d.string(),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),AL=d.object({role:d.literal("user"),content:d.union([d.string(),d.array(d.union([s_,wL,l_]))]),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),CL=d.object({role:d.literal("assistant"),content:d.union([d.string(),d.array(d.union([s_,l_,SL,TL,_L]))]),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),ML=d.object({role:d.literal("tool"),content:d.array(EL),providerOptions:zt.optional(),experimental_providerMetadata:zt.optional()}),RL=d.union([kL,AL,CL,ML]);function u_({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new pa({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new pa({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new pa({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new pa({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let n=vL(e.messages);if(n==="other")throw new pa({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let r=n==="ui-messages"?yL(e.messages,{tools:t}):e.messages;if(r.length===0)throw new pa({prompt:e,message:"messages must not be empty"});let a=Qa({value:r,schema:d.array(RL)});if(!a.success)throw new pa({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:a.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function c_({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function f_(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var OL="JSON schema:",DL="You MUST answer with a JSON object that matches the JSON schema above.",PL="You MUST answer with JSON.";function NL({prompt:e,schema:t,schemaPrefix:n=t!=null?OL:void 0,schemaSuffix:r=t!=null?DL:PL}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,n,t!=null?JSON.stringify(t):void 0,r].filter(a=>a!=null).join(`
`)}function ry(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let n=t.getReader();return{async next(){let{done:r,value:a}=await n.read();return r?{done:!0,value:void 0}:{done:!1,value:a}}}},t}var yY=Gr({prefix:"aiobj",size:24});var dr=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function AT(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function IL(){let e=[],t=null,n=!1,r=AT(),a=async()=>{if(n&&e.length===0){t==null||t.close();return}if(e.length===0)return r=AT(),await r.promise,a();try{let{value:i,done:o}=await e[0].read();o?(e.shift(),e.length>0?await a():n&&(t==null||t.close())):t==null||t.enqueue(i)}catch(i){t==null||t.error(i),e.shift(),n&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(i){t=i},pull:a,async cancel(){for(let i of e)await i.cancel();e=[],n=!0}}),addStream:i=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(i.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{n=!0,r.resolve(),e.forEach(i=>i.cancel()),e=[],t==null||t.close()}}}function jL(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var bY=Gr({prefix:"aiobj",size:24});var p_="AI_NoOutputSpecifiedError",d_=`vercel.ai.error.${p_}`,LL=Symbol.for(d_),m_,h_=class extends ye{constructor({message:e="No output specified."}={}){super({name:p_,message:e}),this[m_]=!0}static isInstance(e){return ye.hasMarker(e,d_)}};m_=LL;var g_="AI_ToolExecutionError",y_=`vercel.ai.error.${g_}`,VL=Symbol.for(y_),v_,b_=class extends ye{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:a=`Error executing tool ${t}: ${Li(r)}`}){super({name:g_,message:a,cause:r}),this[v_]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return ye.hasMarker(e,y_)}};v_=VL;function UL(e){return e!=null&&Object.keys(e).length>0}function x_({tools:e,toolChoice:t,activeTools:n}){return UL(e)?{tools:(n!=null?Object.entries(e).filter(([a])=>n.includes(a)):Object.entries(e)).map(([a,i])=>{let o=i.type;switch(o){case void 0:case"function":return{type:"function",name:a,description:i.description,parameters:Wo(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:a,id:i.id,args:i.args};default:{let s=o;throw new Error(`Unsupported tool type: ${s}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var zL=/^([\s\S]*?)(\s+)(\S*)$/;function w_(e){let t=e.match(zL);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}function BL(e){let t=w_(e);return t?t.prefix+t.whitespace:e}var S_="AI_InvalidToolArgumentsError",T_=`vercel.ai.error.${S_}`,qL=Symbol.for(T_),__,E_=class extends ye{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${Li(n)}`}){super({name:S_,message:r,cause:n}),this[__]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return ye.hasMarker(e,T_)}};__=qL;var k_="AI_NoSuchToolError",A_=`vercel.ai.error.${k_}`,FL=Symbol.for(A_),C_,oy=class extends ye{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:k_,message:n}),this[C_]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return ye.hasMarker(e,A_)}};C_=FL;var M_="AI_ToolCallRepairError",R_=`vercel.ai.error.${M_}`,HL=Symbol.for(R_),O_,$L=class extends ye{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${Li(e)}`}){super({name:M_,message:n,cause:e}),this[O_]=!0,this.originalError=t}static isInstance(e){return ye.hasMarker(e,R_)}};O_=HL;async function D_({toolCall:e,tools:t,repairToolCall:n,system:r,messages:a}){if(t==null)throw new oy({toolName:e.toolName});try{return await CT({toolCall:e,tools:t})}catch(i){if(n==null||!(oy.isInstance(i)||E_.isInstance(i)))throw i;let o=null;try{o=await n({toolCall:e,tools:t,parameterSchema:({toolName:s})=>Wo(t[s].parameters).jsonSchema,system:r,messages:a,error:i})}catch(s){throw new $L({cause:s,originalError:i})}if(o==null)throw i;return await CT({toolCall:o,tools:t})}}async function CT({toolCall:e,tools:t}){let n=e.toolName,r=t[n];if(r==null)throw new oy({toolName:e.toolName,availableTools:Object.keys(t)});let a=Wo(r.parameters),i=e.args.trim()===""?Qa({value:{},schema:a}):Ea({text:e.args,schema:a});if(i.success===!1)throw new E_({toolName:n,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:i.value}}function sy(e){let t=e.filter(n=>n.type==="text").map(n=>n.text).join("");return t.length>0?t:void 0}function ly({text:e="",files:t,reasoning:n,tools:r,toolCalls:a,toolResults:i,messageId:o,generateMessageId:s}){let l=[],u=[];return n.length>0&&u.push(...n.map(c=>c.type==="text"?{...c,type:"reasoning"}:{...c,type:"redacted-reasoning"})),t.length>0&&u.push(...t.map(c=>({type:"file",data:c.base64,mimeType:c.mimeType}))),e.length>0&&u.push({type:"text",text:e}),a.length>0&&u.push(...a),u.length>0&&l.push({role:"assistant",content:u,id:o}),i.length>0&&l.push({role:"tool",id:s(),content:i.map(c=>{let f=r[c.toolName];return(f==null?void 0:f.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:f.experimental_toToolResultContent(c.result),experimental_content:f.experimental_toToolResultContent(c.result)}:{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:c.result}})}),l}var GL=Gr({prefix:"aitxt",size:24}),YL=Gr({prefix:"msg",size:24});async function jp({model:e,tools:t,toolChoice:n,system:r,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,maxSteps:u=1,experimental_generateMessageId:c=YL,experimental_output:f,experimental_continueSteps:p=!1,experimental_telemetry:m,experimental_providerMetadata:w,providerOptions:b=w,experimental_activeTools:x,experimental_prepareStep:h,experimental_repairToolCall:g,_internal:{generateId:y=GL,currentDate:S=()=>new Date}={},onStepFinish:_,...T}){var R;if(u<1)throw new Kr({parameter:"maxSteps",value:u,message:"maxSteps must be at least 1"});let{maxRetries:k,retry:D}=VT({maxRetries:o}),F=UT({model:e,telemetry:m,headers:l,settings:{...T,maxRetries:k}}),Ne=u_({prompt:{system:(R=f==null?void 0:f.injectIntoSystemPrompt({system:r,model:e}))!=null?R:r,prompt:a,messages:i},tools:t}),Te=zT(m);return yl({name:"ai.generateText",attributes:Jr({telemetry:m,attributes:{...gl({operationId:"ai.generateText",telemetry:m}),...F,"ai.model.provider":e.provider,"ai.model.id":e.modelId,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:a,messages:i})},"ai.settings.maxSteps":u}}),tracer:Te,fn:async B=>{var te,ue,ze,be,Ce,mt,A,Ee,nn,v,$e,Qn,Dn,Hn;let Je=r_(T),Me,Ot=[],Pn=[],$n=[],Er=0,kr=[],Nn="",ht=[],kt=[],rn={completionTokens:0,promptTokens:0,totalTokens:0},J="initial";do{let wt=Er===0?Ne.type:"messages",In=[...Ne.messages,...kr],ct=await(h==null?void 0:h({model:e,steps:kt,maxSteps:u,stepNumber:Er})),Ar=(te=ct==null?void 0:ct.toolChoice)!=null?te:n,Lo=(ue=ct==null?void 0:ct.experimental_activeTools)!=null?ue:x,vn=(ze=ct==null?void 0:ct.model)!=null?ze:e,N=await n_({prompt:{type:wt,system:Ne.system,messages:In},modelSupportsImageUrls:vn.supportsImageUrls,modelSupportsUrl:(be=vn.supportsUrl)==null?void 0:be.bind(vn)}),Q={type:"regular",...x_({tools:t,toolChoice:Ar,activeTools:Lo})};Me=await D(()=>yl({name:"ai.generateText.doGenerate",attributes:Jr({telemetry:m,attributes:{...gl({operationId:"ai.generateText.doGenerate",telemetry:m}),...F,"ai.model.provider":vn.provider,"ai.model.id":vn.modelId,"ai.prompt.format":{input:()=>wt},"ai.prompt.messages":{input:()=>JSON.stringify(N)},"ai.prompt.tools":{input:()=>{var Zt;return(Zt=Q.tools)==null?void 0:Zt.map(cn=>JSON.stringify(cn))}},"ai.prompt.toolChoice":{input:()=>Q.toolChoice!=null?JSON.stringify(Q.toolChoice):void 0},"gen_ai.system":vn.provider,"gen_ai.request.model":vn.modelId,"gen_ai.request.frequency_penalty":T.frequencyPenalty,"gen_ai.request.max_tokens":T.maxTokens,"gen_ai.request.presence_penalty":T.presencePenalty,"gen_ai.request.stop_sequences":T.stopSequences,"gen_ai.request.temperature":T.temperature,"gen_ai.request.top_k":T.topK,"gen_ai.request.top_p":T.topP}}),tracer:Te,fn:async Zt=>{var cn,Kt,Cr,Lt,Wn,ca;let Ut=await vn.doGenerate({mode:Q,...Je,inputFormat:wt,responseFormat:f==null?void 0:f.responseFormat({model:e}),prompt:N,providerMetadata:b,abortSignal:s,headers:l}),fa={id:(Kt=(cn=Ut.response)==null?void 0:cn.id)!=null?Kt:y(),timestamp:(Lt=(Cr=Ut.response)==null?void 0:Cr.timestamp)!=null?Lt:S(),modelId:(ca=(Wn=Ut.response)==null?void 0:Wn.modelId)!=null?ca:vn.modelId};return Zt.setAttributes(Jr({telemetry:m,attributes:{"ai.response.finishReason":Ut.finishReason,"ai.response.text":{output:()=>Ut.text},"ai.response.toolCalls":{output:()=>JSON.stringify(Ut.toolCalls)},"ai.response.id":fa.id,"ai.response.model":fa.modelId,"ai.response.timestamp":fa.timestamp.toISOString(),"ai.usage.promptTokens":Ut.usage.promptTokens,"ai.usage.completionTokens":Ut.usage.completionTokens,"gen_ai.response.finish_reasons":[Ut.finishReason],"gen_ai.response.id":fa.id,"gen_ai.response.model":fa.modelId,"gen_ai.usage.input_tokens":Ut.usage.promptTokens,"gen_ai.usage.output_tokens":Ut.usage.completionTokens}})),{...Ut,response:fa}}})),Ot=await Promise.all(((Ce=Me.toolCalls)!=null?Ce:[]).map(Zt=>D_({toolCall:Zt,tools:t,repairToolCall:g,system:r,messages:In}))),Pn=t==null?[]:await ZL({toolCalls:Ot,tools:t,tracer:Te,telemetry:m,messages:In,abortSignal:s});let ke=c_(Me.usage);rn=f_(rn,ke);let Ie="done";++Er<u&&(p&&Me.finishReason==="length"&&Ot.length===0?Ie="continue":Ot.length>0&&Pn.length===Ot.length&&(Ie="tool-result"));let We=(mt=Me.text)!=null?mt:"",bn=J==="continue"&&Nn.trimEnd()!==Nn?We.trimStart():We,ln=Ie==="continue"?BL(bn):bn;if(Nn=Ie==="continue"||J==="continue"?Nn+ln:ln,$n=MT(Me.reasoning),ht.push(...(A=Me.sources)!=null?A:[]),J==="continue"){let Zt=kr[kr.length-1];typeof Zt.content=="string"?Zt.content+=ln:Zt.content.push({text:ln,type:"text"})}else kr.push(...ly({text:Nn,files:ay(Me.files),reasoning:MT(Me.reasoning),tools:t!=null?t:{},toolCalls:Ot,toolResults:Pn,messageId:c(),generateMessageId:c}));let un={stepType:J,text:ln,reasoning:sy($n),reasoningDetails:$n,files:ay(Me.files),sources:(Ee=Me.sources)!=null?Ee:[],toolCalls:Ot,toolResults:Pn,finishReason:Me.finishReason,usage:ke,warnings:Me.warnings,logprobs:Me.logprobs,request:(nn=Me.request)!=null?nn:{},response:{...Me.response,headers:(v=Me.rawResponse)==null?void 0:v.headers,body:($e=Me.rawResponse)==null?void 0:$e.body,messages:structuredClone(kr)},providerMetadata:Me.providerMetadata,experimental_providerMetadata:Me.providerMetadata,isContinued:Ie==="continue"};kt.push(un),await(_==null?void 0:_(un)),J=Ie}while(J!=="done");return B.setAttributes(Jr({telemetry:m,attributes:{"ai.response.finishReason":Me.finishReason,"ai.response.text":{output:()=>Me.text},"ai.response.toolCalls":{output:()=>JSON.stringify(Me.toolCalls)},"ai.usage.promptTokens":Me.usage.promptTokens,"ai.usage.completionTokens":Me.usage.completionTokens}})),new KL({text:Nn,files:ay(Me.files),reasoning:sy($n),reasoningDetails:$n,sources:ht,outputResolver:()=>{if(f==null)throw new h_;return f.parseOutput({text:Nn},{response:Me.response,usage:rn,finishReason:Me.finishReason})},toolCalls:Ot,toolResults:Pn,finishReason:Me.finishReason,usage:rn,warnings:Me.warnings,request:(Qn=Me.request)!=null?Qn:{},response:{...Me.response,headers:(Dn=Me.rawResponse)==null?void 0:Dn.headers,body:(Hn=Me.rawResponse)==null?void 0:Hn.body,messages:kr},logprobs:Me.logprobs,steps:kt,providerMetadata:Me.providerMetadata})}})}async function ZL({toolCalls:e,tools:t,tracer:n,telemetry:r,messages:a,abortSignal:i}){return(await Promise.all(e.map(async({toolCallId:s,toolName:l,args:u})=>{let c=t[l];if((c==null?void 0:c.execute)==null)return;let f=await yl({name:"ai.toolCall",attributes:Jr({telemetry:r,attributes:{...gl({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":l,"ai.toolCall.id":s,"ai.toolCall.args":{output:()=>JSON.stringify(u)}}}),tracer:n,fn:async p=>{try{let m=await c.execute(u,{toolCallId:s,messages:a,abortSignal:i});try{p.setAttributes(Jr({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(m)}}}))}catch(w){}return m}catch(m){throw new b_({toolCallId:s,toolName:l,toolArgs:u,cause:m})}}});return{type:"tool-result",toolCallId:s,toolName:l,args:u,result:f}}))).filter(s=>s!=null)}var KL=class{constructor(e){this.text=e.text,this.files=e.files,this.reasoning=e.reasoning,this.reasoningDetails=e.reasoningDetails,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.providerMetadata=e.providerMetadata,this.logprobs=e.logprobs,this.outputResolver=e.outputResolver,this.sources=e.sources}get experimental_output(){return this.outputResolver()}};function MT(e){return e==null?[]:typeof e=="string"?[{type:"text",text:e}]:e}function ay(e){var t;return(t=e==null?void 0:e.map(n=>new BT(n)))!=null?t:[]}var JL={};uy(JL,{object:()=>aV,text:()=>rV});var P_="AI_InvalidStreamPartError",N_=`vercel.ai.error.${P_}`,XL=Symbol.for(N_),I_,QL=class extends ye{constructor({chunk:e,message:t}){super({name:P_,message:t}),this[I_]=!0,this.chunk=e}static isInstance(e){return ye.hasMarker(e,N_)}};I_=XL;var WL="AI_MCPClientError",eV=`vercel.ai.error.${WL}`,tV=Symbol.for(eV),nV;nV=tV;var rV=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),aV=({schema:e})=>{let t=Wo(e);return{type:"object",responseFormat:({model:n})=>({type:"json",schema:n.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:n,model:r}){return r.supportsStructuredOutputs?n:NL({prompt:n,schema:t.jsonSchema})},parsePartial({text:n}){let r=iT(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{let a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},parseOutput({text:n},r){let a=Ea({text:n});if(!a.success)throw new _T({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});let i=Qa({value:a.value,schema:t});if(!i.success)throw new _T({message:"No object generated: response did not match schema.",cause:i.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return i.value}}};function iV(e){return e===void 0?[]:Array.isArray(e)?e:[e]}async function oV({stream:e,onError:t}){let n=e.getReader();try{for(;;){let{done:r}=await n.read();if(r)break}}catch(r){t==null||t(r)}finally{n.releaseLock()}}function cy(e,t){let n=e.getReader(),r=t.getReader(),a,i,o=!1,s=!1;async function l(c){try{a==null&&(a=n.read());let f=await a;a=void 0,f.done?c.close():c.enqueue(f.value)}catch(f){c.error(f)}}async function u(c){try{i==null&&(i=r.read());let f=await i;i=void 0,f.done?c.close():c.enqueue(f.value)}catch(f){c.error(f)}}return new ReadableStream({async pull(c){try{if(o){await u(c);return}if(s){await l(c);return}a==null&&(a=n.read()),i==null&&(i=r.read());let{result:f,reader:p}=await Promise.race([a.then(m=>({result:m,reader:n})),i.then(m=>({result:m,reader:r}))]);f.done||c.enqueue(f.value),p===n?(a=void 0,f.done&&(await u(c),o=!0)):(i=void 0,f.done&&(s=!0,await l(c)))}catch(f){c.error(f)}},cancel(){n.cancel(),r.cancel()}})}function sV({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:a,system:i,messages:o,abortSignal:s,repairToolCall:l}){let u=null,c=new ReadableStream({start(h){u=h}}),f={},p=new Set,m=!1,w;function b(){m&&p.size===0&&(w!=null&&u.enqueue(w),u.close())}let x=new TransformStream({async transform(h,g){let y=h.type;switch(y){case"text-delta":case"reasoning":case"reasoning-signature":case"redacted-reasoning":case"source":case"response-metadata":case"error":{g.enqueue(h);break}case"file":{g.enqueue(new eL({data:h.data,mimeType:h.mimeType}));break}case"tool-call-delta":{n&&(f[h.toolCallId]||(g.enqueue({type:"tool-call-streaming-start",toolCallId:h.toolCallId,toolName:h.toolName}),f[h.toolCallId]=!0),g.enqueue({type:"tool-call-delta",toolCallId:h.toolCallId,toolName:h.toolName,argsTextDelta:h.argsTextDelta}));break}case"tool-call":{try{let S=await D_({toolCall:h,tools:e,repairToolCall:l,system:i,messages:o});g.enqueue(S);let _=e[S.toolName];if(_.execute!=null){let T=Gn();p.add(T),yl({name:"ai.toolCall",attributes:Jr({telemetry:a,attributes:{...gl({operationId:"ai.toolCall",telemetry:a}),"ai.toolCall.name":S.toolName,"ai.toolCall.id":S.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(S.args)}}}),tracer:r,fn:async R=>_.execute(S.args,{toolCallId:S.toolCallId,messages:o,abortSignal:s}).then(k=>{u.enqueue({...S,type:"tool-result",result:k}),p.delete(T),b();try{R.setAttributes(Jr({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(k)}}}))}catch(D){}},k=>{u.enqueue({type:"error",error:new b_({toolCallId:S.toolCallId,toolName:S.toolName,toolArgs:S.args,cause:k})}),p.delete(T),b()})})}}catch(S){u.enqueue({type:"error",error:S})}break}case"finish":{w={type:"finish",finishReason:h.finishReason,logprobs:h.logprobs,usage:c_(h.usage),experimental_providerMetadata:h.providerMetadata};break}default:{let S=y;throw new Error(`Unhandled chunk type: ${S}`)}}},flush(){m=!0,b()}});return new ReadableStream({async start(h){return Promise.all([t.pipeThrough(x).pipeTo(new WritableStream({write(g){h.enqueue(g)},close(){}})),c.pipeTo(new WritableStream({write(g){h.enqueue(g)},close(){h.close()}}))])}})}var lV=Gr({prefix:"aitxt",size:24}),uV=Gr({prefix:"msg",size:24});function Lp({model:e,tools:t,toolChoice:n,system:r,prompt:a,messages:i,maxRetries:o,abortSignal:s,headers:l,maxSteps:u=1,experimental_generateMessageId:c=uV,experimental_output:f,experimental_continueSteps:p=!1,experimental_telemetry:m,experimental_providerMetadata:w,providerOptions:b=w,experimental_toolCallStreaming:x=!1,toolCallStreaming:h=x,experimental_activeTools:g,experimental_repairToolCall:y,experimental_transform:S,onChunk:_,onError:T,onFinish:R,onStepFinish:k,_internal:{now:D=jL,generateId:F=lV,currentDate:Ne=()=>new Date}={},...Te}){return new fV({model:e,telemetry:m,headers:l,settings:Te,maxRetries:o,abortSignal:s,system:r,prompt:a,messages:i,tools:t,toolChoice:n,toolCallStreaming:h,transforms:iV(S),activeTools:g,repairToolCall:y,maxSteps:u,output:f,continueSteps:p,providerOptions:b,onChunk:_,onError:T,onFinish:R,onStepFinish:k,now:D,currentDate:Ne,generateId:F,generateMessageId:c})}function cV(e){if(!e)return new TransformStream({transform(i,o){o.enqueue({part:i,partialOutput:void 0})}});let t="",n="",r="";function a({controller:i,partialOutput:o=void 0}){i.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:o}),n=""}return new TransformStream({transform(i,o){if(i.type==="step-finish"&&a({controller:o}),i.type!=="text-delta"){o.enqueue({part:i,partialOutput:void 0});return}t+=i.textDelta,n+=i.textDelta;let s=e.parsePartial({text:t});if(s!=null){let l=JSON.stringify(s.partial);l!==r&&(a({controller:o,partialOutput:s.partial}),r=l)}},flush(i){n.length>0&&a({controller:i})}})}var fV=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:a,abortSignal:i,system:o,prompt:s,messages:l,tools:u,toolChoice:c,toolCallStreaming:f,transforms:p,activeTools:m,repairToolCall:w,maxSteps:b,output:x,continueSteps:h,providerOptions:g,now:y,currentDate:S,generateId:_,generateMessageId:T,onChunk:R,onError:k,onFinish:D,onStepFinish:F}){this.warningsPromise=new dr,this.usagePromise=new dr,this.finishReasonPromise=new dr,this.providerMetadataPromise=new dr,this.textPromise=new dr,this.reasoningPromise=new dr,this.reasoningDetailsPromise=new dr,this.sourcesPromise=new dr,this.filesPromise=new dr,this.toolCallsPromise=new dr,this.toolResultsPromise=new dr,this.requestPromise=new dr,this.responsePromise=new dr,this.stepsPromise=new dr;var Ne;if(b<1)throw new Kr({parameter:"maxSteps",value:b,message:"maxSteps must be at least 1"});this.output=x;let Te="",B="",te="",ue=[],ze=[],be,Ce=[],mt=[],A={id:_(),timestamp:S(),modelId:e.modelId,messages:[]},Ee=[],nn=[],v,$e,Qn="initial",Dn=[],Hn,Je=new TransformStream({async transform(kt,rn){rn.enqueue(kt);let{part:J}=kt;if((J.type==="text-delta"||J.type==="reasoning"||J.type==="source"||J.type==="tool-call"||J.type==="tool-result"||J.type==="tool-call-streaming-start"||J.type==="tool-call-delta")&&await(R==null?void 0:R({chunk:J})),J.type==="error"&&await(k==null?void 0:k({error:J.error})),J.type==="text-delta"&&(Te+=J.textDelta,B+=J.textDelta,te+=J.textDelta),J.type==="reasoning"&&(be==null?(be={type:"text",text:J.textDelta},ue.push(be)):be.text+=J.textDelta),J.type==="reasoning-signature"){if(be==null)throw new ye({name:"InvalidStreamPart",message:"reasoning-signature without reasoning"});be.signature=J.signature,be=void 0}if(J.type==="redacted-reasoning"&&ue.push({type:"redacted",data:J.data}),J.type==="file"&&ze.push(J),J.type==="source"&&(mt.push(J.source),Ce.push(J.source)),J.type==="tool-call"&&Ee.push(J),J.type==="tool-result"&&nn.push(J),J.type==="step-finish"){let wt=ly({text:B,files:ze,reasoning:ue,tools:u!=null?u:{},toolCalls:Ee,toolResults:nn,messageId:J.messageId,generateMessageId:T}),In=Dn.length,ct="done";In+1<b&&(h&&J.finishReason==="length"&&Ee.length===0?ct="continue":Ee.length>0&&nn.length===Ee.length&&(ct="tool-result"));let Ar={stepType:Qn,text:Te,reasoning:sy(ue),reasoningDetails:ue,files:ze,sources:Ce,toolCalls:Ee,toolResults:nn,finishReason:J.finishReason,usage:J.usage,warnings:J.warnings,logprobs:J.logprobs,request:J.request,response:{...J.response,messages:[...A.messages,...wt]},providerMetadata:J.experimental_providerMetadata,experimental_providerMetadata:J.experimental_providerMetadata,isContinued:J.isContinued};await(F==null?void 0:F(Ar)),Dn.push(Ar),Ee=[],nn=[],Te="",Ce=[],ue=[],ze=[],be=void 0,ct!=="done"&&(Qn=ct),ct!=="continue"&&(A.messages.push(...wt),B="")}J.type==="finish"&&(A.id=J.response.id,A.timestamp=J.response.timestamp,A.modelId=J.response.modelId,A.headers=J.response.headers,$e=J.usage,v=J.finishReason)},async flush(kt){var rn;try{if(Dn.length===0)return;let J=Dn[Dn.length-1];ht.warningsPromise.resolve(J.warnings),ht.requestPromise.resolve(J.request),ht.responsePromise.resolve(J.response),ht.toolCallsPromise.resolve(J.toolCalls),ht.toolResultsPromise.resolve(J.toolResults),ht.providerMetadataPromise.resolve(J.experimental_providerMetadata),ht.reasoningPromise.resolve(J.reasoning),ht.reasoningDetailsPromise.resolve(J.reasoningDetails);let wt=v!=null?v:"unknown",In=$e!=null?$e:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};ht.finishReasonPromise.resolve(wt),ht.usagePromise.resolve(In),ht.textPromise.resolve(te),ht.sourcesPromise.resolve(mt),ht.filesPromise.resolve(J.files),ht.stepsPromise.resolve(Dn),await(D==null?void 0:D({finishReason:wt,logprobs:void 0,usage:In,text:te,reasoning:J.reasoning,reasoningDetails:J.reasoningDetails,files:J.files,sources:J.sources,toolCalls:J.toolCalls,toolResults:J.toolResults,request:(rn=J.request)!=null?rn:{},response:J.response,warnings:J.warnings,providerMetadata:J.providerMetadata,experimental_providerMetadata:J.experimental_providerMetadata,steps:Dn})),Hn.setAttributes(Jr({telemetry:t,attributes:{"ai.response.finishReason":wt,"ai.response.text":{output:()=>te},"ai.response.toolCalls":{output:()=>{var ct;return(ct=J.toolCalls)!=null&&ct.length?JSON.stringify(J.toolCalls):void 0}},"ai.usage.promptTokens":In.promptTokens,"ai.usage.completionTokens":In.completionTokens}}))}catch(J){kt.error(J)}finally{Hn.end()}}}),Me=IL();this.addStream=Me.addStream,this.closeStream=Me.close;let Ot=Me.stream;for(let kt of p)Ot=Ot.pipeThrough(kt({tools:u,stopStream(){Me.terminate()}}));this.baseStream=Ot.pipeThrough(cV(x)).pipeThrough(Je);let{maxRetries:Pn,retry:$n}=VT({maxRetries:a}),Er=zT(t),kr=UT({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:Pn}}),Nn=u_({prompt:{system:(Ne=x==null?void 0:x.injectIntoSystemPrompt({system:o,model:e}))!=null?Ne:o,prompt:s,messages:l},tools:u}),ht=this;yl({name:"ai.streamText",attributes:Jr({telemetry:t,attributes:{...gl({operationId:"ai.streamText",telemetry:t}),...kr,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:s,messages:l})},"ai.settings.maxSteps":b}}),tracer:Er,endWhenDone:!1,fn:async kt=>{Hn=kt;async function rn({currentStep:J,responseMessages:wt,usage:In,stepType:ct,previousStepText:Ar,hasLeadingWhitespace:Lo,messageId:vn}){var N;let Q=wt.length===0?Nn.type:"messages",ke=[...Nn.messages,...wt],Ie=await n_({prompt:{type:Q,system:Nn.system,messages:ke},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(N=e.supportsUrl)==null?void 0:N.bind(e)}),We={type:"regular",...x_({tools:u,toolChoice:c,activeTools:m})},{result:{stream:bn,warnings:ln,rawResponse:un,request:Zt},doStreamSpan:cn,startTimestampMs:Kt}=await $n(()=>yl({name:"ai.streamText.doStream",attributes:Jr({telemetry:t,attributes:{...gl({operationId:"ai.streamText.doStream",telemetry:t}),...kr,"ai.prompt.format":{input:()=>Q},"ai.prompt.messages":{input:()=>JSON.stringify(Ie)},"ai.prompt.tools":{input:()=>{var ie;return(ie=We.tools)==null?void 0:ie.map(ve=>JSON.stringify(ve))}},"ai.prompt.toolChoice":{input:()=>We.toolChoice!=null?JSON.stringify(We.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:Er,endWhenDone:!1,fn:async ie=>({startTimestampMs:y(),doStreamSpan:ie,result:await e.doStream({mode:We,...r_(r),inputFormat:Q,responseFormat:x==null?void 0:x.responseFormat({model:e}),prompt:Ie,providerMetadata:g,abortSignal:i,headers:n})})})),Cr=sV({tools:u,generatorStream:bn,toolCallStreaming:f,tracer:Er,telemetry:t,system:o,messages:ke,repairToolCall:w,abortSignal:i}),Lt=Zt!=null?Zt:{},Wn=[],ca=[],Ut=[],fa=[],Ja,Xa="unknown",E={promptTokens:0,completionTokens:0,totalTokens:0},C,O=!0,j="",X=ct==="continue"?Ar:"",W,H={id:_(),timestamp:S(),modelId:e.modelId},le="",z=!1,Ge=!0,Ye=!1;async function Se({controller:ie,chunk:ve}){ie.enqueue(ve),j+=ve.textDelta,X+=ve.textDelta,z=!0,Ye=ve.textDelta.trimEnd()!==ve.textDelta}ht.addStream(Cr.pipeThrough(new TransformStream({async transform(ie,ve){var je,Ze,me;if(O){let oe=y()-Kt;O=!1,cn.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":oe}),cn.setAttributes({"ai.response.msToFirstChunk":oe}),ve.enqueue({type:"step-start",messageId:vn,request:Lt,warnings:ln!=null?ln:[]})}if(ie.type==="text-delta"&&ie.textDelta.length===0)return;let Tt=ie.type;switch(Tt){case"text-delta":{if(h){let oe=Ge&&Lo?ie.textDelta.trimStart():ie.textDelta;if(oe.length===0)break;Ge=!1,le+=oe;let fe=w_(le);fe!=null&&(le=fe.suffix,await Se({controller:ve,chunk:{type:"text-delta",textDelta:fe.prefix+fe.whitespace}}))}else await Se({controller:ve,chunk:ie});break}case"reasoning":{ve.enqueue(ie),Ja==null?(Ja={type:"text",text:ie.textDelta},Ut.push(Ja)):Ja.text+=ie.textDelta;break}case"reasoning-signature":{if(ve.enqueue(ie),Ja==null)throw new QL({chunk:ie,message:"reasoning-signature without reasoning"});Ja.signature=ie.signature,Ja=void 0;break}case"redacted-reasoning":{ve.enqueue(ie),Ut.push({type:"redacted",data:ie.data});break}case"tool-call":{ve.enqueue(ie),Wn.push(ie);break}case"tool-result":{ve.enqueue(ie),ca.push(ie);break}case"response-metadata":{H={id:(je=ie.id)!=null?je:H.id,timestamp:(Ze=ie.timestamp)!=null?Ze:H.timestamp,modelId:(me=ie.modelId)!=null?me:H.modelId};break}case"finish":{E=ie.usage,Xa=ie.finishReason,C=ie.experimental_providerMetadata,W=ie.logprobs;let oe=y()-Kt;cn.addEvent("ai.stream.finish"),cn.setAttributes({"ai.response.msToFinish":oe,"ai.response.avgCompletionTokensPerSecond":1e3*E.completionTokens/oe});break}case"file":{fa.push(ie),ve.enqueue(ie);break}case"source":case"tool-call-streaming-start":case"tool-call-delta":{ve.enqueue(ie);break}case"error":{ve.enqueue(ie),Xa="error";break}default:{let oe=Tt;throw new Error(`Unknown chunk type: ${oe}`)}}},async flush(ie){let ve=Wn.length>0?JSON.stringify(Wn):void 0,je="done";J+1<b&&(h&&Xa==="length"&&Wn.length===0?je="continue":Wn.length>0&&ca.length===Wn.length&&(je="tool-result")),h&&le.length>0&&(je!=="continue"||ct==="continue"&&!z)&&(await Se({controller:ie,chunk:{type:"text-delta",textDelta:le}}),le="");try{cn.setAttributes(Jr({telemetry:t,attributes:{"ai.response.finishReason":Xa,"ai.response.text":{output:()=>j},"ai.response.toolCalls":{output:()=>ve},"ai.response.id":H.id,"ai.response.model":H.modelId,"ai.response.timestamp":H.timestamp.toISOString(),"ai.usage.promptTokens":E.promptTokens,"ai.usage.completionTokens":E.completionTokens,"gen_ai.response.finish_reasons":[Xa],"gen_ai.response.id":H.id,"gen_ai.response.model":H.modelId,"gen_ai.usage.input_tokens":E.promptTokens,"gen_ai.usage.output_tokens":E.completionTokens}}))}catch(me){}finally{cn.end()}ie.enqueue({type:"step-finish",finishReason:Xa,usage:E,providerMetadata:C,experimental_providerMetadata:C,logprobs:W,request:Lt,response:{...H,headers:un==null?void 0:un.headers},warnings:ln,isContinued:je==="continue",messageId:vn});let Ze=f_(In,E);if(je==="done")ie.enqueue({type:"finish",finishReason:Xa,usage:Ze,providerMetadata:C,experimental_providerMetadata:C,logprobs:W,response:{...H,headers:un==null?void 0:un.headers}}),ht.closeStream();else{if(ct==="continue"){let me=wt[wt.length-1];typeof me.content=="string"?me.content+=j:me.content.push({text:j,type:"text"})}else wt.push(...ly({text:j,files:fa,reasoning:Ut,tools:u!=null?u:{},toolCalls:Wn,toolResults:ca,messageId:vn,generateMessageId:T}));await rn({currentStep:J+1,responseMessages:wt,usage:Ze,stepType:je,previousStepText:X,hasLeadingWhitespace:Ye,messageId:je==="continue"?vn:T()})}}})))}await rn({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:T()})}}).catch(kt=>{ht.addStream(new ReadableStream({start(rn){rn.enqueue({type:"error",error:kt}),rn.close()}})),ht.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return ry(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return ry(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await oV({stream:this.fullStream,onError:e==null?void 0:e.onError})}catch(n){(t=e==null?void 0:e.onError)==null||t.call(e,n)}}get experimental_partialOutputStream(){if(this.output==null)throw new h_;return ry(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1,sendSources:r=!1,experimental_sendFinish:a=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(i,o)=>{let s=i.type;switch(s){case"text-delta":{o.enqueue(dn("text",i.textDelta));break}case"reasoning":{n&&o.enqueue(dn("reasoning",i.textDelta));break}case"redacted-reasoning":{n&&o.enqueue(dn("redacted_reasoning",{data:i.data}));break}case"reasoning-signature":{n&&o.enqueue(dn("reasoning_signature",{signature:i.signature}));break}case"file":{o.enqueue(dn("file",{mimeType:i.mimeType,data:i.base64}));break}case"source":{r&&o.enqueue(dn("source",i.source));break}case"tool-call-streaming-start":{o.enqueue(dn("tool_call_streaming_start",{toolCallId:i.toolCallId,toolName:i.toolName}));break}case"tool-call-delta":{o.enqueue(dn("tool_call_delta",{toolCallId:i.toolCallId,argsTextDelta:i.argsTextDelta}));break}case"tool-call":{o.enqueue(dn("tool_call",{toolCallId:i.toolCallId,toolName:i.toolName,args:i.args}));break}case"tool-result":{o.enqueue(dn("tool_result",{toolCallId:i.toolCallId,result:i.result}));break}case"error":{o.enqueue(dn("error",e(i.error)));break}case"step-start":{o.enqueue(dn("start_step",{messageId:i.messageId}));break}case"step-finish":{o.enqueue(dn("finish_step",{finishReason:i.finishReason,usage:t?{promptTokens:i.usage.promptTokens,completionTokens:i.usage.completionTokens}:void 0,isContinued:i.isContinued}));break}case"finish":{a&&o.enqueue(dn("finish_message",{finishReason:i.finishReason,usage:t?{promptTokens:i.usage.promptTokens,completionTokens:i.usage.completionTokens}:void 0}));break}default:{let l=s;throw new Error(`Unknown chunk type: ${l}`)}}}}))}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:a,getErrorMessage:i,sendUsage:o,sendReasoning:s,sendSources:l,experimental_sendFinish:u}={}){TT({response:e,status:t,statusText:n,headers:ST(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:a,getErrorMessage:i,sendUsage:o,sendReasoning:s,sendSources:l,experimental_sendFinish:u})})}pipeTextStreamToResponse(e,t){TT({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:ST(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning,sendSources:e==null?void 0:e.sendSources,experimental_sendFinish:e==null?void 0:e.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?cy(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning,sendSources:t==null?void 0:t.sendSources,experimental_sendFinish:t==null?void 0:t.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:a,sendUsage:i,sendReasoning:o,sendSources:s,experimental_sendFinish:l}={}){return new Response(this.toDataStream({data:r,getErrorMessage:a,sendUsage:i,sendReasoning:o,sendSources:s,experimental_sendFinish:l}),{status:t,statusText:n,headers:Pp(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:Pp(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};var pV="AI_NoSuchProviderError",dV=`vercel.ai.error.${pV}`,mV=Symbol.for(dV),hV;hV=mV;var gV=d.object({name:d.string(),version:d.string()}).passthrough(),fy=d.object({_meta:d.optional(d.object({}).passthrough())}).passthrough(),hc=fy,yV=d.object({method:d.string(),params:d.optional(fy)}),vV=d.object({experimental:d.optional(d.object({}).passthrough()),logging:d.optional(d.object({}).passthrough()),prompts:d.optional(d.object({listChanged:d.optional(d.boolean())}).passthrough()),resources:d.optional(d.object({subscribe:d.optional(d.boolean()),listChanged:d.optional(d.boolean())}).passthrough()),tools:d.optional(d.object({listChanged:d.optional(d.boolean())}).passthrough())}).passthrough(),UY=hc.extend({protocolVersion:d.string(),capabilities:vV,serverInfo:gV,instructions:d.optional(d.string())}),bV=hc.extend({nextCursor:d.optional(d.string())}),xV=d.object({name:d.string(),description:d.optional(d.string()),inputSchema:d.object({type:d.literal("object"),properties:d.optional(d.object({}).passthrough())}).passthrough()}).passthrough(),zY=bV.extend({tools:d.array(xV)}),wV=d.object({type:d.literal("text"),text:d.string()}).passthrough(),SV=d.object({type:d.literal("image"),data:d.string().base64(),mimeType:d.string()}).passthrough(),j_=d.object({uri:d.string(),mimeType:d.optional(d.string())}).passthrough(),TV=j_.extend({text:d.string()}),_V=j_.extend({blob:d.string().base64()}),EV=d.object({type:d.literal("resource"),resource:d.union([TV,_V])}).passthrough(),BY=hc.extend({content:d.array(d.union([wV,SV,EV])),isError:d.boolean().default(!1).optional()}).or(hc.extend({toolResult:d.unknown()})),Vp="2.0",kV=d.object({jsonrpc:d.literal(Vp),id:d.union([d.string(),d.number().int()])}).merge(yV).strict(),AV=d.object({jsonrpc:d.literal(Vp),id:d.union([d.string(),d.number().int()]),result:hc}).strict(),CV=d.object({jsonrpc:d.literal(Vp),id:d.union([d.string(),d.number().int()]),error:d.object({code:d.number().int(),message:d.string(),data:d.optional(d.unknown())})}).strict(),MV=d.object({jsonrpc:d.literal(Vp)}).merge(d.object({method:d.string(),params:d.optional(fy)})).strict(),qY=d.union([kV,MV,AV,CV]);var RV={};uy(RV,{mergeIntoDataStream:()=>PV,toDataStream:()=>OV,toDataStreamResponse:()=>DV});function L_(e={}){let t=new TextEncoder,n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,a){a.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r=="string"&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function py(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var a;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&RT((a=n.data)==null?void 0:a.chunk,r);return}RT(n,r)}})).pipeThrough(L_(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(dn("text",n))}}))}function OV(e,t){return py(e,t).pipeThrough(new TextEncoderStream)}function DV(e,t){var n;let r=py(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),a=t==null?void 0:t.data,i=t==null?void 0:t.init,o=a?cy(a.stream,r):r;return new Response(o,{status:(n=i==null?void 0:i.status)!=null?n:200,statusText:i==null?void 0:i.statusText,headers:Pp(i==null?void 0:i.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function PV(e,t){t.dataStream.merge(py(e,t.callbacks))}function RT(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let n=e.content;for(let r of n)r.type==="text"&&t.enqueue(r.text)}}var NV={};uy(NV,{mergeIntoDataStream:()=>LV,toDataStream:()=>IV,toDataStreamResponse:()=>jV});function dy(e,t){let n=VV();return Jw(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,a){a.enqueue(n(r.delta))}})).pipeThrough(L_(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,a)=>{a.enqueue(dn("text",r))}}))}function IV(e,t){return dy(e,t).pipeThrough(new TextEncoderStream)}function jV(e,t={}){var n;let{init:r,data:a,callbacks:i}=t,o=dy(e,i).pipeThrough(new TextEncoderStream),s=a?cy(a.stream,o):o;return new Response(s,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:Pp(r==null?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function LV(e,t){t.dataStream.merge(dy(e,t.callbacks))}function VV(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var GY=15*1e3;var V_=(e,{onChunk:t})=>({description:"Delegate a task to a direct report.",parameters:d.object({agentId:d.string().describe("The ID (name) of the agent to delegate to."),prompt:d.string().describe("The task prompt to send to the delegated agent.")}),execute:async({agentId:n,prompt:r},a)=>{var o,s;let i=e.find(l=>l.name===n);if(!i)throw new Error(`Agent not found: ${n}`);try{let l=i.streamText({prompt:r,maxSteps:i.settings.maxSteps||10,maxRetries:i.settings.maxRetries||2,maxTokens:i.settings.maxTokens||8e3,experimental_continueSteps:!0,abortSignal:a.abortSignal},a.context);for await(let f of l.fullStream){if((o=a.abortSignal)!=null&&o.aborted)throw new Error("Delegation aborted by signal.");t==null||t({agentId:n,chunk:f,toolCallId:a.toolCallId,context:a.context})}let c=(s=(await l.response).messages)==null?void 0:s.at(-1);return c==null?void 0:c.content[0].text}catch(l){throw l.name==="AbortError"||l.message==="Delegation aborted by signal."?(console.log(`Delegation to agent ${n} cancelled.`),new Error(`Delegation to agent ${n} was cancelled.`)):(console.error(`Error during delegation to agent ${n}:`,l),l)}}});var Bt=Ae(require("fs")),zp=Ae(require("path"));var Up=require("obsidian"),UV=d.object({command:d.enum(["view","str_replace","create","insert","undo_edit"]),path:d.string().describe("The file OR directory path to operate on. For 'view' operations if a directory is provided, the directory listing of the directory will be returned.").optional(),view_range:d.array(d.number()).describe("The start and end line numbers to view. The first line is 1. If only the start line is provided, the end line will be the length of the file.").optional(),old_str:d.string().describe("The string to replace. If not provided, the first match will be replaced.").optional(),new_str:d.string().describe("The string to replace the old_str with.").optional(),file_text:d.string().describe("The text to create a file with. Only used for 'create' operations.").optional(),insert_line:d.number().describe("The line number to insert the text at. The first line is 1.").optional()}),gc=new Map,zV=async(e,t)=>{let{command:n,path:r,view_range:a,old_str:i,new_str:o,file_text:s,insert_line:l}=e,u=c=>{if(!c)throw new Error("path is required");let f=(0,Up.normalizePath)(zp.resolve(t.basePath,c)),p=(0,Up.normalizePath)(t.basePath);if(!(0,Up.normalizePath)(f).startsWith(p))throw new Error(`Security error: Attempted to access path outside of the base directory: ${c}`);return f};try{switch(n){case"view":{let c=u(r);if(Bt.existsSync(c)){let f=Bt.statSync(c);if(f.isFile()){let p=Bt.readFileSync(c,"utf-8");if(a&&Array.isArray(a)&&a.length===2){let m=p.split(`
`),[w,b]=a,x=b===-1?m.length:b;return m.slice(Math.max(0,w-1),x).join(`
`)}return p}else if(f.isDirectory())return Bt.readdirSync(c).join(`
`)}return`Error: File or directory not found: ${c}`}case"str_replace":{let c=u(r);if(!Bt.existsSync(c)||!Bt.statSync(c).isFile())return`Error: File not found: ${c}`;let f=Bt.readFileSync(c,"utf-8");gc.set(c,f);let p=f.split(i).length-1;if(p===0)return"Error: No match found for replacement. Please check your text and try again.";if(p>1)return`Error: Found ${p} matches for replacement text. Please provide more context to make a unique match.`;let m=f.replace(i,o);return Bt.writeFileSync(c,m),"Successfully replaced text at exactly one location."}case"create":{let c=u(r),f=zp.dirname(c);return Bt.existsSync(f)||Bt.mkdirSync(f,{recursive:!0}),Bt.writeFileSync(c,s),`Successfully created file: ${c}`}case"insert":{let c=u(r);if(!Bt.existsSync(c)||!Bt.statSync(c).isFile())return`Error: File not found: ${c}`;let f=Bt.readFileSync(c,"utf-8");gc.set(c,f);let p=f.split(`
`),m=Math.min(l,p.length);return p.splice(m,0,o),Bt.writeFileSync(c,p.join(`
`)),`Successfully inserted text after line ${m}`}case"undo_edit":{let c=u(r);return gc.has(c)?(Bt.writeFileSync(c,gc.get(c)),gc.delete(c),`Successfully reverted changes to: ${c}`):`Error: No backup found for file: ${c}`}default:return`Error: Unknown command: ${n}`}}catch(c){return`Error: ${c.message}`}},my=e=>({description:"File editor tool that can view, edit, create, and manage files",parameters:UV,execute:t=>zV(t,e)});var hy={description:"Get the current date and time in local and UTC timezones.",parameters:d.object({}),execute:async()=>{let e=new Date;return{local:e.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short",formatMatcher:"best fit"}),utc:e.toISOString()}}};var BV=Ae(require("obsidian"));var vl=d.object({app:d.custom(),plugin:d.custom(),getProcessor:d.function().args(d.string(),d.string()).returns(d.custom()),abortSignal:d.instanceof(AbortSignal).optional()}),U_={description:"List files in the vault. Returns file path, last modified time, and size in bytes.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;return n.vault.getFiles().map(r=>({path:r.path,mtime:r.stat.mtime,size:r.stat.size}))}},z_={description:"Read the content of a text file in the vault. Returns the uft-8 file content.",parameters:d.object({path:d.string().describe("Path within the vault to the file to read")}),execute:async({path:e},t)=>{let{app:n}=t.context,r=n.vault.getFileByPath(e);if(!r)throw new Error(`File not found: ${e}`);return n.vault.read(r)}},B_={description:"Search the vault contents for a specific term. Matching lines in files will be returned. Similar to grep functionality.",parameters:d.object({searchTerm:d.string().describe("Term to search for in the vault files. String literal. Regex not currently supported."),caseSensitive:d.boolean().default(!1).describe("Whether the search should be case sensitive"),fileExtensions:d.array(d.string()).default(["md","txt"]).describe("List of file extensions to search (e.g., ['md', 'txt']). If not provided, all files will be searched.")}),execute:async({searchTerm:e,caseSensitive:t=!1,fileExtensions:n},r)=>{let{app:a}=r.context,i=a.vault.getFiles(),o=[];for(let s of i){if(n&&n.length>0){let l=s.extension.toLowerCase();if(!n.includes(l))continue}try{let u=(await a.vault.read(s)).split(`
`),c=[];for(let f=0;f<u.length;f++){let p=u[f];(t?w=>w.includes(e):w=>w.toLowerCase().includes(e.toLowerCase()))(p)&&c.push({lineNumber:f+1,content:p.trim()})}c.length>0&&o.push({path:s.path,matches:c})}catch(l){continue}}return o}},q_={description:"Search for files in the vault by filename. Returns a list of files whose names match the search term.",parameters:d.object({searchTerm:d.string().describe("Term to search for in filenames. String literal. Regex not currently supported."),caseSensitive:d.boolean().default(!1).describe("Whether the search should be case sensitive"),fileExtensions:d.array(d.string()).default(["md","txt"]).describe("List of file extensions to search (e.g., ['md', 'txt']). If not provided, all files will be searched.")}),execute:async({searchTerm:e,caseSensitive:t=!1,fileExtensions:n},r)=>{let{app:a}=r.context,i=a.vault.getFiles(),o=[];for(let s of i){if(n&&n.length>0){let c=s.extension.toLowerCase();if(!n.includes(c))continue}let l=s.name;(t?c=>c.includes(e):c=>c.toLowerCase().includes(e.toLowerCase()))(l)&&o.push({path:s.path,name:l,mtime:s.stat.mtime,size:s.stat.size})}return o}},F_={description:"Create a new file in the vault with the specified content. Calls app.vault.create under the hood.",parameters:d.object({path:d.string().describe("Path within the vault where the file should be created"),content:d.string().describe("Content to write to the new file"),overwrite:d.boolean().default(!1).describe("Whether to overwrite an existing file. Defaults to false.")}),execute:async({path:e,content:t,overwrite:n=!1},r)=>{let{app:a}=r.context,i=a.vault.getFileByPath(e);if(i&&!n)throw new Error(`File already exists at path: ${e}. Set overwrite=true to replace it.`);try{if(i)return await a.vault.modify(i,t),{success:!0,path:e,message:"File updated successfully"};{let o=e.split("/").slice(0,-1).join("/");return o&&await a.vault.createFolder(o).catch(s=>{if(!s.message.includes("already exists"))throw s}),await a.vault.create(e,t),{success:!0,path:e,message:"File created successfully"}}}catch(o){return{success:!1,path:e,message:`Failed to create file: ${o.message||o}`}}}},H_={description:"Update the content of an existing file in the vault. Calls app.vault.modify under the hood.",parameters:d.object({path:d.string().describe("Path within the vault to the file to update"),content:d.string().describe("New content for the file"),createIfNotExists:d.boolean().default(!1).describe("Whether to create the file if it doesn't exist. Defaults to false.")}),execute:async({path:e,content:t,createIfNotExists:n=!1},r)=>{let{app:a}=r.context,i=a.vault.getFileByPath(e);try{if(i)return await a.vault.modify(i,t),{success:!0,path:e,message:"File updated successfully"};if(n){let o=e.split("/").slice(0,-1).join("/");return o&&await a.vault.createFolder(o).catch(s=>{if(!s.message.includes("already exists"))throw s}),await a.vault.create(e,t),{success:!0,path:e,message:"File created successfully"}}else throw new Error(`File not found: ${e}. Set createIfNotExists=true to create it.`)}catch(o){return{success:!1,path:e,message:`Failed to update file: ${o.message||o}`}}}},Bp={description:"\n    Use the Obsidian API directly. This is an experimental tool and should be used with caution. Only use this tool when the other Obsidian tools are insufficient.\n      \n    IMPORTANT: Be very careful when using this tool. It provides full, unrestricted access to the Obsidian API, which allows destructive actions.\n    \n    Definitions:\n    - `app` is the Obsidian App instance.\n    - `obsidian` is the 'obsidian' module import. I.e. the result of `require('obsidian')` or `import * as obsidian from 'obsidian'`.\n      \n    How to use:\n    - Write a function body as a string that takes the Obsidian `app` instance as the first argument and the `obsidian` module as the second argument.\n      - Example: `\"return typeof app === undefined;\"`. This will return `false`, since `app` is is the first argument and is defined.\n      - The string will be evaluated using the `new Function` constructor. `new Function('app', 'obsidian', yourCode)`.\n      - The App object is documented here, although full documentation is not provided: https://docs.obsidian.md/Reference/TypeScript+API/App. Make use of your expertise with Obsidian plugins to utilise this API.\n    - Pass the function definition as a string to this tool.\n    - The function will be called with the Obsidian `app` instance as the first argument, and the `obsidian` module as the second argument.\n    - The return value of your function will be returned as the result of this tool.\n    - NOTE: The `obsidian` module is provided as an argument so that you do not need to `require` or `import` it in your function body. Neither of these are available in the global scope and will not be available to the function.\n    - NOTE: A return value is not required. If your function has a return statement we will attempt to serialize the value using JSON.stringify.\n    - NOTE: Any error thrown by your function will be caught and returned as an error object.\n  ",parameters:d.object({functionBody:d.string().describe("The full function, as a plain string, to be called with the Obisidan `app` instance as the first argument.")}),execute:async({functionBody:e},t)=>{let{app:n}=t.context;try{let a=new Function("app","obsidian",e)(n,BV),i=typeof a=="object"&&typeof a.then=="function";return(a instanceof Promise||i)&&(a=await a),{success:!0,result:a!==void 0?a:void 0,message:"Function executed successfully"}}catch(r){return{success:!1,message:`Error executing function: ${r.message||r}`,error:{name:r.name,message:r.message,stack:r.stack}}}}},$_={description:"Get the currently active Obsidian theme. Returns the theme name, light/dark mode, and the CSS classes applied to the body.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;try{let r=n.vault.config.cssTheme,a=n.vault.config.theme;return{success:!0,theme:{activeTheme:r,lightDarkMode:a,cssClasses:Array.from(document.body.classList).join(" ")}}}catch(r){return{success:!1,message:`Failed to get current theme: ${r.message||r}`,error:{name:r.name,message:r.message,stack:r.stack}}}}},G_={description:"List all available themes that the user can choose from in Obsidian.",parameters:d.object({}),execute:async(e,t)=>{var i,o;let{plugin:n}=t.context,r=n.app,a=r.vault;try{let s=((i=r.customCss)==null?void 0:i.theme)||r.vault.config.cssTheme;return{success:!0,themes:(o=r.customCss)==null?void 0:o.themes,activeTheme:s}}catch(s){return{success:!1,message:`Failed to list available themes: ${s.message||s}`,error:{name:s.name,message:s.message,stack:s.stack}}}}},Y_={description:`
    Set the currently active Obsidian theme. Only installed themes can be set. 
    Set light or dark mode (Optional).
    First list available themes if unsure. 
    If the user requests a theme that is not available tell them as much.
  `,parameters:d.object({themeName:d.string().describe("The name of the theme to set. Must already be installed."),lightDarkMode:d.enum(["light","dark","default"]).describe("The light/dark mode to set the theme to. In Obsidian 'light' corresponds to 'moonstone' and 'dark' corresponds to 'obsidian'. 'default' is a noop and will not change the mode.")}),execute:async({themeName:e,lightDarkMode:t},n)=>{let{app:r}=n.context;if(!r.customCss)throw new Error("No custom CSS found");if(r.customCss.setTheme(e),t!=="default"){let a={light:"moonstone",dark:"obsidian"}[t];r.changeTheme(a)}return{success:!0,message:"Theme set successfully"}}},Z_={description:"List all files that have been recently opened in Obsidian. Calls app.workspace.getLastOpenFiles under the hood but returns a list of file objects.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;return n.workspace.getLastOpenFiles().map(a=>n.vault.getFileByPath(a)).filter(a=>a!==null).map(a=>({path:a.path,mtime:a.stat.mtime,size:a.stat.size}))}},K_={description:"List all open files in Obsidian. These files are open tabs in the user's Obsidian editor.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;function r(){let i=[],o=n.workspace.getLeavesOfType("markdown").filter(s=>s.view.file!==null);for(let s of o){let l=s.view.file;l&&i.push(l)}return i}return r().map(i=>({path:i.path,mtime:i.stat.mtime,size:i.stat.size}))}},J_={description:"Get the current file that the user is editing in Obsidian. Can be null, which indicates the user has no files open.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context,r=n.workspace.getActiveFile();return{file:r?{path:r.path,mtime:r.stat.mtime,size:r.stat.size}:null}}},X_={description:"List all CSS snippets installed in the Obsidian vault, including their active status.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;try{if(!n.customCss)throw new Error("Custom CSS module not available");let r=n.customCss.snippets||[],a=new Set;try{let s=n.customCss.enabledSnippets;s&&(s instanceof Set||Array.isArray(s))&&(Array.isArray(s)?a=new Set(s):a=s)}catch(s){let l=n.customCss.enabledSnippets;l&&(a=new Set(Array.from(l)))}let i=r.map(s=>({name:s,isActive:a.has(s),path:`${s}.css`})),o=n.customCss.getSnippetsFolder();return{success:!0,snippets:i,snippetFolder:o,totalCount:i.length,activeCount:i.filter(s=>s.isActive).length}}catch(r){return{success:!1,message:`Failed to list CSS snippets: ${r.message||r}`,error:{name:r.name,message:r.message,stack:r.stack}}}}},Q_={description:"Enable or disable a CSS snippet in the Obsidian vault by name. Generally you will get the snippet name by first listing the user's CSS snippets.",parameters:d.object({snippetName:d.string().describe("Name of the CSS snippet to toggle (without .css extension)"),enabled:d.boolean().describe("Whether to enable (true) or disable (false) the snippet")}),execute:async({snippetName:e,enabled:t},n)=>{let{app:r}=n.context;try{if(!r.customCss)throw new Error("Custom CSS module not available");return(r.customCss.snippets||[]).includes(e)?(r.customCss.setCssEnabledStatus(e,t),{success:!0,message:`CSS snippet '${e}' ${t?"enabled":"disabled"} successfully.`}):{success:!1,message:`CSS snippet '${e}' not found. Use listCssSnippetsTool to see available snippets.`}}catch(a){return{success:!1,message:`Failed to ${t?"enable":"disable"} CSS snippet: ${a.message||a}`,error:{name:a.name,message:a.message,stack:a.stack}}}}},bZ={description:`Enable or disable an Obsidian plugin by ID. Use this to toggle plugins on
  or off programmatically. IMPORTANT: If a new plugin was created and plugins
    have not yet been reloaded, enabling it may fail. The user must first click
  the "Reload plugins" button in Obsidian settings "Community plugins" tab.`,parameters:d.object({pluginId:d.string().describe("ID of the Obsidian plugin to toggle"),enabled:d.boolean().describe("Whether to enable (true) or disable (false) the plugin")}),execute:async({pluginId:e,enabled:t},n)=>{let{app:r}=n.context;try{if(!r.plugins)throw new Error("Plugin API not available");return t?await r.plugins.enablePluginAndSave(e):await r.plugins.disablePluginAndSave(e),{success:!0,message:`Plugin '${e}' ${t?"enabled":"disabled"} successfully.`}}catch(a){return{success:!1,message:`Failed to ${t?"enable":"disable"} plugin: ${a.message||a}`,error:{name:a.name,message:a.message,stack:a.stack}}}}},W_={description:"List all installed plugins in the Obsidian vault, showing their ID, name, version, and enabled status.",parameters:d.object({}),execute:async(e,t)=>{let{app:n}=t.context;try{if(!n.plugins)throw new Error("Plugin API not available");let r=n.plugins.manifests||{},a=n.plugins.enabledPlugins||new Set,i=Object.entries(r).map(([o,s])=>({id:o,name:s.name,version:s.version,author:s.author,description:s.description||"",enabled:a.has(o)}));return{success:!0,plugins:i,totalCount:i.length,enabledCount:i.filter(o=>o.enabled).length}}catch(r){return{success:!1,message:`Failed to list plugins: ${r.message||r}`,error:{name:r.name,message:r.message,stack:r.stack}}}}};var e1={description:"Bundle a TypeScript main.ts file into a JavaScript main.js file.",parameters:d.object({mainTSPath:d.string()}),execute:async({mainTSPath:e},t)=>{let{plugin:n}=t.context;return await n.bundlePlugin(e)}};var es="delegateToAgent",ts="obsidianAPITool",$i="str_replace_editor",Gi=class{constructor(t){this.name=t.name,this.instructions=t.instructions,this.model=t.model,this.contextSchema=t.contextSchema,this.agents=t.agents||[],this.tools=t.tools||{},this.settings=t.settings||{maxSteps:20,maxRetries:2,maxTokens:8e3},this.agents.length>0&&(this.tools={...this.tools,[es]:V_(this.agents,{onChunk:({agentId:n,toolCallId:r,chunk:a,context:i})=>{i.getProcessor(this.name,r).appendChunk(a)}})})}wrapTools(t,n){return n?Object.fromEntries(Object.entries(t).map(([r,{execute:a,...i}])=>{let o={...i,execute:(s,l)=>a(s,{...l,context:n})};return[r,o]})):t}async generateText(t,n){return this.contextSchema&&n&&this.contextSchema.parse(n),jp({system:this.instructions,model:this.model,tools:this.wrapTools(this.tools,n),...t})}streamText(t,n){return this.contextSchema&&n&&this.contextSchema.parse(n),Lp({system:this.instructions,model:this.model,tools:this.wrapTools(this.tools,n),...t})}},qV=({llm:e,settings:t})=>new Gi({name:"obsidian vault content manager",instructions:`You're part of a team that manages, maintains and enhances a
    user's Obsidian vault. 
    Your specialty is managing the content files in the
    Obsidian vault. These are usually markdown or plain text files, but Obsidian
    supports a broad range of content.
    
    You do NOT manage themes or plugins. You're concerned ONLY with the vault
    content created directly by the user.`,model:e,contextSchema:vl,settings:t,tools:{listFilesTool:U_,readFilesTool:z_,createFileTool:F_,updateFileTool:H_,searchFilesByNameTool:q_,searchVaultTool:B_,getCurrentDateTime:hy}}),FV=({llm:e,settings:t,obsidianPaths:n})=>{let r=[GV({llm:e,settings:t,obsidianPaths:n,additionalInstructions:`
==== Your Job Scope ====

Your expected job scope is to perform CRUD operations on the user's
themes and snippets. Help the user acheive the look and feel they desire with their
Obsidian UI.
  
==== Snippets ====

Snippets allow customizing the look and feel of Obsidian through CSS. The user can have any number of snippets active at a time.

When creating snippets, the snippet name should begin with 'vibe-'. This will make it easier to identify your snippets after the fact.

==== Themes ====

The user will only have one theme active at a time. You can find out about currently-installed themes by perusing the theme folder: ${n.themesPath}

==== Creating Themes ====

When creating themes, the theme directory should begin with 'vibe-'. This will make it easier to identify your themes after the fact.

Themes MUST include the following files:

- \`theme.css\`: Contains the CSS for the theme.
- \`manifest.json\`: Contains the manifest for the theme. Metadata about the theme.

Example manifest.json:

\`\`\`json
{
  "name": "My Cool Theme",
  "author": "Vibesidian Plugin",
  "authorUrl": "https://github.com/iansinnott/vibesidian",
  "version": "1.0.0",
  "minAppVersion": "0.15.0"
}
\`\`\`

==== Additional Notes ====

- If the user reports seeing no difference after modifying themes or snippets,
  consider using more specific CSS selectors. Also be sure to check that the
  snippet or theme is enabled.
      `})];return new Gi({name:"obsidian theme manager",instructions:`
You are an AI agent that specializes in themeing Obsidian and managing the
user's existing themes and snippets.

You can help users understand their installed themes, enable/disable themes,
and provide information about theme functionality.
  
If you cannot accomplish the user's request, either delegate it to your team or
simply say so. Do not respond with instructions on how to do it manually.
  
In addition to your own tools, you have access to the following team members:

${r.map(a=>`<agent_instructions agent_name="${a.name}">
${a.instructions}
</agent_instructions>`).join(`

`)}
  
Delegate to your team using the ${es} tool when needed, such as when reading directories or modifying files.
    `,model:e,contextSchema:vl,settings:t,agents:r,tools:{getCurrentTheme:$_,listAvailableThemes:G_,setTheme:Y_,listCssSnippets:X_,toggleCssSnippet:Q_}})},HV=({llm:e,settings:t})=>new Gi({name:"obsidian workspace manager",instructions:`
You are an AI agent that specializes in managing the user's Obsidian workspace.
This includes managing the user's open files, recently opened files.

You do NOT do CRUD operations on the user's vault. Another agent will handle
that. If CRUD operations are needed simply request help in working with the
users vault.

Prefer your specific tools, but when you don't have a specific tool to use, you
can use the obsidian API directly. For example, if the user wants you to _modify_
the tabs in their Obsidian window you should use the obsidian API directly.
    `,model:e,contextSchema:vl,settings:t,tools:{listOpenFiles:K_,listLastOpenFiles:Z_,getCurrentFile:J_,[ts]:Bp}}),$V=({llm:e,settings:t,obsidianPaths:n})=>new Gi({name:"obsidian plugin manager",instructions:`
You are an AI agent that specializes in managing Obsidian plugins.
You can help users understand their installed plugins and provide information
about plugin functionality.
  
You can also create new plugins or modify existing ones to add functionality to
Obsidian. Whatever the user desires.
  
==== Break the problem down ====

When asked to implement or modify a plugin, break the problem down into
smaller problems. This will make it easier to reason about and solve.
  
==== Obsidian Plugin Basic Structure ====

Obsidian plugins require (at least) the following files:

- manifest.json
- main.ts (will be bundled into main.js)
- styles.css (optional)

==== Obsidian Plugin Manifest File ====

The manifest.json file is a JSON file that describes the plugin. It is used to
configure the plugin and provide information about it.

Example:

\`\`\`json
{
	"id": "vibe-my-cool-plugin",
	"name": "My Cool Plugin",
	"version": "1.0.0",
	"minAppVersion": "0.15.0",
	"description": "A very cool plugin that does something very cool.",
	"author": "Vibesidian Plugin",
	"authorUrl": "https://github.com/iansinnott/vibesidian",
	"fundingUrl": "https://github.com/sponsors/iansinnott",
	"isDesktopOnly": true
}
\`\`\`

NOTE: When creating a plugin the manifest.json file should include "Vibesidian
Plugin" as the author. The ID should _start with_ 'vibe-', a shorthand for
'Vibesidian Plugin'. This will make it easier to identify your plugins after the
fact. The author URL should always be 'https://github.com/iansinnott/vibesidian'.

==== No addidtional build step required ====
  
Do NOT create a build step. You have a tool to bundle TypeScript into
JavaScript. In other words, DO use TypeScript to write the plugin. Implicit and
explicit \`any\` are both allowed, so don't worry too much about types. Use
\`import\`/\`export\` syntax to import/export modules, NOT \`require\`/\`module.exports\`.
  
==== Use Multiple Files ====
  
Separate parts of your plugin into multiple files so that each file remains
easier to reason about. All files will be bundled into a single JavaScript file
by the when you use your bundler tool.

==== Reading and Writing Files ====

You have access to the ${$i} tool which you can use to access
the filesystem. 

Your primary job scope with regard to the filesystem is to do CRUD operations on
the user's Obsidian plugins. You help users manage their files effectively and safely.

All files you work with will be in the user's Obsidian vault. Every file or
directory path you request will be relative to the user's Obsidian vault.

For example, if a user's vault is located at "/Users/john/Documents/Obsidian
Vault" and they want you to edit the file "example.md" in the root of their
vault, they would simply provide you with the path "example.md".
  
Alternatively, if you want to edit a nested file, you can provide a path like
"notes/example.md" which would be the file "example.md" in the "notes" folder
within the user's vault.

Here are some paths that may come in handy: 

- Config Path: ${n.configPath}
- Plugins Path: ${n.pluginsPath}

IMPORTANT: All paths you provide should be relative paths. They will be interpreted as relative to the user's Obsidian vault.

DEVELOPERS NOTE: Windows users will have a different path structure. Error messages should tell you if you're on a Windows system.
  
NOTE: When listing plugins, assume that any plugin's who's ID starts
with 'vibe-' were authored by the 'Vibesidian Plugin' agent, i.e. the
controller of the system which you are a part of.
  
==== Bundling TypeScript ====

You can bundle a TypeScript main.ts file into a JavaScript main.js file using the
bundleMainTS tool.

You will need to run this on your main.ts file after writing your plugin.

==== Using LLM / Large Language Models / Generative AI ====

Plugins you create and manage can make of LLMs at runtime if needed.
You can assume that the Vibesidian Plugin is installed and make use of it's
\`generateText\` and \`streamText\` methods as needed. First, get a reference to
the plugin by calling
\`this.app.plugins.getPlugin('vibesidian')\`. Then, make use of
the methods as needed.
  
Example:

\`\`\`typescript
const omp = this.app.plugins.getPlugin('vibesidian');
const res = await omp.generateText({
  prompt: "whats 2 + 2?",
});
console.log(res.text);

// or, if you need to pass an array of messages.
const res = await omp.generateText({
  messages: [ { role: "user", content: "hey" } ],
});
console.log(res.text);

// Or, if you need streaming (note, stream result is not a promise):
const stream = omp.streamText({
  messages: [ { role: "user", content: "whats 2 + 2?" } ],
});
for await (const chunk of stream.textStream) {
  console.log(chunk.text);
}

\`\`\`
    `,model:e,contextSchema:vl,settings:t,tools:{listPlugins:W_,bundleMainTS:e1,[ts]:Bp,[$i]:my({basePath:n.vaultPath})}}),GV=({llm:e,settings:t,obsidianPaths:n,additionalInstructions:r=""})=>new Gi({name:"file editor",instructions:`You are an AI agent that specializes in reading and editing files and directories. You can do things like:

- View file contents
- Create new files
- Replace text within files
- Insert text at specific lines
- Undo edits when needed

Your primary responsibility is to help users manage their files effectively and safely.
Always confirm changes were made successfully and provide informative error messages when issues occur.

All files you work with will be in the user's Obsidian vault. Every file or directory path you request will be relative to the user's Obsidian vault.

For example, if a user's vault is located at "/Users/john/Documents/Obsidian
Vault" and they want you to edit the file "example.md" in the root of their
vault, they would simply provide you with the path "example.md".
  
Alternatively, if you want to edit a nested file, you can provide a path like
"notes/example.md" which would be the file "example.md" in the "notes" folder
within the user's vault.

Here are some paths that may come in handy: 

- Config Path: ${n.configPath}
- Themes Path: ${n.themesPath}
- Snippets Path: ${n.snippetsPath}
- Plugins Path: ${n.pluginsPath}

Of course content files can be placed anywhere within the vault path.

IMPORTANT: All paths you provide should be relative paths. They will be interpreted as relative to the user's Obsidian vault.

DEVELOPERS NOTE: Windows users will have a different path structure. Error messages should tell you if you're on a Windows system.

Additional instructions:

${r}
`,model:e,settings:t,tools:{[$i]:my({basePath:n.vaultPath})}}),t1=({llm:e,settings:t,obsidianPaths:n})=>{let r=[qV({llm:e,settings:t}),FV({llm:e,settings:t,obsidianPaths:n}),HV({llm:e,settings:t}),$V({llm:e,settings:t,obsidianPaths:n})];return new Gi({name:"team manager",instructions:`You are an AI agent that manages a team of Obsidian experts
that can help the user with all sorts of tasks. Your team of experts are
also AI agents but they have specific skills and knowledge.
      
Your team includes:

${r.map(i=>`<agent_instructions agent_name="${i.name}">
${i.instructions}
</agent_instructions>`).join(`

`)}
  
NOTE: The full conversation history is available to you but not your agents.
Provide relevant information to them in your prompt.

Assume that user queries are related to Obsidian. For example, phrases like 
"my notes", "my vault", "my files", "my documents", "my writing", etc. are all
related to Obsidian.

You can delegate tasks to these team members using the
${es} tool. Do not mention to the user that you're
delegating. The UI will display a tool call message box to the user which makes
it redundant to mention it in prose. For example, do not preface with "Now I
will delegate...".

Carefully consider your team members' responses before continuing.

You can also utilize the obsidian API _directly_, but this is highly
discouraged. Please only use this functionality when you're team is unable to
handle a user request.

DO NOT show the user source code unless they ask for it.`,model:e,contextSchema:vl,settings:t,agents:r,tools:{getCurrentDateTime:hy,[ts]:Bp}})};var ar=require("obsidian"),yc="vibesidian-api-key";function YV(e){if(e){try{let t=JSON.parse(e);if(typeof t=="object"&&t!==null&&"provider"in t&&"key"in t&&typeof t.provider=="string"&&typeof t.key=="string")return t}catch(t){}return{provider:"",key:e}}}function n1(e){let t=YV(localStorage.getItem(yc));if(t)return t.provider===e||t.provider===""?t.key:void 0}function r1(e,t){let n={provider:e,key:t};localStorage.setItem(yc,JSON.stringify(n))}var oi={apiKey:"",baseUrl:"https://llm-oprah.zenture.cloud/v1",model:"claude-3-7-sonnet-20250219",availableModels:[],maxSteps:20,maxRetries:1,maxTokens:8e3},qp=class extends ar.PluginSettingTab{constructor(n,r){super(n,r);this.plugin=r}async fetchNewApiKey(){try{let n=await fetch("https://cf-llm-oprah-bff.txn.workers.dev/key/generate",{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to fetch API key: ${n.statusText}`);return(await n.json()).key}catch(n){return console.error("Error fetching new API key:",n),new ar.Notice("Failed to fetch API key. Check console for details."),""}}async display(){let{containerEl:n}=this;this.plugin.settings.baseUrl===oi.baseUrl&&(n1(this.plugin.settings.baseUrl)||this.fetchNewApiKey().then(s=>{s&&(r1(this.plugin.settings.baseUrl,s),this.plugin.settings.apiKey=s,this.plugin.saveSettings().then(()=>{new ar.Notice("API key initialized successfully"),this.display()}))}).catch(s=>{console.error("Error fetching API key in background:",s)})),n.empty(),n.createEl("h3",{text:"LLM Connection Settings"});let r;r=n.createEl("p"),r.innerHTML="This plugin comes <i>pre-configured</i> with LLM access, but you can configure your own here.",r=n.createEl("p"),r.innerHTML="Be sure to use <i>intelligent</i> models. Lesser models generally will <i>not</i> work.",r=n.createEl("p"),r.style.padding="0.5rem",r.style.borderRadius="0.25rem",r.style.borderWidth="1px",r.style.borderStyle="solid",r.style.backgroundColor="rgba(254, 252, 191, 0.12)",r.style.borderColor="var(--border-warning, #fde047)",r.style.color="var(--text-warning, #92400e)",r.style.fontSize="0.875rem",r.style.marginBottom="1rem",r.innerHTML="<strong>Beta Notice:</strong> LLM access is currently provided for free while this plugin is in beta. I cover the costs. This may change in future versions, potentially requiring you to configure your own API key and endpoint.",new ar.Setting(n).setName("API Key").setDesc("Enter your API key here").addText(o=>(o.setPlaceholder("Enter your API key").setValue(this.plugin.settings.apiKey).onChange(async s=>{this.plugin.settings.apiKey=s,await this.plugin.saveSettings()}),o.inputEl.type="password",o)),new ar.Setting(n).setName("Base URL").setDesc("Enter the base URL for the API or select a preset below.").addText(o=>(o.setPlaceholder("https://api.openai.com").setValue(this.plugin.settings.baseUrl),o.inputEl.addEventListener("blur",async()=>{let s=o.inputEl.value;this.plugin.settings.baseUrl=s,await this.plugin.saveSettings()}),o));let a=new ar.Setting(n);a.settingEl.style.borderTop="none",a.addButton(o=>o.setButtonText("Default").onClick(async()=>{let s=n1(oi.baseUrl);s||(s=await this.fetchNewApiKey(),s&&r1(oi.baseUrl,s)),this.plugin.settings.baseUrl=oi.baseUrl,this.plugin.settings.model=oi.model,this.plugin.settings.apiKey=s||"",await this.plugin.refreshModelList(),await this.plugin.saveSettings(),this.display()})),a.addButton(o=>o.setButtonText("OpenAI").onClick(async()=>{this.plugin.settings.baseUrl="https://api.openai.com/v1",this.plugin.settings.apiKey="",await this.plugin.saveSettings(),this.display()})),a.addButton(o=>o.setButtonText("OpenRouter").onClick(async()=>{this.plugin.settings.baseUrl="https://openrouter.ai/api/v1",this.plugin.settings.apiKey="",await this.plugin.saveSettings(),this.display()})),a.addButton(o=>o.setButtonText("Ollama").onClick(async()=>{this.plugin.settings.baseUrl="http://localhost:11434/v1",this.plugin.settings.apiKey="",await this.plugin.saveSettings(),this.display()})),a.addButton(o=>o.setButtonText("Claude").onClick(async()=>{this.plugin.settings.baseUrl="https://api.anthropic.com/v1",this.plugin.settings.apiKey="",await this.plugin.saveSettings(),this.display()})),new ar.Setting(n).setName("Model").setDesc("Select the model to use for generation.");let i=new ar.Setting(n);i.infoEl.style.display="none",i.settingEl.style.borderTop="none",i.addDropdown(o=>{(this.plugin.settings.availableModels||[]).forEach(s=>{o.addOption(s,s)}),o.setValue(this.plugin.settings.model).onChange(async s=>{this.plugin.settings.model=s,await this.plugin.saveSettings()})}),i.addButton(o=>{o.setButtonText("Refresh").setCta().setTooltip("Fetch the latest available models from the API").onClick(async()=>{o.setDisabled(!0).setButtonText("Refreshing...");try{await this.plugin.refreshModelList(),this.display()}catch(s){console.error("Error refreshing model list:",s),new ar.Notice("Failed to refresh model list. Check console."),o.setDisabled(!1).setButtonText("Refresh")}})}),n.createEl("h3",{text:"Advanced LLM Settings"}),new ar.Setting(n).setName("Max Steps").setDesc("Maximum number of steps the agent can take.").addText(o=>o.setPlaceholder("25").setValue(String(this.plugin.settings.maxSteps)).onChange(async s=>{let l=parseInt(s,10);isNaN(l)||(this.plugin.settings.maxSteps=l,await this.plugin.saveSettings())})),new ar.Setting(n).setName("Max Retries").setDesc("Maximum number of retries for failed steps.").addText(o=>o.setPlaceholder("1").setValue(String(this.plugin.settings.maxRetries)).onChange(async s=>{let l=parseInt(s,10);isNaN(l)||(this.plugin.settings.maxRetries=l,await this.plugin.saveSettings())})),new ar.Setting(n).setName("Max Tokens").setDesc("Maximum number of tokens for LLM responses.").addText(o=>o.setPlaceholder("14000").setValue(String(this.plugin.settings.maxTokens)).onChange(async s=>{let l=parseInt(s,10);isNaN(l)||(this.plugin.settings.maxTokens=l,await this.plugin.saveSettings())}))}};var _g=require("obsidian"),aw=Ae(et()),EP=Ae(VC());var Yt=Ae(et());var gm=Ae(et()),UC=(0,gm.createContext)(void 0),zC=UC.Provider;function Ef(){let e=(0,gm.useContext)(UC);if(!e)throw new Error("useApp must be used within an AppProvider");return e}var xa=Ae(et());var BC=(e,t)=>e.filter(n=>n.type==="tool-result").find(n=>n.toolCallId===t)||null,V3=(e,t)=>e.find(n=>{var r;return n.type==="error"&&((r=n.error)==null?void 0:r.toolCallId)===t})||null,ym=(e,t="default")=>{let{plugin:n}=Ef(),r=n.getProcessor(e,t),[a,i]=(0,xa.useState)(r.getMessages()),[o,s]=(0,xa.useState)(r.getChunks());(0,xa.useEffect)(()=>{let c=()=>{i(JSON.parse(JSON.stringify(r.getMessages()))),s(JSON.parse(JSON.stringify(r.getChunks())))};n.loadConversation(e,t).then(c).catch(console.error);let f=n.getSubscribers(e,t);return f.add(c),c(),()=>{f.delete(c)}},[e,t,r,n]);let l=(0,xa.useCallback)(async()=>{await n.startNewConversation(),n.getProcessorsMap().forEach(c=>c.reset()),n.getProcessorsMap().clear()},[e,n]),u=(0,xa.useCallback)(c=>BC(o,c),[o]);return{appendMessage:c=>{r.appendMessage(c)},appendResponseChunk:c=>{r.appendChunk(c)},messages:a,chunks:o,reset:l,getMessages:()=>r.getMessages(),getChunks:()=>r.getChunks(),getToolResult:u,agentId:e,threadId:t}},vm=(e,t,n)=>{let{plugin:r}=Ef(),a=r.getProcessor(e,t),[i,o]=(0,xa.useState)(null),[s,l]=(0,xa.useState)(null);return(0,xa.useEffect)(()=>{let u=(p,m)=>{let w=p(a.getChunks(),m);if(w)return{data:w};for(let[b,x]of r.getProcessorsMap().entries()){if(b.startsWith(e))continue;let h=p(x.getChunks(),m);if(h)return console.debug("useToolResult",e,m,"data misplaced in",b,x),{data:h,source:b}}return{data:null}},c=()=>{var w;let{data:p}=u(BC,n),{data:m}=u(V3,n);o(p),l(m?{name:m.error.name,message:m.error.message,cause:m.error.cause,toolArgs:m.error.toolArgs,toolName:m.error.toolName,toolCallId:m.error.toolCallId,stack:(w=m.error.stack)!=null?w:""}:null)};c();let f=r.getSubscribers(e,t);return f.add(c),()=>{f.delete(c)}},[n,e,t,a,r]),{result:i,error:s,isLoading:!i&&!s,agentId:e}};var Jn=Ae(et()),qC=({onSubmit:e,isLoading:t,onCancel:n})=>{let[r,a]=(0,Jn.useState)(""),i=(0,Jn.useRef)(null),o=()=>{let u=i.current;u&&(u.style.height="auto",u.style.height=`${u.scrollHeight}px`)};(0,Jn.useEffect)(()=>{o()},[r]);let s=()=>{let u=r.trim();u&&(e(u),a(""))};return Jn.default.createElement("div",{className:"meta-mt-2"},Jn.default.createElement("div",{className:"meta-relative meta-flex meta-items-center"},Jn.default.createElement("div",{className:`meta-w-full ${t?"meta-rotating-border-wrapper":""}`},Jn.default.createElement("textarea",{ref:i,className:"meta-w-full meta-p-2 meta-pr-10 meta-rounded-md meta-border meta-border-gray-300 dark:meta-border-gray-600 dark:meta-bg-gray-800 meta-text-gray-900 dark:meta-text-gray-100 meta-resize-none meta-focus:ring-2 meta-focus:ring-blue-500 meta-focus:border-blue-500 meta-outline-none meta-transition meta-min-h-[40px] meta-overflow-hidden",placeholder:"What can we do for you?",rows:1,value:r,onChange:u=>a(u.target.value),onKeyDown:u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),s())},disabled:t,style:{lineHeight:"normal"}})),Jn.default.createElement("button",{className:"meta-absolute meta-right-2 meta-p-1 meta-bg-transparent meta-rounded-full disabled:meta-opacity-50 disabled:meta-cursor-not-allowed",onClick:t&&n?n:s,disabled:!t&&!r.trim(),"aria-label":t?"Cancel":"Send message"},t?Jn.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"meta-w-5 meta-h-5 meta-text-blue-600 dark:meta-text-blue-400 meta-animate-pulse"},Jn.default.createElement("rect",{x:"6",y:"6",width:"12",height:"12",fill:"currentColor"})):Jn.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"meta-w-5 meta-h-5 meta-text-blue-600 hover:meta-text-blue-800 dark:meta-text-blue-400 dark:hover:meta-text-blue-300"},Jn.default.createElement("path",{d:"M3.478 2.404a.75.75 0 00-.926.941l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.404z"})))))};var ew=Ae(Jb());var Af=Ae(ws(),1),za=Ae(et(),1);var GC=Ae(et(),1),pu=(0,GC.createContext)({});var YC=Ae(et(),1);function du(e){let t=(0,YC.useRef)(null);return t.current===null&&(t.current=e()),t.current}var wm=Ae(et(),1);var mu=typeof window!="undefined";var Sm=mu?wm.useLayoutEffect:wm.useEffect;var Qb=Ae(ws(),1),QC=Ae(et(),1),Ss=Ae(et(),1);var ZC=Ae(et(),1),wo=(0,ZC.createContext)(null);var JC=Ae(ws(),1),Tm=Ae(et(),1),_i=Ae(et(),1);var KC=Ae(et(),1),hu=(0,KC.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});var Xb=class extends Tm.Component{getSnapshotBeforeUpdate(t){let n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){let r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function XC({children:e,isPresent:t,anchorX:n}){let r=(0,_i.useId)(),a=(0,_i.useRef)(null),i=(0,_i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,_i.useContext)(hu);return(0,_i.useInsertionEffect)(()=>{let{width:s,height:l,top:u,left:c,right:f}=i.current;if(t||!a.current||!s||!l)return;let p=n==="left"?`left: ${c}`:`right: ${f}`;a.current.dataset.motionPopId=r;let m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),(0,JC.jsx)(Xb,{isPresent:t,childRef:a,sizeRef:i,children:Tm.cloneElement(e,{ref:a})})}var WC=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:s})=>{let l=du(B3),u=(0,Ss.useId)(),c=(0,Ss.useCallback)(p=>{l.set(p,!0);for(let m of l.values())if(!m)return;r&&r()},[l,r]),f=(0,Ss.useMemo)(()=>({id:u,initial:t,isPresent:n,custom:a,onExitComplete:c,register:p=>(l.set(p,!1),()=>l.delete(p))}),i?[Math.random(),c]:[n,c]);return(0,Ss.useMemo)(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),QC.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=(0,Qb.jsx)(XC,{isPresent:n,anchorX:s,children:e})),(0,Qb.jsx)(wo.Provider,{value:f,children:e})};function B3(){return new Map}var So=Ae(et(),1);function _m(e=!0){let t=(0,So.useContext)(wo);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:a}=t,i=(0,So.useId)();(0,So.useEffect)(()=>{if(e)return a(i)},[e]);let o=(0,So.useCallback)(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}var Em=Ae(et(),1),kf=e=>e.key||"";function Wb(e){let t=[];return Em.Children.forEach(e,n=>{(0,Em.isValidElement)(n)&&t.push(n)}),t}var ex=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:s="left"})=>{let[l,u]=_m(o),c=(0,za.useMemo)(()=>Wb(e),[e]),f=o&&!l?[]:c.map(kf),p=(0,za.useRef)(!0),m=(0,za.useRef)(c),w=du(()=>new Map),[b,x]=(0,za.useState)(c),[h,g]=(0,za.useState)(c);Sm(()=>{p.current=!1,m.current=c;for(let _=0;_<h.length;_++){let T=kf(h[_]);f.includes(T)?w.delete(T):w.get(T)!==!0&&w.set(T,!1)}},[h,f.length,f.join("-")]);let y=[];if(c!==b){let _=[...c];for(let T=0;T<h.length;T++){let R=h[T],k=kf(R);f.includes(k)||(_.splice(T,0,R),y.push(R))}return i==="wait"&&y.length&&(_=y),g(Wb(_)),x(c),null}let{forceRender:S}=(0,za.useContext)(pu);return(0,Af.jsx)(Af.Fragment,{children:h.map(_=>{let T=kf(_),R=o&&!l?!1:c===h||f.includes(T),k=()=>{if(w.has(T))w.set(T,!0);else return;let D=!0;w.forEach(F=>{F||(D=!1)}),D&&(S==null||S(),g(m.current),o&&(u==null||u()),r&&r())};return(0,Af.jsx)(WC,{isPresent:R,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:R?void 0:k,anchorX:s,children:_},T)})})};function Ts(e,t){e.indexOf(t)===-1&&e.push(t)}function _s(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ei=()=>{},Ba=()=>{};var wa={skipAnimations:!1,useManualTiming:!1};function Es(e){let t;return()=>(t===void 0&&(t=e()),t)}var Ht=e=>e;var qa=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r};var ki=class{constructor(){this.subscriptions=[]}add(t){return Ts(this.subscriptions,t),()=>_s(this.subscriptions,t)}notify(t,n,r){let a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){let o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};var An=e=>e*1e3,Un=e=>e/1e3;function Cf(e,t){return t?e*(1e3/t):0}var eM=Es(()=>window.ScrollTimeline!==void 0);var km=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){let r=this.animations.map(a=>{if(eM()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}};var Mf=class extends km{then(t,n){return this.finished.finally(t).then(()=>{})}};var Sa={layout:0,mainThread:0,waapi:0};var br={value:null,addProjectionMetrics:null};var ks=e=>Array.isArray(e)&&typeof e[0]=="number";var tM={};function nM(e,t){let n=Es(e);return()=>{var r;return(r=tM[t])!=null?r:n()}}var Fa=nM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing");var Rf=(e,t,n=10)=>{let r="",a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(i/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`};var As=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`;var Of={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:As([0,.65,.55,1]),circOut:As([.55,0,1,.45]),backIn:As([.31,.01,.66,-.59]),backOut:As([.33,1.53,.69,.99])};function tx(e,t){if(e)return typeof e=="function"&&Fa()?Rf(e,t):ks(e)?As(e):Array.isArray(e)?e.map(n=>tx(n,t)||Of.easeOut):Of[e]}function nx(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:s="easeInOut",times:l}={},u=void 0){let c={[t]:n};l&&(c.offset=l);let f=tx(s,a);Array.isArray(f)&&(c.easing=f),br.value&&Sa.waapi++;let p=e.animate(c,{delay:r,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:u});return br.value&&p.finished.finally(()=>{Sa.waapi--}),p}function Cs(e){return typeof e=="function"&&"applyToOptions"in e}function Ms(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}function Rs(e){let t=0,n=50,r=e.next(t);for(;!r.done&&t<2e4;)t+=n,r=e.next(t);return t>=2e4?1/0:t}function rx(e,t=100,n){let r=n({...e,keyframes:[0,t]}),a=Math.min(Rs(r),2e4);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:Un(a)}}function Cm(e){return Boolean(typeof e=="function"&&Fa()||!e||typeof e=="string"&&(e in Of||Fa())||ks(e)||Array.isArray(e)&&e.every(Cm))}function Mm(e,t){e.timeline=t,e.onfinish=null}var Df=["read","resolveKeyframes","update","preRender","render","postRender"];function rM(e,t){let n=new Set,r=new Set,a=!1,i=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){o.has(f)&&(c.schedule(f),e()),l++,f(s)}let c={schedule:(f,p=!1,m=!1)=>{let b=m&&a?n:r;return p&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(s=f,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(u),t&&br.value&&br.value.frameloop[t].push(l),l=0,n.clear(),a=!1,i&&(i=!1,c.process(f))}};return c}var q3=40;function Rm(e,t){let n=!1,r=!0,a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Df.reduce((h,g)=>(h[g]=rM(i,t?g:void 0),h),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,m=()=>{let h=wa.useManualTiming?a.timestamp:performance.now();n=!1,wa.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(h-a.timestamp,q3),1)),a.timestamp=h,a.isProcessing=!0,s.process(a),l.process(a),u.process(a),c.process(a),f.process(a),p.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))},w=()=>{n=!0,r=!0,a.isProcessing||e(m)};return{schedule:Df.reduce((h,g)=>{let y=o[g];return h[g]=(S,_=!1,T=!1)=>(n||w(),y.schedule(S,_,T)),h},{}),cancel:h=>{for(let g=0;g<Df.length;g++)o[Df[g]].cancel(h)},state:a,steps:o}}var{schedule:Os,cancel:F3}=Rm(queueMicrotask,!1);var{schedule:Be,cancel:xr,state:$t,steps:Pf}=Rm(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ht,!0);var Om;function H3(){Om=void 0}var zn={now:()=>(Om===void 0&&zn.set($t.isProcessing||wa.useManualTiming?$t.timestamp:performance.now()),Om),set:e=>{Om=e,queueMicrotask(H3)}};var sa={x:!1,y:!1};function Dm(){return sa.x||sa.y}function ax(e){return e==="x"||e==="y"?sa[e]?null:(sa[e]=!0,()=>{sa[e]=!1}):sa.x||sa.y?null:(sa.x=sa.y=!0,()=>{sa.x=sa.y=!1})}function aM(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);let i=(r=n==null?void 0:n[e])!=null?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Pm(e,t){let n=aM(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function iM(e){return!(e.pointerType==="touch"||Dm())}function ix(e,t,n={}){let[r,a,i]=Pm(e,n),o=s=>{if(!iM(s))return;let{target:l}=s,u=t(l,s);if(typeof u!="function"||!l)return;let c=f=>{iM(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,a)};return r.forEach(s=>{s.addEventListener("pointerenter",o,a)}),i}var ox=(e,t)=>t?e===t?!0:ox(e,t.parentElement):!1;var Ds=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;var $3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oM(e){return $3.has(e.tagName)||e.tabIndex!==-1}var Ps=new WeakSet;function sM(e){return t=>{t.key==="Enter"&&e(t)}}function sx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}var lM=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=sM(()=>{if(Ps.has(n))return;sx(n,"down");let a=sM(()=>{sx(n,"up")}),i=()=>sx(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function uM(e){return Ds(e)&&!Dm()}function lx(e,t,n={}){let[r,a,i]=Pm(e,n),o=s=>{let l=s.currentTarget;if(!uM(s)||Ps.has(l))return;Ps.add(l);let u=t(l,s),c=(m,w)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!uM(m)||!Ps.has(l))&&(Ps.delete(l),typeof u=="function"&&u(m,{success:w}))},f=m=>{c(m,l===window||l===document||n.useGlobalTarget||ox(l,m.target))},p=m=>{c(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",p,a)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,a),s instanceof HTMLElement&&(s.addEventListener("focus",u=>lM(u,a)),!oM(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),i}var cM=30,G3=e=>!isNaN(parseFloat(e)),ux={current:void 0},Nm=class{constructor(t,n={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{let i=zn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=G3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ki);let r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ux.current&&ux.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cM)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,cM);return Cf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ha(e,t){return new Nm(e,t)}var fM=Ae(et(),1),Im=(0,fM.createContext)({strict:!1});var pM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ai={};for(let e in pM)Ai[e]={isEnabled:t=>pM[e].some(n=>!!t[n])};function dM(e){for(let t in e)Ai[t]={...Ai[t],...e[t]}}var Y3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y3.has(e)}var mM=e=>!Nf(e);function Z3(e){e&&(mM=t=>t.startsWith("on")?!Nf(t):e(t))}try{Z3(require("@emotion/is-prop-valid").default)}catch(e){}function hM(e,t,n){let r={};for(let a in e)a==="values"&&typeof e.values=="object"||(mM(a)||n===!0&&Nf(a)||!t&&!Nf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function gM(e){if(typeof Proxy=="undefined")return e;let t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}var Bm=Ae(ws(),1);var yu=Ae(et(),1);var yM=Ae(et(),1),To=(0,yM.createContext)({});var Vm=Ae(et(),1);function _o(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ci(e){return typeof e=="string"||Array.isArray(e)}var jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],If=["initial",...jm];function Ns(e){return _o(e.animate)||If.some(t=>Ci(e[t]))}function Lm(e){return Boolean(Ns(e)||e.variants)}function vM(e,t){if(Ns(e)){let{initial:n,animate:r}=e;return{initial:n===!1||Ci(n)?n:void 0,animate:Ci(r)?r:void 0}}return e.inherit!==!1?t:{}}function xM(e){let{initial:t,animate:n}=vM(e,(0,Vm.useContext)(To));return(0,Vm.useMemo)(()=>({initial:t,animate:n}),[bM(t),bM(n)])}function bM(e){return Array.isArray(e)?e.join(" "):e}var wM=Symbol.for("motionComponentSymbol");var SM=Ae(et(),1);function Mi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TM(e,t,n){return(0,SM.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mi(n)&&(n.current=r))},[t])}var wr=Ae(et(),1);var gu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var K3="framerAppearId",Um="data-"+gu(K3);var _M=Ae(et(),1),zm=(0,_M.createContext)({});function EM(e,t,n,r,a){var b,x;let{visualElement:i}=(0,wr.useContext)(To),o=(0,wr.useContext)(Im),s=(0,wr.useContext)(wo),l=(0,wr.useContext)(hu).reducedMotion,u=(0,wr.useRef)(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));let c=u.current,f=(0,wr.useContext)(zm);c&&!c.projection&&a&&(c.type==="html"||c.type==="svg")&&J3(u.current,n,a,f);let p=(0,wr.useRef)(!1);(0,wr.useInsertionEffect)(()=>{c&&p.current&&c.update(n,s)});let m=n[Um],w=(0,wr.useRef)(Boolean(m)&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return Sm(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),Os.render(c.render),w.current&&c.animationState&&c.animationState.animateChanges())}),(0,wr.useEffect)(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)==null||h.call(window,m)}),w.current=!1))}),c}function J3(e,t,n,r){let{layoutId:a,layout:i,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kM(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(o)||s&&Mi(s),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function kM(e){if(e)return e.options.allowProjection!==!1?e.projection:kM(e.parent)}function AM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var s,l;e&&dM(e);function i(u,c){let f,p={...(0,yu.useContext)(hu),...u,layoutId:X3(u)},{isStatic:m}=p,w=xM(u),b=r(u,m);if(!m&&mu){Q3(p,e);let x=W3(p);f=x.MeasureLayout,w.visualElement=EM(a,b,p,t,x.ProjectionNode)}return(0,Bm.jsxs)(To.Provider,{value:w,children:[f&&w.visualElement?(0,Bm.jsx)(f,{visualElement:w.visualElement,...p}):null,n(a,u,TM(b,w.visualElement,c),b,m,w.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${(l=(s=a.displayName)!=null?s:a.name)!=null?l:""})`}`;let o=(0,yu.forwardRef)(i);return o[wM]=a,o}function X3({layoutId:e}){let t=(0,yu.useContext)(pu).id;return t&&e!==void 0?t+"-"+e:e}function Q3(e,t){let n=(0,yu.useContext)(Im).strict}function W3(e){let{drag:t,layout:n}=Ai;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}var ku=Ae(et(),1);var IM=Ae(et(),1);var CM=e=>t=>typeof t=="string"&&t.startsWith(e),vu=CM("--"),eB=CM("var(--"),bu=e=>eB(e)?tB.test(e.split("/*")[0].trim()):!1,tB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var Is={};function MM(e){for(let t in e)Is[t]=e[t],vu(t)&&(Is[t].isCSSVariable=!0)}var $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sr=new Set($a);function qm(e,{layout:t,layoutId:n}){return Sr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Is[e]||e==="opacity")}var Et=e=>Boolean(e&&e.getVelocity);var Fm=(e,t)=>t&&typeof e=="number"?t.transform(e):e;var Bn=(e,t,n)=>n>t?t:n<e?e:n;var Ga={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ri={...Ga,transform:e=>Bn(0,1,e)},jf={...Ga,default:1};var Lf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ya=Lf("deg"),lr=Lf("%"),we=Lf("px"),RM=Lf("vh"),OM=Lf("vw"),cx={...lr,parse:e=>lr.parse(e)/100,transform:e=>lr.transform(e*100)};var DM={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we};var PM={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:Ya,skewX:Ya,skewY:Ya,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ri,originX:cx,originY:cx,originZ:we};var fx={...Ga,transform:Math.round};var xu={...DM,...PM,zIndex:fx,size:we,fillOpacity:Ri,strokeOpacity:Ri,numOctaves:fx};var nB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rB=$a.length;function NM(e,t,n){let r="",a=!0;for(let i=0;i<rB;i++){let o=$a[i],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){let u=Fm(s,xu[o]);if(!l){a=!1;let c=nB[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function wu(e,t,n){let{style:r,vars:a,transformOrigin:i}=e,o=!1,s=!1;for(let l in t){let u=t[l];if(Sr.has(l)){o=!0;continue}else if(vu(l)){a[l]=u;continue}else{let c=Fm(u,xu[l]);l.startsWith("origin")?(s=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=NM(t,e.transform,n):r.transform&&(r.transform="none")),s){let{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}var Su=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function px(e,t,n){for(let r in t)!Et(t[r])&&!qm(r,n)&&(e[r]=t[r])}function aB({transformTemplate:e},t){return(0,IM.useMemo)(()=>{let n=Su();return wu(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iB(e,t){let n=e.style||{},r={};return px(r,n,e),Object.assign(r,aB(e,t)),r}function jM(e,t){let n={},r=iB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var LM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tu(e){return typeof e!="string"||e.includes("-")?!1:!!(LM.indexOf(e)>-1||/[A-Z]/u.test(e))}var BM=Ae(et(),1);var oB={offset:"stroke-dashoffset",array:"stroke-dasharray"},sB={offset:"strokeDashoffset",array:"strokeDasharray"};function VM(e,t,n=1,r=0,a=!0){e.pathLength=1;let i=a?oB:sB;e[i.offset]=we.transform(-r);let o=we.transform(t),s=we.transform(n);e[i.array]=`${o} ${s}`}function UM(e,t,n){return typeof e=="string"?e:we.transform(t+n*e)}function zM(e,t,n){let r=UM(t,e.x,e.width),a=UM(n,e.y,e.height);return`${r} ${a}`}function _u(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},c,f){if(wu(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:p,style:m,dimensions:w}=e;p.transform&&(w&&(m.transform=p.transform),delete p.transform),w&&(a!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=zM(w,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&VM(p,o,s,l,!1)}var Hm=()=>({...Su(),attrs:{}});var Eu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qM(e,t,n,r){let a=(0,BM.useMemo)(()=>{let i=Hm();return _u(i,t,Eu(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let i={};px(i,e.style,e),a.style={...i,...a.style}}return a}function FM(e=!1){return(n,r,a,{latestValues:i},o)=>{let l=(Tu(n)?qM:jM)(r,i,o,n),u=hM(r,typeof n=="string",e),c=n!==ku.Fragment?{...u,...l,ref:a}:{},{children:f}=r,p=(0,ku.useMemo)(()=>Et(f)?f.get():f,[f]);return(0,ku.createElement)(n,{...c,children:p})}}var dx=Ae(et(),1);function HM(e){let t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Au(e,t,n,r){if(typeof t=="function"){let[a,i]=HM(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){let[a,i]=HM(r);t=t(n!==void 0?n:e.custom,a,i)}return t}var Vf=e=>Array.isArray(e);var $M=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),GM=e=>Vf(e)?e[e.length-1]||0:e;function Cu(e){let t=Et(e)?e.get():e;return $M(t)?t.toValue():t}function lB({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,i){let o={latestValues:uB(r,a,i,e),renderState:t()};return n&&(o.onMount=s=>n({props:r,current:s,...o}),o.onUpdate=s=>n(s)),o}var $m=e=>(t,n)=>{let r=(0,dx.useContext)(To),a=(0,dx.useContext)(wo),i=()=>lB(e,t,r,a);return n?i():du(i)};function uB(e,t,n,r){let a={},i=r(e,{});for(let p in i)a[p]=Cu(i[p]);let{initial:o,animate:s}=e,l=Ns(e),u=Lm(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;let f=c?s:o;if(f&&typeof f!="boolean"&&!_o(f)){let p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){let w=Au(e,p[m]);if(w){let{transitionEnd:b,transition:x,...h}=w;for(let g in h){let y=h[g];if(Array.isArray(y)){let S=c?y.length-1:0;y=y[S]}y!==null&&(a[g]=y)}for(let g in b)a[g]=b[g]}}}return a}function Mu(e,t,n){var i;let{style:r}=e,a={};for(let o in r)(Et(r[o])||t.style&&Et(t.style[o])||qm(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}var YM={useVisualState:$m({scrapeMotionValuesFromProps:Mu,createRenderState:Su})};function Gm(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}function Ym(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(let i in n)e.style.setProperty(i,n[i])}var Zm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Km(e,t,n,r){Ym(e,t,void 0,r);for(let a in t.attrs)e.setAttribute(Zm.has(a)?a:gu(a),t.attrs[a])}function Jm(e,t,n){let r=Mu(e,t,n);for(let a in e)if(Et(e[a])||Et(t[a])){let i=$a.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}var ZM=["x","y","width","height","cx","cy","r"],KM={useVisualState:$m({scrapeMotionValuesFromProps:Jm,createRenderState:Hm,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let i=!!e.drag;if(!i){for(let s in a)if(Sr.has(s)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let s=0;s<ZM.length;s++){let l=ZM[s];e[l]!==t[l]&&(o=!0)}o&&Be.read(()=>{Gm(n,r),Be.render(()=>{_u(r,a,Eu(n.tagName),e.transformTemplate),Km(n,r)})})}})};function JM(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){let o={...Tu(r)?KM:YM,preloadedFeatures:e,useRender:FM(a),createVisualElement:t,Component:r};return AM(o)}}function Oi(e,t,n){let r=e.getProps();return Au(r,t,n!==void 0?n:r.custom,e)}var Xm=new Set(["width","height","top","left","right","bottom",...$a]);function cB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ha(n))}function XM(e,t){let n=Oi(e,t),{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(let o in i){let s=GM(i[o]);cB(e,o,s)}}function QM(e){return Boolean(Et(e)&&e.add)}function Uf(e,t){let n=e.getValue("willChange");if(QM(n))return n.add(t);if(!n&&wa.WillChange){let r=new wa.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Qm(e){return e.props[Um]}var Wm={current:!1};var WM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fB=1e-7,pB=12;function dB(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=WM(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>fB&&++s<pB);return o}function Eo(e,t,n,r){if(e===t&&n===r)return Ht;let a=i=>dB(i,0,1,e,n);return i=>i===0||i===1?i:WM(a(i),t,r)}var eh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2;var th=e=>t=>1-e(1-t);var mx=Eo(.33,1.53,.69,.99),zf=th(mx),nh=eh(zf);var rh=e=>(e*=2)<1?.5*zf(e):.5*(2-Math.pow(2,-10*(e-1)));var ah=e=>1-Math.sin(Math.acos(e)),ih=th(ah),oh=eh(ah);var sh=e=>/^0[^.\s]+$/u.test(e);function eR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sh(e):!0}var ko=e=>Math.round(e*1e5)/1e5;var Ru=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tR(e){return e==null}var nR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var Ou=(e,t)=>n=>Boolean(typeof n=="string"&&nR.test(n)&&n.startsWith(e)||t&&!tR(n)&&Object.prototype.hasOwnProperty.call(n,t)),lh=(e,t,n)=>r=>{if(typeof r!="string")return r;let[a,i,o,s]=r.match(Ru);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}};var mB=e=>Bn(0,255,e),hx={...Ga,transform:e=>Math.round(mB(e))},Za={test:Ou("rgb","red"),parse:lh("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hx.transform(e)+", "+hx.transform(t)+", "+hx.transform(n)+", "+ko(Ri.transform(r))+")"};function hB(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}var Bf={test:Ou("#"),parse:hB,transform:Za.transform};var Ao={test:Ou("hsl","hue"),parse:lh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+lr.transform(ko(t))+", "+lr.transform(ko(n))+", "+ko(Ri.transform(r))+")"};var sn={test:e=>Za.test(e)||Bf.test(e)||Ao.test(e),parse:e=>Za.test(e)?Za.parse(e):Ao.test(e)?Ao.parse(e):Bf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Za.transform(e):Ao.transform(e)};var rR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ru))==null?void 0:t.length)||0)+(((n=e.match(rR))==null?void 0:n.length)||0)>0}var iR="number",oR="color",yB="var",vB="var(",aR="${}",bB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function js(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[],i=0,s=t.replace(bB,l=>(sn.test(l)?(r.color.push(i),a.push(oR),n.push(sn.parse(l))):l.startsWith(vB)?(r.var.push(i),a.push(yB),n.push(l)):(r.number.push(i),a.push(iR),n.push(parseFloat(l))),++i,aR)).split(aR);return{values:n,split:s,indexes:r,types:a}}function sR(e){return js(e).values}function lR(e){let{split:t,types:n}=js(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){let s=n[o];s===iR?i+=ko(a[o]):s===oR?i+=sn.transform(a[o]):i+=a[o]}return i}}var xB=e=>typeof e=="number"?0:e;function wB(e){let t=sR(e);return lR(e)(t.map(xB))}var ur={test:gB,parse:sR,createTransformer:lR,getAnimatableNone:wB};var SB=new Set(["brightness","contrast","saturate","opacity"]);function TB(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[r]=n.match(Ru)||[];if(!r)return e;let a=n.replace(r,""),i=SB.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}var _B=/\b([a-z-]*)\(.*?\)/gu,qf={...ur,getAnimatableNone:e=>{let t=e.match(_B);return t?t.map(TB).join(" "):e}};var EB={...xu,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:qf,WebkitFilter:qf},uh=e=>EB[e];function ch(e,t){let n=uh(e);return n!==qf&&(n=ur),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var kB=new Set(["auto","none","0"]);function uR(e,t,n){let r=0,a;for(;r<e.length&&!a;){let i=e[r];typeof i=="string"&&!kB.has(i)&&js(i).values.length&&(a=e[r]),r++}if(a&&n)for(let i of t)e[i]=ch(n,a)}var Ls=e=>e*180/Math.PI,gx=e=>{let t=Ls(Math.atan2(e[1],e[0]));return yx(t)},AB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gx,rotateZ:gx,skewX:e=>Ls(Math.atan(e[1])),skewY:e=>Ls(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yx=e=>(e=e%360,e<0&&(e+=360),e),cR=gx,fR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),CB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fR,scaleY:pR,scale:e=>(fR(e)+pR(e))/2,rotateX:e=>yx(Ls(Math.atan2(e[6],e[5]))),rotateY:e=>yx(Ls(Math.atan2(-e[2],e[0]))),rotateZ:cR,rotate:cR,skewX:e=>Ls(Math.atan(e[4])),skewY:e=>Ls(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dR(e){return e.includes("scale")?1:0}function fh(e,t){if(!e||e==="none")return dR(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,a;if(n)r=CB,a=n;else{let s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AB,a=s}if(!a)return dR(t);let i=r[t],o=a[1].split(",").map(MB);return typeof i=="function"?i(o):o[i]}var mR=(e,t)=>{let{transform:n="none"}=getComputedStyle(e);return fh(n,t)};function MB(e){return parseFloat(e.trim())}var vx=e=>e===Ga||e===we,RB=new Set(["x","y","z"]),OB=$a.filter(e=>!RB.has(e));function hR(e){let t=[];return OB.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}var Vs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>fh(t,"x"),y:(e,{transform:t})=>fh(t,"y")};Vs.translateX=Vs.x;Vs.translateY=Vs.y;var Us=new Set,bx=!1,xx=!1;function gR(){if(xx){let e=Array.from(Us).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{let a=hR(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();let a=n.get(r);a&&a.forEach(([i,o])=>{var s;(s=r.getValue(i))==null||s.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xx=!1,bx=!1,Us.forEach(e=>e.complete()),Us.clear()}function yR(){Us.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xx=!0)})}function vR(){yR(),gR()}var Co=class{constructor(t,n,r,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Us.add(this),bx||(bx=!0,Be.read(yR),Be.resolveKeyframes(gR))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){let o=a==null?void 0:a.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){let l=r.readValue(n,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Us.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Us.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};var ph=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);var DB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PB(e){let t=DB.exec(e);if(!t)return[,];let[,n,r,a]=t;return[`--${n!=null?n:r}`,a]}var NB=4;function wx(e,t,n=1){Ba(n<=NB,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,a]=PB(e);if(!r)return;let i=window.getComputedStyle(t).getPropertyValue(r);if(i){let o=i.trim();return ph(o)?parseFloat(o):o}return bu(a)?wx(a,t,n+1):a}var dh=e=>t=>t.test(e);var bR={test:e=>e==="auto",parse:e=>e};var Sx=[Ga,we,lr,Ya,OM,RM,bR],Tx=e=>Sx.find(dh(e));var Du=class extends Co{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),bu(u))){let c=wx(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Xm.has(r)||t.length!==2)return;let[a,i]=t,o=Tx(a),s=Tx(i);if(o!==s)if(vx(o)&&vx(s))for(let l=0;l<t.length;l++){let u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)eR(t[a])&&r.push(a);r.length&&uR(t,r,n)}measureInitialState(){let{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;let a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var s;let{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);let i=r.length-1,o=r[i];r[i]=Vs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}};var _x=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ur.test(e)||e==="0")&&!e.startsWith("url("));function IB(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xR(e,t,n,r){let a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;let i=e[e.length-1],o=_x(a,t),s=_x(i,t);return Ei(o===s,`You are trying to animate ${t} from "${a}" to "${i}". ${a} is not an animatable value - to enable this animation set ${a} to a value animatable to ${i} via the \`style\` property.`),!o||!s?!1:IB(e)||(n==="spring"||Cs(n))&&r}var jB=e=>e!==null;function Mo(e,{repeat:t,repeatType:n="loop"},r){let a=e.filter(jB),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}var LB=40,Pu=class{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zn.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vR(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=zn.now(),this.hasAttemptedResolve=!0;let{name:r,type:a,velocity:i,delay:o,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!xR(t,r,a,i))if(Wm.current||!o){l&&l(Mo(t,this.options,n)),s&&s(),this.resolveFinishedPromise();return}else this.options.duration=0;let c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};var it=(e,t,n)=>e+(t-e)*n;function Ex(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wR({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{let s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Ex(l,s,e+1/3),i=Ex(l,s,e),o=Ex(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Nu(e,t){return n=>n>0?t:e}var kx=(e,t,n)=>{let r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},VB=[Bf,Za,Ao],UB=e=>VB.find(t=>t.test(e));function SR(e){let t=UB(e);if(Ei(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===Ao&&(n=wR(n)),n}var Ax=(e,t)=>{let n=SR(e),r=SR(t);if(!n||!r)return Nu(e,t);let a={...n};return i=>(a.red=kx(n.red,r.red,i),a.green=kx(n.green,r.green,i),a.blue=kx(n.blue,r.blue,i),a.alpha=it(n.alpha,r.alpha,i),Za.transform(a))};var zB=(e,t)=>n=>t(e(n)),Ka=(...e)=>e.reduce(zB);var mh=new Set(["none","hidden"]);function TR(e,t){return mh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function BB(e,t){return n=>it(e,t,n)}function hh(e){return typeof e=="number"?BB:typeof e=="string"?bu(e)?Nu:sn.test(e)?Ax:HB:Array.isArray(e)?_R:typeof e=="object"?sn.test(e)?Ax:qB:Nu}function _R(e,t){let n=[...e],r=n.length,a=e.map((i,o)=>hh(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function qB(e,t){let n={...e,...t},r={};for(let a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=hh(e[a])(e[a],t[a]));return a=>{for(let i in r)n[i]=r[i](a);return n}}function FB(e,t){var a;let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let o=t.types[i],s=e.indexes[o][r[o]],l=(a=e.values[s])!=null?a:0;n[i]=l,r[o]++}return n}var HB=(e,t)=>{let n=ur.createTransformer(t),r=js(e),a=js(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?mh.has(e)&&!a.values.length||mh.has(t)&&!r.values.length?TR(e,t):Ka(_R(FB(r,a),a.values),n):(Ei(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Nu(e,t))};function gh(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?it(e,t,n):hh(e)(e,t)}var $B=5;function yh(e,t,n){let r=Math.max(t-$B,0);return Cf(n-e(r),t-r)}var Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};var Cx=.001;function ER({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let a,i;Ei(e<=An(Mt.maxDuration),"Spring duration must be 10 seconds or less");let o=1-t;o=Bn(Mt.minDamping,Mt.maxDamping,o),e=Bn(Mt.minDuration,Mt.maxDuration,Un(e)),o<1?(a=u=>{let c=u*o,f=c*e,p=c-n,m=vh(u,o),w=Math.exp(-f);return Cx-p/m*w},i=u=>{let f=u*o*e,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-f),b=vh(Math.pow(u,2),o);return(-a(u)+Cx>0?-1:1)*((p-m)*w)/b}):(a=u=>{let c=Math.exp(-u*e),f=(u-n)*e+1;return-Cx+c*f},i=u=>{let c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});let s=5/e,l=YB(a,i,s);if(e=An(e),isNaN(l))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{let u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}var GB=12;function YB(e,t,n){let r=n;for(let a=1;a<GB;a++)r=r-e(r)/t(r);return r}function vh(e,t){return e*Math.sqrt(1-t*t)}var ZB=["duration","bounce"],KB=["stiffness","damping","mass"];function kR(e,t){return t.some(n=>e[n]!==void 0)}function JB(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!kR(e,KB)&&kR(e,ZB))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Bn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Mt.mass,stiffness:a,damping:i}}else{let n=ER(e);t={...t,...n,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function Iu(e=Mt.visualDuration,t=Mt.bounce){let n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:a}=n,i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:m}=JB({...n,velocity:-Un(n.velocity||0)}),w=p||0,b=u/(2*Math.sqrt(l*c)),x=o-i,h=Un(Math.sqrt(l/c)),g=Math.abs(x)<5;r||(r=g?Mt.restSpeed.granular:Mt.restSpeed.default),a||(a=g?Mt.restDelta.granular:Mt.restDelta.default);let y;if(b<1){let _=vh(h,b);y=T=>{let R=Math.exp(-b*h*T);return o-R*((w+b*h*x)/_*Math.sin(_*T)+x*Math.cos(_*T))}}else if(b===1)y=_=>o-Math.exp(-h*_)*(x+(w+h*x)*_);else{let _=h*Math.sqrt(b*b-1);y=T=>{let R=Math.exp(-b*h*T),k=Math.min(_*T,300);return o-R*((w+b*h*x)*Math.sinh(k)+_*x*Math.cosh(k))/_}}let S={calculatedDuration:m&&f||null,next:_=>{let T=y(_);if(m)s.done=_>=f;else{let R=0;b<1&&(R=_===0?An(w):yh(y,_,T));let k=Math.abs(R)<=r,D=Math.abs(o-T)<=a;s.done=k&&D}return s.value=s.done?o:T,s},toString:()=>{let _=Math.min(Rs(S),2e4),T=Rf(R=>S.next(_*R).value,_,30);return _+"ms "+T},toTransition:()=>{}};return S}Iu.applyToOptions=e=>{let t=rx(e,100,Iu);return e.ease=Fa()?t.ease:"easeOut",e.duration=An(t.duration),e.type="keyframes",e};function Mx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){let f=e[0],p={done:!1,value:f},m=k=>s!==void 0&&k<s||l!==void 0&&k>l,w=k=>s===void 0?l:l===void 0||Math.abs(s-k)<Math.abs(l-k)?s:l,b=n*t,x=f+b,h=o===void 0?x:o(x);h!==x&&(b=h-f);let g=k=>-b*Math.exp(-k/r),y=k=>h+g(k),S=k=>{let D=g(k),F=y(k);p.done=Math.abs(D)<=u,p.value=p.done?h:F},_,T,R=k=>{m(p.value)&&(_=k,T=Iu({keyframes:[p.value,w(p.value)],velocity:yh(y,k,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:k=>{let D=!1;return!T&&_===void 0&&(D=!0,S(k),R(k)),_!==void 0&&k>=_?T.next(k-_):(!D&&S(k),p)}}}var AR=Eo(.42,0,1,1),CR=Eo(0,0,.58,1),bh=Eo(.42,0,.58,1);var MR=e=>Array.isArray(e)&&typeof e[0]!="number";var RR={linear:Ht,easeIn:AR,easeInOut:bh,easeOut:CR,circIn:ah,circInOut:oh,circOut:ih,backIn:zf,backInOut:nh,backOut:mx,anticipate:rh},Rx=e=>{if(ks(e)){Ba(e.length===4,"Cubic bezier arrays must contain four numerical values.");let[t,n,r,a]=e;return Eo(t,n,r,a)}else if(typeof e=="string")return Ba(RR[e]!==void 0,`Invalid easing type '${e}'`),RR[e];return e};function XB(e,t,n){let r=[],a=n||gh,i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){let l=Array.isArray(t)?t[o]||Ht:t;s=Ka(l,s)}r.push(s)}return r}function OR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){let i=e.length;if(Ba(i===t.length,"Both input and output ranges must be the same length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=XB(t,r,a),l=s.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);let p=qa(e[f],e[f+1],c);return s[f](p)};return n?c=>u(Bn(e[0],e[i-1],c)):u}function DR(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let a=qa(0,t,r);e.push(it(n,1,a))}}function PR(e){let t=[0];return DR(t,e.length-1),t}function NR(e,t){return e.map(n=>n*t)}function QB(e,t){return e.map(()=>t||bh).splice(0,e.length-1)}function Ff({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){let a=MR(r)?r.map(Rx):Rx(r),i={done:!1,value:t[0]},o=NR(n&&n.length===t.length?n:PR(t),e),s=OR(o,t,{ease:Array.isArray(a)?a:QB(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}var IR=e=>{let t=({timestamp:n})=>e(n);return{start:()=>Be.update(t,!0),stop:()=>xr(t),now:()=>$t.isProcessing?$t.timestamp:zn.now()}};var WB={decay:Mx,inertia:Mx,tween:Ff,keyframes:Ff,spring:Iu},e6=e=>e/100,zs=class extends Pu{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();let{onStop:l}=this.options;l&&l()};let{name:n,motionValue:r,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||Co,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,s,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,s=Cs(n)?n:WB[n]||Ff,l,u;s!==Ff&&typeof t[0]!="number"&&(l=Ka(e6,gh(t[0],t[1])),t=[0,100]);let c=s({...this.options,keyframes:t});i==="mirror"&&(u=s({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Rs(c));let{calculatedDuration:f}=c,p=f+a,m=p*(r+1)-a;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){let{autoplay:t=!0}=this.options;Sa.mainThread++,this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){let{resolved:r}=this;if(!r){let{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}let{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);let{delay:p,repeat:m,repeatType:w,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let h=this.currentTime-p*(this.speed>=0?1:-1),g=this.speed>=0?h<0:h>c;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let y=this.currentTime,S=i;if(m){let k=Math.min(this.currentTime,c)/f,D=Math.floor(k),F=k%1;!F&&k>=1&&(F=1),F===1&&D--,D=Math.min(D,m+1),Boolean(D%2)&&(w==="reverse"?(F=1-F,b&&(F-=b/f)):w==="mirror"&&(S=o)),y=Bn(0,1,F)*f}let _=g?{done:!1,value:l[0]}:S.next(y);s&&(_.value=s(_.value));let{done:T}=_;!g&&u!==null&&(T=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return R&&a!==void 0&&(_.value=Mo(l,this.options,a)),x&&x(_.value),R&&this.finish(),_}get duration(){let{resolved:t}=this;return t?Un(t.calculatedDuration):0}get time(){return Un(this.currentTime)}set time(t){t=An(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=IR,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();let a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!=null?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),Sa.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}};var jR=new Set(["opacity","clipPath","filter","transform"]);var LR=Es(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));var xh=10,t6=2e4;function n6(e){return Cs(e.type)||e.type==="spring"||!Cm(e.ease)}function r6(e,t){let n=new zs({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},a=[],i=0;for(;!r.done&&i<t6;)r=n.sample(i),a.push(r.value),i+=xh;return{times:void 0,keyframes:a,duration:i-xh,ease:"linear"}}var VR={anticipate:rh,backInOut:nh,circInOut:oh};function a6(e){return e in VR}var Hf=class extends Pu{constructor(t){super(t);let{name:n,motionValue:r,element:a,keyframes:i}=this.options;this.resolver=new Du(i,(o,s)=>this.onKeyframesResolved(o,s),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:i,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof i=="string"&&Fa()&&a6(i)&&(i=VR[i]),n6(this.options)){let{onComplete:f,onUpdate:p,motionValue:m,element:w,...b}=this.options,x=r6(t,b);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,a=x.times,i=x.ease,o="keyframes"}let c=nx(s.owner.current,l,t,{...this.options,duration:r,times:a,ease:i});return c.startTime=u!=null?u:this.calcStartTime(),this.pendingTimeline?(Mm(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{let{onComplete:f}=this.options;s.set(Mo(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:a,type:o,ease:i,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:n}=t;return Un(n)}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:n}=t;return Un(n.currentTime||0)}set time(t){let{resolved:n}=this;if(!n)return;let{animation:r}=n;r.currentTime=An(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){let{resolved:n}=this;if(!n)return;let{animation:r}=n;r.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:n}=t;return n.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{let{resolved:n}=this;if(!n)return Ht;let{animation:r}=n;Mm(r,t)}return Ht}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:n,keyframes:r,duration:a,type:i,ease:o,times:s}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){let{motionValue:u,onUpdate:c,onComplete:f,element:p,...m}=this.options,w=new zs({...m,keyframes:r,duration:a,type:i,ease:o,times:s,isGenerator:!0}),b=An(this.time);u.setWithVelocity(w.sample(b-xh).value,w.sample(b).value,xh)}let{onStop:l}=this.options;l&&l(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:o,type:s}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;let{onUpdate:l,transformTemplate:u}=n.owner.getProps();return LR()&&r&&jR.has(r)&&(r!=="transform"||!u)&&!l&&!a&&i!=="mirror"&&o!==0&&s!=="inertia"}};var i6={type:"spring",stiffness:500,damping:25,restSpeed:10},o6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),s6={type:"keyframes",duration:.8},l6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UR=(e,{keyframes:t})=>t.length>2?s6:Sr.has(e)?e.startsWith("scale")?o6(t[1]):i6:l6;function zR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}var ju=(e,t,n,r={},a,i)=>o=>{let s=Ms(r,e)||{},l=s.delay||r.delay||0,{elapsed:u=0}=r;u=u-An(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:p=>{t.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:a};zR(s)||(c={...c,...UR(e,c)}),c.duration&&(c.duration=An(c.duration)),c.repeatDelay&&(c.repeatDelay=An(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),(Wm.current||wa.skipAnimations)&&(f=!0,c.duration=0,c.delay=0),c.allowFlatten=!s.type&&!s.ease,f&&!i&&t.get()!==void 0){let p=Mo(c.keyframes,s);if(p!==void 0)return Be.update(()=>{c.onUpdate(p),c.onComplete()}),new Mf([])}return!i&&Hf.supports(c)?new Hf(c):new zs(c)};function u6({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wh(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var c;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(i=r);let l=[],u=a&&e.animationState&&e.animationState.getState()[a];for(let f in s){let p=e.getValue(f,(c=e.latestValues[f])!=null?c:null),m=s[f];if(m===void 0||u&&u6(u,f))continue;let w={delay:n,...Ms(i||{},f)},b=!1;if(window.MotionHandoffAnimation){let h=Qm(e);if(h){let g=window.MotionHandoffAnimation(h,f,Be);g!==null&&(w.startTime=g,b=!0)}}Uf(e,f),p.start(ju(f,p,m,e.shouldReduceMotion&&Xm.has(f)?{type:!1}:w,e,b));let x=p.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Be.update(()=>{o&&XM(e,o)})}),l}function Sh(e,t,n={}){var l;let r=Oi(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0),{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);let i=r?()=>Promise.all(wh(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{let{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=a;return c6(e,t,c+u,f,p,n)}:()=>Promise.resolve(),{when:s}=a;if(s){let[u,c]=s==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function c6(e,t,n=0,r=0,a=1,i){let o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(f6).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Sh(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function f6(e,t){return e.sortNodePosition(t)}function BR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){let a=t.map(i=>Sh(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=Sh(e,t,n);else{let a=typeof t=="function"?Oi(e,t,n.custom):t;r=Promise.all(wh(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Ox(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var p6=If.length;function Dx(e){if(!e)return;if(!e.isControllingVariants){let n=e.parent?Dx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}let t={};for(let n=0;n<p6;n++){let r=If[n],a=e.props[r];(Ci(a)||a===!1)&&(t[r]=a)}return t}var d6=[...jm].reverse(),m6=jm.length;function h6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>BR(e,n,r)))}function FR(e){let t=h6(e),n=qR(),r=!0,a=l=>(u,c)=>{var p;let f=Oi(e,c,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(f){let{transition:m,transitionEnd:w,...b}=f;u={...u,...b,...w}}return u};function i(l){t=l(e)}function o(l){let{props:u}=e,c=Dx(e.parent)||{},f=[],p=new Set,m={},w=1/0;for(let x=0;x<m6;x++){let h=d6[x],g=n[h],y=u[h]!==void 0?u[h]:c[h],S=Ci(y),_=h===l?g.isActive:null;_===!1&&(w=x);let T=y===c[h]&&y!==u[h]&&S;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...m},!g.isActive&&_===null||!y&&!g.prevProp||_o(y)||typeof y=="boolean")continue;let R=g6(g.prevProp,y),k=R||h===l&&g.isActive&&!T&&S||x>w&&S,D=!1,F=Array.isArray(y)?y:[y],Ne=F.reduce(a(h),{});_===!1&&(Ne={});let{prevResolvedValues:Te={}}=g,B={...Te,...Ne},te=be=>{k=!0,p.has(be)&&(D=!0,p.delete(be)),g.needsAnimating[be]=!0;let Ce=e.getValue(be);Ce&&(Ce.liveStyle=!1)};for(let be in B){let Ce=Ne[be],mt=Te[be];if(m.hasOwnProperty(be))continue;let A=!1;Vf(Ce)&&Vf(mt)?A=!Ox(Ce,mt):A=Ce!==mt,A?Ce!=null?te(be):p.add(be):Ce!==void 0&&p.has(be)?te(be):g.protectedKeys[be]=!0}g.prevProp=y,g.prevResolvedValues=Ne,g.isActive&&(m={...m,...Ne}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(T&&R)||D)&&f.push(...F.map(be=>({animation:be,options:{type:h}})))}if(p.size){let x={};if(typeof u.initial!="boolean"){let h=Oi(e,Array.isArray(u.initial)?u.initial[0]:u.initial);h&&h.transition&&(x.transition=h.transition)}p.forEach(h=>{let g=e.getBaseTarget(h),y=e.getValue(h);y&&(y.liveStyle=!0),x[h]=g!=null?g:null}),f.push({animation:x})}let b=Boolean(f.length);return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(f):Promise.resolve()}function s(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;let c=o(l);for(let p in n)n[p].protectedKeys={};return c}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qR(),r=!0}}}function g6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ox(t,e):!1}function Bs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qR(){return{animate:Bs(!0),whileInView:Bs(),whileHover:Bs(),whileTap:Bs(),whileDrag:Bs(),whileFocus:Bs(),exit:Bs()}}var Cn=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};var Th=class extends Cn{constructor(t){super(t),t.animationState||(t.animationState=FR(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();_o(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}};var y6=0,_h=class extends Cn{constructor(){super(...arguments),this.id=y6++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){let{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}};var HR={animation:{Feature:Th},exit:{Feature:_h}};function Di(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Pi(e){return{point:{x:e.pageX,y:e.pageY}}}var $R=e=>t=>Ds(t)&&e(t,Pi(t));function Ro(e,t,n,r){return Di(e,t,$R(n),r)}function Eh({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function GR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YR(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}var XR=1e-4,v6=1-XR,b6=1+XR,QR=.01,x6=0-QR,w6=0+QR;function yn(e){return e.max-e.min}function WR(e,t,n){return Math.abs(e-t)<=n}function ZR(e,t,n,r=.5){e.origin=r,e.originPoint=it(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=it(n.min,n.max,e.origin)-e.originPoint,(e.scale>=v6&&e.scale<=b6||isNaN(e.scale))&&(e.scale=1),(e.translate>=x6&&e.translate<=w6||isNaN(e.translate))&&(e.translate=0)}function Lu(e,t,n,r){ZR(e.x,t.x,n.x,r?r.originX:void 0),ZR(e.y,t.y,n.y,r?r.originY:void 0)}function KR(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function eO(e,t,n){KR(e.x,t.x,n.x),KR(e.y,t.y,n.y)}function JR(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function Vu(e,t,n){JR(e.x,t.x,n.x),JR(e.y,t.y,n.y)}var tO=()=>({translate:0,scale:1,origin:0,originPoint:0}),qs=()=>({x:tO(),y:tO()}),nO=()=>({min:0,max:0}),Rt=()=>({x:nO(),y:nO()});function Tr(e){return[e("x"),e("y")]}function Px(e){return e===void 0||e===1}function kh({scale:e,scaleX:t,scaleY:n}){return!Px(e)||!Px(t)||!Px(n)}function Ni(e){return kh(e)||Nx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Nx(e){return rO(e.x)||rO(e.y)}function rO(e){return e&&e!=="0%"}function $f(e,t,n){let r=e-n,a=t*r;return n+a}function aO(e,t,n,r,a){return a!==void 0&&(e=$f(e,a,r)),$f(e,n,r)+t}function Ix(e,t=0,n=1,r,a){e.min=aO(e.min,t,n,r,a),e.max=aO(e.max,t,n,r,a)}function jx(e,{x:t,y:n}){Ix(e.x,t.translate,t.scale,t.originPoint),Ix(e.y,n.translate,n.scale,n.originPoint)}var iO=.999999999999,oO=1.0000000000001;function lO(e,t,n,r=!1){let a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;let{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Fs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jx(e,o)),r&&Ni(i.latestValues)&&Fs(e,i.latestValues))}t.x<oO&&t.x>iO&&(t.x=1),t.y<oO&&t.y>iO&&(t.y=1)}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function sO(e,t,n,r,a=.5){let i=it(e.min,e.max,a);Ix(e,t,n,i,r)}function Fs(e,t){sO(e.x,t.x,t.scaleX,t.scale,t.originX),sO(e.y,t.y,t.scaleY,t.scale,t.originY)}function Lx(e,t){return Eh(YR(e.getBoundingClientRect(),t))}function uO(e,t,n){let r=Lx(e,n),{scroll:a}=t;return a&&(Oo(r.x,a.offset.x),Oo(r.y,a.offset.y)),r}var Ah=({current:e})=>e?e.ownerDocument.defaultView:null;var cO=(e,t)=>Math.abs(e-t);function fO(e,t){let n=cO(e.x,t.x),r=cO(e.y,t.y);return Math.sqrt(n**2+r**2)}var Uu=class{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=Ux(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=fO(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;let{point:w}=f,{timestamp:b}=$t;this.history.push({...w,timestamp:b});let{onStart:x,onMove:h}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Vx(p,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();let{onEnd:m,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let x=Ux(f.type==="pointercancel"?this.lastMoveEventInfo:Vx(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),w&&w(f,x)},!Ds(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;let o=Pi(t),s=Vx(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=$t;this.history=[{...l,timestamp:u}];let{onSessionStart:c}=n;c&&c(t,Ux(s,this.history)),this.removeListeners=Ka(Ro(this.contextWindow,"pointermove",this.handlePointerMove),Ro(this.contextWindow,"pointerup",this.handlePointerUp),Ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}};function Vx(e,t){return t?{point:t(e.point)}:e}function pO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ux({point:e},t){return{point:e,delta:pO(e,dO(t)),offset:pO(e,S6(t)),velocity:T6(t,.1)}}function S6(e){return e[0]}function dO(e){return e[e.length-1]}function T6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,a=dO(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>An(t)));)n--;if(!r)return{x:0,y:0};let i=Un(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};let o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?it(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?it(n,e,r.max):Math.min(e,n)),e}function mO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bO(e,{top:t,left:n,bottom:r,right:a}){return{x:mO(e.x,n,a),y:mO(e.y,t,r)}}function hO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xO(e,t){return{x:hO(e.x,t.x),y:hO(e.y,t.y)}}function wO(e,t){let n=.5,r=yn(e),a=yn(t);return a>r?n=qa(t.min,t.max-r,e.min):r>a&&(n=qa(e.min,e.max-a,t.min)),Bn(0,1,n)}function SO(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Ch=.35;function TO(e=Ch){return e===!1?e=0:e===!0&&(e=Ch),{x:gO(e,"left","right"),y:gO(e,"top","bottom")}}function gO(e,t,n){return{min:yO(e,t),max:yO(e,n)}}function yO(e,t){return typeof e=="number"?e:e[t]||0}var _6=new WeakMap,Rh=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let a=c=>{let{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pi(c).point)},i=(c,f)=>{let{drag:p,dragPropagation:m,onDragStart:w}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ax(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(x=>{let h=this.getAxisMotionValue(x).get()||0;if(lr.test(h)){let{projection:g}=this.visualElement;if(g&&g.layout){let y=g.layout.layoutBox[x];y&&(h=yn(y)*(parseFloat(h)/100))}}this.originPoint[x]=h}),w&&Be.postRender(()=>w(c,f)),Uf(this.visualElement,"transform");let{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(c,f)=>{let{dragPropagation:p,dragDirectionLock:m,onDirectionLock:w,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;let{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=E6(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),b&&b(c,f)},s=(c,f)=>this.stop(c,f),l=()=>Tr(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Uu(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ah(this.visualElement)})}stop(t,n){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:a}=n;this.startAnimation(a);let{onDragEnd:i}=this.getProps();i&&Be.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;let{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){let{drag:a}=this.getProps();if(!r||!Mh(t,a,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vO(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;let{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Mi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bO(r.layoutBox,t):this.constraints=!1,this.elastic=TO(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SO(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mi(t))return!1;let r=t.current;Ba(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:a}=this.visualElement;if(!a||!a.layout)return!1;let i=uO(r,a.root,this.visualElement.getTransformPagePoint()),o=xO(a.layout.layoutBox,i);if(n){let s=n(GR(o));this.hasMutatedConstraints=!!s,s&&(o=Eh(s))}return o}startAnimation(t){let{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Tr(c=>{if(!Mh(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});let p=a?200:1e6,m=a?40:1e7,w={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){let r=this.getAxisMotionValue(t);return Uf(this.visualElement,t),r.start(ju(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){let n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tr(n=>{let{drag:r}=this.getProps();if(!Mh(n,r,this.currentDirection))return;let{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){let{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-it(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mi(n)||!r||!this.constraints)return;this.stopAnimation();let a={x:0,y:0};Tr(o=>{let s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){let l=s.get();a[o]=wO({min:l,max:l},this.constraints[o])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tr(o=>{if(!Mh(o,t,null))return;let s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(it(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;_6.set(this.visualElement,this);let t=this.visualElement.current,n=Ro(t,"pointerdown",l=>{let{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{let{dragConstraints:l}=this.getProps();Mi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Be.read(r);let o=Di(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tr(c=>{let f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){let t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Ch,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}};function Mh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function E6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var Oh=class extends Cn{constructor(t){super(t),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new Rh(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}};var _O=e=>(t,n)=>{e&&Be.postRender(()=>e(t,n))},Dh=class extends Cn{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(t){this.session=new Uu(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ah(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:_O(t),onStart:_O(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Be.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Ro(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};var AO=Ae(ws(),1);var Gf=Ae(et(),1);var zu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(we.test(e))e=parseFloat(e);else return e;let n=EO(e,t.target.x),r=EO(e,t.target.y);return`${n}% ${r}%`}};var kO={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,a=ur.parse(e);if(a.length>5)return r;let i=ur.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;let u=it(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};var zx=class extends Gf.Component{componentDidMount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;MM(k6),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Be.postRender(()=>{let s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Os.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Ph(e){let[t,n]=_m(),r=(0,Gf.useContext)(pu);return(0,AO.jsx)(zx,{...e,layoutGroup:r,switchLayoutGroup:(0,Gf.useContext)(zm),isPresent:t,safeToRemove:n})}var k6={borderRadius:{...Bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bu,borderTopRightRadius:Bu,borderBottomLeftRadius:Bu,borderBottomRightRadius:Bu,boxShadow:kO};function CO(e,t,n){let r=Et(e)?e:Ha(e);return r.start(ju("",r,t,n)),r.animation}function MO(e){return e instanceof SVGElement&&e.tagName!=="svg"}var RO=(e,t)=>e.depth-t.depth;var Nh=class{constructor(){this.children=[],this.isDirty=!1}add(t){Ts(this.children,t),this.isDirty=!0}remove(t){_s(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RO),this.isDirty=!1,this.children.forEach(t)}};function OO(e,t){let n=zn.now(),r=({timestamp:a})=>{let i=a-n;i>=t&&(xr(r),e(i-t))};return Be.read(r,!0),()=>xr(r)}var IO=["TopLeft","TopRight","BottomLeft","BottomRight"],A6=IO.length,DO=e=>typeof e=="string"?parseFloat(e):e,PO=e=>typeof e=="number"||we.test(e);function jO(e,t,n,r,a,i){var o,s,l,u;a?(e.opacity=it(0,(o=n.opacity)!=null?o:1,C6(r)),e.opacityExit=it((s=t.opacity)!=null?s:1,0,M6(r))):i&&(e.opacity=it((l=t.opacity)!=null?l:1,(u=n.opacity)!=null?u:1,r));for(let c=0;c<A6;c++){let f=`border${IO[c]}Radius`,p=NO(t,f),m=NO(n,f);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||PO(p)===PO(m)?(e[f]=Math.max(it(DO(p),DO(m),r),0),(lr.test(m)||lr.test(p))&&(e[f]+="%")):e[f]=m}(t.rotate||n.rotate)&&(e.rotate=it(t.rotate||0,n.rotate||0,r))}function NO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}var C6=LO(0,.5,ih),M6=LO(.5,.95,Ht);function LO(e,t,n){return r=>r<e?0:r>t?1:n(qa(e,t,r))}function VO(e,t){e.min=t.min,e.max=t.max}function qr(e,t){VO(e.x,t.x),VO(e.y,t.y)}function Bx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function UO(e,t,n,r,a){return e-=t,e=$f(e,1/n,r),a!==void 0&&(e=$f(e,1/a,r)),e}function R6(e,t=0,n=1,r=.5,a,i=e,o=e){if(lr.test(t)&&(t=parseFloat(t),t=it(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=it(i.min,i.max,r);e===i&&(s-=t),e.min=UO(e.min,t,n,s,a),e.max=UO(e.max,t,n,s,a)}function zO(e,t,[n,r,a],i,o){R6(e,t[n],t[r],t[a],t.scale,i,o)}var O6=["x","scaleX","originX"],D6=["y","scaleY","originY"];function qx(e,t,n,r){zO(e.x,t,O6,n?n.x:void 0,r?r.x:void 0),zO(e.y,t,D6,n?n.y:void 0,r?r.y:void 0)}function BO(e){return e.translate===0&&e.scale===1}function Fx(e){return BO(e.x)&&BO(e.y)}function qO(e,t){return e.min===t.min&&e.max===t.max}function HO(e,t){return qO(e.x,t.x)&&qO(e.y,t.y)}function FO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Hx(e,t){return FO(e.x,t.x)&&FO(e.y,t.y)}function $x(e){return yn(e.x)/yn(e.y)}function Gx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var Ih=class{constructor(){this.members=[]}add(t){Ts(this.members,t),t.scheduleRender()}remove(t){if(_s(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){let n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){let i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function $O(e,t,n){let r="",a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}let s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}var Hs={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Yx=["","X","Y","Z"],P6={visibility:"hidden"},GO=1e3,N6=0;function Zx(e,t,n,r){let{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function eD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=Qm(t);if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(a||i))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&eD(r)}function jh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},s=t==null?void 0:t()){this.id=N6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,br.value&&(Hs.nodes=Hs.calculatedTargetDeltas=Hs.calculatedProjections=0),this.nodes.forEach(L6),this.nodes.forEach(q6),this.nodes.forEach(F6),this.nodes.forEach(V6),br.addProjectionMetrics&&br.addProjectionMetrics(Hs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nh)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ki),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){let l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MO(o),this.instance=o;let{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),e){let f,p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=OO(p,250),zu.hasAnimatedSinceResize&&(zu.hasAnimatedSinceResize=!1,this.nodes.forEach(ZO))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let b=this.options.transition||c.getDefaultTransition()||Z6,{onLayoutAnimationStart:x,onLayoutAnimationComplete:h}=c.getProps(),g=!this.targetLayout||!Hx(this.targetLayout,w),y=!p&&m;if(this.options.layoutRoot||this.resumeFrom||y||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);let S={...Ms(b,"layout"),onPlay:x,onComplete:h};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||ZO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H6),this.animationId++)}getTransformTemplate(){let{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){let f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}let{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;let u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YO);return}this.isUpdating||this.nodes.forEach(z6),this.isUpdating=!1,this.nodes.forEach(B6),this.nodes.forEach(I6),this.nodes.forEach(j6),this.clearAllSnapshots();let s=zn.now();$t.delta=Bn(0,1e3/60,s-$t.timestamp),$t.timestamp=s,$t.isProcessing=!0,Pf.update.process($t),Pf.preRender.process($t),Pf.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Os.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U6),this.sharedNodes.forEach($6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();let o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){let l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;let o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!Fx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(s||Ni(this.latestValues)||c)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){let s=this.measurePageBox(),l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),K6(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;let{visualElement:o}=this.options;if(!o)return Rt();let s=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(J6))){let{scroll:c}=this.root;c&&(Oo(s.x,c.offset.x),Oo(s.y,c.offset.y))}return s}removeElementScroll(o){var l;let s=Rt();if(qr(s,o),(l=this.scroll)!=null&&l.wasRoot)return s;for(let u=0;u<this.path.length;u++){let c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&qr(s,o),Oo(s.x,f.offset.x),Oo(s.y,f.offset.y))}return s}applyTransform(o,s=!1){let l=Rt();qr(l,o);for(let u=0;u<this.path.length;u++){let c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Fs(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ni(c.latestValues)&&Fs(l,c.latestValues)}return Ni(this.latestValues)&&Fs(l,this.latestValues),l}removeTransform(o){let s=Rt();qr(s,o);for(let l=0;l<this.path.length;l++){let u=this.path[l];if(!u.instance||!Ni(u.latestValues))continue;kh(u.latestValues)&&u.updateSnapshot();let c=Rt(),f=u.measurePageBox();qr(c,f),qx(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ni(this.latestValues)&&qx(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let l=Boolean(this.resumingFrom)||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){let m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),jx(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let m=this.getClosestProjectingParent();m&&Boolean(m.resumingFrom)===Boolean(this.resumingFrom)&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Vu(this.relativeTargetOrigin,this.target,m.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}br.value&&Hs.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kh(this.parent.latestValues)||Nx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;let o=this.getLead(),s=Boolean(this.resumingFrom)||this!==o,l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(l=!1),l)return;let{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;qr(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,p=this.treeScale.y;lO(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Rt());let{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bx(this.prevProjectionDelta.x,this.projectionDelta.x),Bx(this.prevProjectionDelta.y,this.projectionDelta.y)),Lu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Gx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),br.value&&Hs.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){let l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qs(),this.projectionDelta=qs(),this.projectionDeltaWithTransform=qs()}setAnimationOrigin(o,s=!1){let l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;let p=Rt(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,b=m!==w,x=this.getStack(),h=!x||x.members.length<=1,g=Boolean(b&&!h&&this.options.crossfade===!0&&!this.path.some(Y6));this.animationProgress=0;let y;this.mixTargetDelta=S=>{let _=S/1e3;KO(f.x,o.x,_),KO(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G6(this.relativeTarget,this.relativeTargetOrigin,p,_),y&&HO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Rt()),qr(y,this.relativeTarget)),b&&(this.animationValues=c,jO(c,u,this.latestValues,_,g,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{zu.hasAnimatedSinceResize=!0,Sa.layout++,this.currentAnimation=CO(0,GO,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onStop:()=>{Sa.layout--},onComplete:()=>{Sa.layout--,o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let o=this.getLead(),{targetWithTransforms:s,target:l,layout:u,latestValues:c}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&tD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Rt();let f=yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;let p=yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}qr(s,l),Fs(s,c),Lu(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ih),this.sharedNodes.get(o).add(s);let u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){let o=this.getStack();return o?o.lead===this:!0}getLead(){var s;let{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;let{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){let{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){let u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){let o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){let{visualElement:o}=this.options;if(!o)return;let s=!1,{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;let u={};l.z&&Zx("z",o,u,this.animationValues);for(let c=0;c<Yx.length;c++)Zx(`rotate${Yx[c]}`,o,u,this.animationValues),Zx(`skew${Yx[c]}`,o,u,this.animationValues);o.render();for(let c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var m,w;if(!this.instance||this.isSVG)return;if(!this.isVisible)return P6;let s={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Cu(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;let u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){let b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Cu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(b.transform=l?l({},""):"none",this.hasProjected=!1),b}let c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=$O(this.projectionDeltaWithTransform,this.treeScale,c),l&&(s.transform=l(c,s.transform));let{x:f,y:p}=this.projectionDelta;s.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?(w=(m=c.opacity)!=null?m:this.latestValues.opacity)!=null?w:1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(let b in Is){if(c[b]===void 0)continue;let{correct:x,applyTo:h,isCSSVariable:g}=Is[b],y=s.transform==="none"?c[b]:x(c[b],u);if(h){let S=h.length;for(let _=0;_<S;_++)s[h[_]]=y}else g?this.options.visualElement.renderState.vars[b]=y:s[b]=y}return this.options.layoutId&&(s.pointerEvents=u===this?Cu(o==null?void 0:o.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(YO),this.root.sharedNodes.clear()}}}function I6(e){e.updateLayout()}function j6(e){var n;let t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Tr(f=>{let p=o?t.measuredBox[f]:t.layoutBox[f],m=yn(p);p.min=r[f].min,p.max=p.min+m}):tD(i,t.layoutBox,r)&&Tr(f=>{let p=o?t.measuredBox[f]:t.layoutBox[f],m=yn(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});let s=qs();Lu(s,r,t.layoutBox);let l=qs();o?Lu(l,e.applyTransform(a,!0),t.measuredBox):Lu(l,r,t.layoutBox);let u=!Fx(s),c=!1;if(!e.resumeFrom){let f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){let{snapshot:p,layout:m}=f;if(p&&m){let w=Rt();Vu(w,t.layoutBox,p.layoutBox);let b=Rt();Vu(b,r,m.layoutBox),Hx(w,b)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function L6(e){br.value&&Hs.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function U6(e){e.clearSnapshot()}function YO(e){e.clearMeasurements()}function z6(e){e.isLayoutDirty=!1}function B6(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function q6(e){e.resolveTargetDelta()}function F6(e){e.calcProjection()}function H6(e){e.resetSkewAndRotation()}function $6(e){e.removeLeadSnapshot()}function KO(e,t,n){e.translate=it(t.translate,0,n),e.scale=it(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JO(e,t,n,r){e.min=it(t.min,n.min,r),e.max=it(t.max,n.max,r)}function G6(e,t,n,r){JO(e.x,t.x,n.x,r),JO(e.y,t.y,n.y,r)}function Y6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var Z6={duration:.45,ease:[.4,0,.1,1]},XO=e=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),QO=XO("applewebkit/")&&!XO("chrome/")?Math.round:Ht;function WO(e){e.min=QO(e.min),e.max=QO(e.max)}function K6(e){WO(e.x),WO(e.y)}function tD(e,t,n){return e==="position"||e==="preserve-aspect"&&!WR($x(t),$x(n),.2)}function J6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}var nD=jh({attachResizeListener:(e,t)=>Di(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var Kx={current:void 0},Lh=jh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kx.current){let e=new nD({});e.mount(window),e.setOptions({layoutScroll:!0}),Kx.current=e}return Kx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")});var rD={pan:{Feature:Dh},drag:{Feature:Oh,ProjectionNode:Lh,MeasureLayout:Ph}};function aD(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");let a="onHover"+n,i=r[a];i&&Be.postRender(()=>i(t,Pi(t)))}var Vh=class extends Cn{mount(){let{current:t}=this.node;t&&(this.unmount=ix(t,(n,r)=>(aD(this.node,r,"Start"),a=>aD(this.node,a,"End"))))}unmount(){}};var Uh=class extends Cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ka(Di(this.node.current,"focus",()=>this.onFocus()),Di(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function iD(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");let a="onTap"+(n==="End"?"":n),i=r[a];i&&Be.postRender(()=>i(t,Pi(t)))}var zh=class extends Cn{mount(){let{current:t}=this.node;t&&(this.unmount=lx(t,(n,r)=>(iD(this.node,r,"Start"),(a,{success:i})=>iD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};var Xx=new WeakMap,Jx=new WeakMap,X6=e=>{let t=Xx.get(e.target);t&&t(e)},Q6=e=>{e.forEach(X6)};function W6({root:e,...t}){let n=e||document;Jx.has(n)||Jx.set(n,{});let r=Jx.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Q6,{root:e,...t})),r[a]}function oD(e,t,n){let r=W6(t);return Xx.set(e,n),r.observe(e),()=>{Xx.delete(e),r.unobserve(e)}}var e9={some:0,all:1},Bh=class extends Cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:e9[a]},s=l=>{let{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);let{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return oD(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;let{props:t,prevProps:n}=this.node;["amount","margin","root"].some(t9(t,n))&&this.startObserver()}unmount(){}};function t9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var sD={inView:{Feature:Bh},tap:{Feature:zh},focus:{Feature:Uh},hover:{Feature:Vh}};var lD={layout:{ProjectionNode:Lh,MeasureLayout:Ph}};var mD=Ae(et(),1);var Yf={current:null},qh={current:!1};function uD(){if(qh.current=!0,!!mu)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yf.current=e.matches;e.addListener(t),t()}else Yf.current=!1}var n9=[...Sx,sn,ur],cD=e=>n9.find(dh(e));var fD=new WeakMap;function pD(e,t,n){for(let r in t){let a=t[r],i=n[r];if(Et(a))e.addValue(r,a);else if(Et(i))e.addValue(r,Ha(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){let o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{let o=e.getStaticValue(r);e.addValue(r,Ha(o!==void 0?o:a,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var dD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fh=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let m=zn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Be.render(this.render,!1,!0))};let{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Ns(n),this.isVariantNode=Lm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);let{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(let m in p){let w=p[m];l[m]!==void 0&&Et(w)&&w.set(l[m],!1)}}mount(t){this.current=t,fD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qh.current||uD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(let t in this.events)this.events[t].clear();for(let t in this.features){let n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=Sr.has(t);r&&this.onBindTransform&&this.onBindTransform();let a=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender),o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ai){let n=Ai[t];if(!n)continue;let{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){let i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dD.length;r++){let a=dD[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);let i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=pD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){let r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);let n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ha(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var a;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!=null?a:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ph(r)||sh(r))?r=parseFloat(r):!cD(r)&&ur.test(n)&&(r=ch(t,n)),this.setBaseTarget(t,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;let{initial:n}=this.props,r;if(typeof n=="string"||typeof n=="object"){let o=Au(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;let a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Et(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ki),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}};var qu=class extends Fh{constructor(){super(...arguments),this.KeyframeResolver=Du}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function r9(e){return window.getComputedStyle(e)}var Hh=class extends qu{constructor(){super(...arguments),this.type="html",this.renderInstance=Ym}readValueFromInstance(t,n){if(Sr.has(n))return mR(t,n);{let r=r9(t),a=(vu(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Lx(t,n)}build(t,n,r){wu(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Mu(t,n,r)}};var $h=class extends qu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Gm(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Sr.has(n)){let r=uh(n);return r&&r.default||0}return n=Zm.has(n)?n:gu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Jm(t,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Be.postRender(this.updateDimensions)}build(t,n,r){_u(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){Km(t,n,r,a)}mount(t){this.isSVGTag=Eu(t.tagName),super.mount(t)}};var hD=(e,t)=>Tu(e)?new $h(t):new Hh(t,{allowProjection:e!==mD.Fragment});var gD=JM({...HR,...sD,...rD,...lD},hD);var Qx=gM(gD);var Ke=Ae(et());function yD(e,t){let n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var a9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,o9={};function Gh(e,t){return((t||o9).jsx?i9:a9).test(e)}var s9=/[ \t\n\f\r]/g;function Wx(e){return typeof e=="object"?e.type==="text"?vD(e.value):!1:vD(e)}function vD(e){return e.replace(s9,"")===""}var Ii=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Ii.prototype.normal={};Ii.prototype.property={};Ii.prototype.space=void 0;function e0(e,t){let n={},r={};for(let a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Ii(n,r,t)}function Zf(e){return e.toLowerCase()}var Mn=class{constructor(t,n){this.attribute=n,this.property=t}};Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;var Kf={};fp(Kf,{boolean:()=>Ve,booleanish:()=>Gt,commaOrSpaceSeparated:()=>_r,commaSeparated:()=>Do,number:()=>K,overloadedBoolean:()=>t0,spaceSeparated:()=>vt});var l9=0,Ve=$s(),Gt=$s(),t0=$s(),K=$s(),vt=$s(),Do=$s(),_r=$s();function $s(){return 2**++l9}var n0=Object.keys(Kf),Gs=class extends Mn{constructor(t,n,r,a){let i=-1;if(super(t,n),bD(this,"space",a),typeof r=="number")for(;++i<n0.length;){let o=n0[i];bD(this,n0[i],(r&Kf[o])===Kf[o])}}};Gs.prototype.defined=!0;function bD(e,t,n){n&&(e[t]=n)}function la(e){let t={},n={};for(let[r,a]of Object.entries(e.properties)){let i=new Gs(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Zf(r)]=r,n[Zf(i.attribute)]=r}return new Ii(t,n,e.space)}var r0=la({properties:{ariaActiveDescendant:null,ariaAtomic:Gt,ariaAutoComplete:null,ariaBusy:Gt,ariaChecked:Gt,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Gt,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Gt,ariaFlowTo:vt,ariaGrabbed:Gt,ariaHasPopup:null,ariaHidden:Gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:K,ariaLive:null,ariaModal:Gt,ariaMultiLine:Gt,ariaMultiSelectable:Gt,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:Gt,ariaReadOnly:Gt,ariaRelevant:null,ariaRequired:Gt,ariaRoleDescription:vt,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:Gt,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Yh(e,t){return t in e?e[t]:t}function Zh(e,t){return Yh(e,t.toLowerCase())}var xD=la({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Do,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:vt,autoFocus:Ve,autoPlay:Ve,blocking:vt,capture:null,charSet:null,checked:Ve,cite:null,className:vt,cols:K,colSpan:null,content:null,contentEditable:Gt,controls:Ve,controlsList:vt,coords:K|Do,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:t0,draggable:Gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:vt,height:K,hidden:Ve,high:K,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:vt,itemRef:vt,itemScope:Ve,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:K,pattern:null,ping:vt,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:vt,required:Ve,reversed:Ve,rows:K,rowSpan:K,sandbox:vt,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:Gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Gt,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:Gt,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:Zh});var wD=la({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_r,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Do,g2:Do,glyphName:Do,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:_r,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_r,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_r,rev:_r,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_r,requiredFeatures:_r,requiredFonts:_r,requiredFormats:_r,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:_r,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_r,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_r,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Yh});var a0=la({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}});var i0=la({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Zh});var o0=la({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}});var s0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var u9=/[A-Z]/g,SD=/-[a-z]/g,c9=/^data[-\w.:]+$/i;function l0(e,t){let n=Zf(t),r=t,a=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&c9.test(t)){if(t.charAt(4)==="-"){let i=t.slice(5).replace(SD,p9);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{let i=t.slice(4);if(!SD.test(i)){let o=i.replace(u9,f9);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=Gs}return new a(r,t)}function f9(e){return"-"+e.toLowerCase()}function p9(e){return e.charAt(1).toUpperCase()}var TD=e0([r0,xD,a0,i0,o0],"html"),Kh=e0([r0,wD,a0,i0,o0],"svg");function _D(e){return e.join(" ").trim()}var UD=Ae(ID(),1);var Xh=jD("end"),Fu=jD("start");function jD(e){return t;function t(n){let r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function f0(e){let t=Fu(e),n=Xh(e);if(t&&n)return{start:t,end:n}}function Po(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?LD(e.position):"start"in e||"end"in e?LD(e):"line"in e||"column"in e?p0(e):""}function p0(e){return VD(e&&e.line)+":"+VD(e&&e.column)}function LD(e){return p0(e&&e.start)+"-"+p0(e&&e.end)}function VD(e){return e&&typeof e=="number"?e:1}var Wt=class extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){let l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){let l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}let s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=s?s.line:void 0,this.name=Po(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}};Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;var d0={}.hasOwnProperty,L9=new Map,V9=/[A-Z]/g,U9=new Set(["table","tbody","thead","tfoot","tr"]),z9=new Set(["td","th"]),zD="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function m0(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");let n=t.filePath||void 0,r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Z9(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Y9(n,t.jsx,t.jsxs)}let a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Kh:TD,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=BD(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function BD(e,t,n){if(t.type==="element")return B9(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return q9(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return H9(e,t,n);if(t.type==="mdxjsEsm")return F9(e,t);if(t.type==="root")return $9(e,t,n);if(t.type==="text")return G9(e,t)}function B9(e,t,n){let r=e.schema,a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Kh,e.schema=a),e.ancestors.push(t);let i=FD(e,t.tagName,!1),o=K9(e,t),s=g0(e,t);return U9.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Wx(l):!0})),qD(e,o,i,t),h0(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function q9(e,t){if(t.data&&t.data.estree&&e.evaluater){let r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xf(e,t.position)}function F9(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xf(e,t.position)}function H9(e,t,n){let r=e.schema,a=r;t.name==="svg"&&r.space==="html"&&(a=Kh,e.schema=a),e.ancestors.push(t);let i=t.name===null?e.Fragment:FD(e,t.name,!0),o=J9(e,t),s=g0(e,t);return qD(e,o,i,t),h0(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function $9(e,t,n){let r={};return h0(r,g0(e,t)),e.create(t,e.Fragment,r,n)}function G9(e,t){return t.value}function qD(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function h0(e,t){if(t.length>0){let n=t.length>1?t:t[0];n&&(e.children=n)}}function Y9(e,t,n){return r;function r(a,i,o,s){let u=Array.isArray(o.children)?n:t;return s?u(i,o,s):u(i,o)}}function Z9(e,t){return n;function n(r,a,i,o){let s=Array.isArray(i.children),l=Fu(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function K9(e,t){let n={},r,a;for(a in t.properties)if(a!=="children"&&d0.call(t.properties,a)){let i=X9(e,a,t.properties[a]);if(i){let[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&z9.has(t.tagName)?r=s:n[o]=s}}if(r){let i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function J9(e,t){let n={};for(let r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){let i=r.data.estree.body[0];i.type;let o=i.expression;o.type;let s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Xf(e,t.position);else{let a=r.name,i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){let s=r.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else Xf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function g0(e,t){let n=[],r=-1,a=e.passKeys?new Map:L9;for(;++r<t.children.length;){let i=t.children[r],o;if(e.passKeys){let l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){let u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}let s=BD(e,i,o);s!==void 0&&n.push(s)}return n}function X9(e,t,n){let r=l0(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?yD(n):_D(n)),r.property==="style"){let a=typeof n=="object"?n:Q9(e,String(n));return e.stylePropertyNameCase==="css"&&(a=W9(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?s0[r.property]||r.property:r.attribute,n]}}function Q9(e,t){try{return(0,UD.default)(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};let r=n,a=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=zD+"#cannot-parse-style-attribute",a}}function FD(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){let a=t.split("."),i=-1,o;for(;++i<a.length;){let s=Gh(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:Boolean(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=Gh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){let a=r.value;return d0.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xf(e)}function Xf(e,t){let n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zD+"#cannot-handle-mdx-estrees-without-createevaluater",n}function W9(e){let t={},n;for(n in e)d0.call(e,n)&&(t[e8(n)]=e[n]);return t}function e8(e){let t=e.replace(V9,t8);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function t8(e){return"-"+e.toLowerCase()}var Qf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var Ku=Ae(ws(),1),vP=Ae(et(),1);var n8={};function y0(e,t){let n=t||n8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $D(e,r,a)}function $D(e,t,n){if(r8(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return HD(e.children,t,n)}return Array.isArray(e)?HD(e,t,n):""}function HD(e,t,n){let r=[],a=-1;for(;++a<e.length;)r[a]=$D(e[a],t,n);return r.join("")}function r8(e){return Boolean(e&&typeof e=="object")}var GD=document.createElement("i");function Hu(e){let t="&"+e+";";GD.innerHTML=t;let n=GD.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qn(e,t,n,r){let a=e.length,i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function cr(e,t){return e.length>0?(qn(e,e.length,0,t),e):t}var YD={}.hasOwnProperty;function ZD(e){let t={},n=-1;for(;++n<e.length;)a8(t,e[n]);return t}function a8(e,t){let n;for(n in t){let a=(YD.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],o;if(i)for(o in i){YD.call(a,o)||(a[o]=[]);let s=i[o];i8(a[o],Array.isArray(s)?s:s?[s]:[])}}}function i8(e,t){let n=-1,r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qn(e,0,0,r)}function Qh(e,t){let n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Fr=No(/[A-Za-z]/),Rn=No(/[\dA-Za-z]/),KD=No(/[#-'*+\--9=?A-Z^-~]/);function Wf(e){return e!==null&&(e<32||e===127)}var ep=No(/\d/),JD=No(/[\dA-Fa-f]/),XD=No(/[!-/:-@[-`{-~]/);function ge(e){return e!==null&&e<-2}function en(e){return e!==null&&(e<0||e===32)}function Ue(e){return e===-2||e===-1||e===32}var QD=No(/\p{P}|\p{S}/u),WD=No(/\s/);function No(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ua(e){let t=[],n=-1,r=0,a=0;for(;++n<e.length;){let i=e.charCodeAt(n),o="";if(i===37&&Rn(e.charCodeAt(n+1))&&Rn(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){let s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o="\uFFFD"}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function qe(e,t,n,r){let a=r?r-1:Number.POSITIVE_INFINITY,i=0;return o;function o(l){return Ue(l)?(e.enter(n),s(l)):t(l)}function s(l){return Ue(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}var e2={tokenize:o8};function o8(e){let t=e.attempt(this.parser.constructs.contentInitial,r,a),n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),qe(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){let l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ge(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}var n2={tokenize:s8},t2={tokenize:l8};function s8(e){let t=this,n=[],r=0,a,i,o;return s;function s(y){if(r<n.length){let S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&g();let S=t.events.length,_=S,T;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){T=t.events[_][1].end;break}h(r);let R=S;for(;R<t.events.length;)t.events[R][1].end={...T},R++;return qn(t.events,_+1,0,t.events.slice(S)),t.events.length=R,u(y)}return s(y)}function u(y){if(r===n.length){if(!a)return p(y);if(a.currentConstruct&&a.currentConstruct.concrete)return w(y);t.interrupt=Boolean(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(t2,c,f)(y)}function c(y){return a&&g(),h(r),p(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(y)}function p(y){return t.containerState={},e.attempt(t2,m,w)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),p(y)}function w(y){if(y===null){a&&g(),h(0),e.consume(y);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),b(y)}function b(y){if(y===null){x(e.exit("chunkFlow"),!0),h(0),e.consume(y);return}return ge(y)?(e.consume(y),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),b)}function x(y,S){let _=t.sliceStream(y);if(S&&_.push(null),y.previous=i,i&&(i.next=y),i=y,a.defineSkip(y.start),a.write(_),t.parser.lazy[y.start.line]){let T=a.events.length;for(;T--;)if(a.events[T][1].start.offset<o&&(!a.events[T][1].end||a.events[T][1].end.offset>o))return;let R=t.events.length,k=R,D,F;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(D){F=t.events[k][1].end;break}D=!0}for(h(r),T=R;T<t.events.length;)t.events[T][1].end={...F},T++;qn(t.events,k+1,0,t.events.slice(R)),t.events.length=T}}function h(y){let S=n.length;for(;S-- >y;){let _=n[S];t.containerState=_[1],_[0].exit.call(t,e)}n.length=y}function g(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function l8(e,t,n){return qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function v0(e){if(e===null||en(e)||WD(e))return 1;if(QD(e))return 2}function $u(e,t,n){let r=[],a=-1;for(;++a<e.length;){let i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}var tp={name:"attention",resolveAll:u8,tokenize:c8};function u8(e,t){let n=-1,r,a,i,o,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let f={...e[r][1].end},p={...e[n][1].start};r2(f,-l),r2(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=cr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=cr(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=cr(u,$u(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=cr(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=cr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,qn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function c8(e,t){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=v0(r),i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;let u=e.exit("attentionSequence"),c=v0(l),f=!c||c===2&&a||n.includes(l),p=!a||a===2&&c||n.includes(r);return u._open=Boolean(i===42?f:f&&(a||!p)),u._close=Boolean(i===42?p:p&&(c||!f)),t(l)}}function r2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var b0={name:"autolink",tokenize:f8};function f8(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Fr(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Rn(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Rn(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Wf(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),c):KD(m)?(e.consume(m),u):n(m)}function c(m){return Rn(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Rn(m))&&r++<63){let w=m===45?p:f;return e.consume(m),w}return n(m)}}var Io={partial:!0,tokenize:p8};function p8(e,t,n){return r;function r(i){return Ue(i)?qe(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||ge(i)?t(i):n(i)}}var Wh={continuation:{tokenize:m8},exit:h8,name:"blockQuote",tokenize:d8};function d8(e,t,n){let r=this;return a;function a(o){if(o===62){let s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Ue(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function m8(e,t,n){let r=this;return a;function a(o){return Ue(o)?qe(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(Wh,t,n)(o)}}function h8(e){e.exit("blockQuote")}var eg={name:"characterEscape",tokenize:g8};function g8(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return XD(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}var tg={name:"characterReference",tokenize:y8};function y8(e,t,n){let r=this,a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Rn,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=JD,c):(e.enter("characterReferenceValue"),i=7,o=ep,c(f))}function c(f){if(f===59&&a){let p=e.exit("characterReferenceValue");return o===Rn&&!Hu(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),c):n(f)}}var a2={partial:!0,tokenize:b8},ng={concrete:!0,name:"codeFenced",tokenize:v8};function v8(e,t,n){let r=this,a={partial:!0,tokenize:_},i=0,o=0,s;return l;function l(T){return u(T)}function u(T){let R=r.events[r.events.length-1];return i=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(T)}function c(T){return T===s?(o++,e.consume(T),c):o<3?n(T):(e.exit("codeFencedFenceSequence"),Ue(T)?qe(e,f,"whitespace")(T):f(T))}function f(T){return T===null||ge(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(a2,b,S)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===null||ge(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(T)):Ue(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qe(e,m,"whitespace")(T)):T===96&&T===s?n(T):(e.consume(T),p)}function m(T){return T===null||ge(T)?f(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||ge(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(T)):T===96&&T===s?n(T):(e.consume(T),w)}function b(T){return e.attempt(a,S,x)(T)}function x(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),h}function h(T){return i>0&&Ue(T)?qe(e,g,"linePrefix",i+1)(T):g(T)}function g(T){return T===null||ge(T)?e.check(a2,b,S)(T):(e.enter("codeFlowValue"),y(T))}function y(T){return T===null||ge(T)?(e.exit("codeFlowValue"),g(T)):(e.consume(T),y)}function S(T){return e.exit("codeFenced"),t(T)}function _(T,R,k){let D=0;return F;function F(ue){return T.enter("lineEnding"),T.consume(ue),T.exit("lineEnding"),Ne}function Ne(ue){return T.enter("codeFencedFence"),Ue(ue)?qe(T,Te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):Te(ue)}function Te(ue){return ue===s?(T.enter("codeFencedFenceSequence"),B(ue)):k(ue)}function B(ue){return ue===s?(D++,T.consume(ue),B):D>=o?(T.exit("codeFencedFenceSequence"),Ue(ue)?qe(T,te,"whitespace")(ue):te(ue)):k(ue)}function te(ue){return ue===null||ge(ue)?(T.exit("codeFencedFence"),R(ue)):k(ue)}}}function b8(e,t,n){let r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}var np={name:"codeIndented",tokenize:w8},x8={partial:!0,tokenize:S8};function w8(e,t,n){let r=this;return a;function a(u){return e.enter("codeIndented"),qe(e,i,"linePrefix",4+1)(u)}function i(u){let c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ge(u)?e.attempt(x8,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||ge(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function S8(e,t,n){let r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):ge(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):qe(e,i,"linePrefix",4+1)(o)}function i(o){let s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):ge(o)?a(o):n(o)}}var x0={name:"codeText",previous:_8,resolve:T8,tokenize:E8};function T8(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function _8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function E8(e,t,n){let r=this,a=0,i,o;return s;function s(p){return e.enter("codeText"),e.enter("codeTextSequence"),l(p)}function l(p){return p===96?(e.consume(p),a++,l):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(o=e.enter("codeTextSequence"),i=0,f(p)):ge(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||ge(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",c(p))}}var rg=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){let r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){let a=n||0;this.setCursor(Math.trunc(t));let i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&rp(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),rp(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),rp(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){let n=this.left.splice(t,Number.POSITIVE_INFINITY);rp(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);rp(this.left,n.reverse())}}};function rp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ag(e){let t={},n=-1,r,a,i,o,s,l,u,c=new rg(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,k8(c,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=c.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(c.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...c.get(a)[1].start},s=c.slice(a,n),s.unshift(r),c.splice(a,n-a+1,s))}}return qn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function k8(e,t){let n=e.get(t)[1],r=e.get(t)[2],a=t-1,i=[],o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));let s=o.events,l=[],u={},c,f,p=-1,m=n,w=0,b=0,x=[b];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(b=p+1,x.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){let h=s.slice(x[p],x[p+1]),g=i.pop();l.push([g,g+h.length-1]),e.splice(g,2,h)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}var w0={resolve:C8,tokenize:M8},A8={partial:!0,tokenize:R8};function C8(e){return ag(e),e}function M8(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):ge(s)?e.check(A8,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function R8(e,t,n){let r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),qe(e,i,"linePrefix")}function i(o){if(o===null||ge(o))return n(o);let s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ig(e,t,n,r,a,i,o,s,l){let u=l||Number.POSITIVE_INFINITY,c=0;return f;function f(h){return h===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(h),e.exit(i),p):h===null||h===32||h===41||Wf(h)?n(h):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),b(h))}function p(h){return h===62?(e.enter(i),e.consume(h),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(h))}function m(h){return h===62?(e.exit("chunkString"),e.exit(s),p(h)):h===null||h===60||ge(h)?n(h):(e.consume(h),h===92?w:m)}function w(h){return h===60||h===62||h===92?(e.consume(h),m):m(h)}function b(h){return!c&&(h===null||h===41||en(h))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(h)):c<u&&h===40?(e.consume(h),c++,b):h===41?(e.consume(h),c--,b):h===null||h===32||h===40||Wf(h)?n(h):(e.consume(h),h===92?x:b)}function x(h){return h===40||h===41||h===92?(e.consume(h),b):b(h)}}function og(e,t,n,r,a,i){let o=this,s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),c}function c(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):ge(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ge(m)||s++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l||(l=!Ue(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function sg(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):ge(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),qe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||ge(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:c)}function f(p){return p===o||p===92?(e.consume(p),c):c(p)}}function Zs(e,t){let n;return r;function r(a){return ge(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):Ue(a)?qe(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}var S0={name:"definition",tokenize:D8},O8={partial:!0,tokenize:P8};function D8(e,t,n){let r=this,a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return og.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return en(m)?Zs(e,u)(m):u(m)}function u(m){return ig(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return e.attempt(O8,f,f)(m)}function f(m){return Ue(m)?qe(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ge(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function P8(e,t,n){return r;function r(s){return en(s)?Zs(e,a)(s):n(s)}function a(s){return sg(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return Ue(s)?qe(e,o,"whitespace")(s):o(s)}function o(s){return s===null||ge(s)?t(s):n(s)}}var T0={name:"hardBreakEscape",tokenize:N8};function N8(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return ge(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}var _0={name:"headingAtx",resolve:I8,tokenize:j8};function I8(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qn(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function j8(e,t,n){let r=0;return a;function a(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||en(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ge(c)?(e.exit("atxHeading"),t(c)):Ue(c)?qe(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||en(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}var i2=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],E0=["pre","script","style","textarea"];var k0={concrete:!0,name:"htmlFlow",resolveTo:U8,tokenize:z8},L8={partial:!0,tokenize:q8},V8={partial:!0,tokenize:B8};function U8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function z8(e,t,n){let r=this,a,i,o,s,l;return u;function u(v){return c(v)}function c(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),f}function f(v){return v===33?(e.consume(v),p):v===47?(e.consume(v),i=!0,b):v===63?(e.consume(v),a=3,r.interrupt?t:A):Fr(v)?(e.consume(v),o=String.fromCharCode(v),x):n(v)}function p(v){return v===45?(e.consume(v),a=2,m):v===91?(e.consume(v),a=5,s=0,w):Fr(v)?(e.consume(v),a=4,r.interrupt?t:A):n(v)}function m(v){return v===45?(e.consume(v),r.interrupt?t:A):n(v)}function w(v){let $e="CDATA[";return v===$e.charCodeAt(s++)?(e.consume(v),s===$e.length?r.interrupt?t:Te:w):n(v)}function b(v){return Fr(v)?(e.consume(v),o=String.fromCharCode(v),x):n(v)}function x(v){if(v===null||v===47||v===62||en(v)){let $e=v===47,Qn=o.toLowerCase();return!$e&&!i&&E0.includes(Qn)?(a=1,r.interrupt?t(v):Te(v)):i2.includes(o.toLowerCase())?(a=6,$e?(e.consume(v),h):r.interrupt?t(v):Te(v)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):i?g(v):y(v))}return v===45||Rn(v)?(e.consume(v),o+=String.fromCharCode(v),x):n(v)}function h(v){return v===62?(e.consume(v),r.interrupt?t:Te):n(v)}function g(v){return Ue(v)?(e.consume(v),g):F(v)}function y(v){return v===47?(e.consume(v),F):v===58||v===95||Fr(v)?(e.consume(v),S):Ue(v)?(e.consume(v),y):F(v)}function S(v){return v===45||v===46||v===58||v===95||Rn(v)?(e.consume(v),S):_(v)}function _(v){return v===61?(e.consume(v),T):Ue(v)?(e.consume(v),_):y(v)}function T(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),l=v,R):Ue(v)?(e.consume(v),T):k(v)}function R(v){return v===l?(e.consume(v),l=null,D):v===null||ge(v)?n(v):(e.consume(v),R)}function k(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||en(v)?_(v):(e.consume(v),k)}function D(v){return v===47||v===62||Ue(v)?y(v):n(v)}function F(v){return v===62?(e.consume(v),Ne):n(v)}function Ne(v){return v===null||ge(v)?Te(v):Ue(v)?(e.consume(v),Ne):n(v)}function Te(v){return v===45&&a===2?(e.consume(v),ze):v===60&&a===1?(e.consume(v),be):v===62&&a===4?(e.consume(v),Ee):v===63&&a===3?(e.consume(v),A):v===93&&a===5?(e.consume(v),mt):ge(v)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(L8,nn,B)(v)):v===null||ge(v)?(e.exit("htmlFlowData"),B(v)):(e.consume(v),Te)}function B(v){return e.check(V8,te,nn)(v)}function te(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ue}function ue(v){return v===null||ge(v)?B(v):(e.enter("htmlFlowData"),Te(v))}function ze(v){return v===45?(e.consume(v),A):Te(v)}function be(v){return v===47?(e.consume(v),o="",Ce):Te(v)}function Ce(v){if(v===62){let $e=o.toLowerCase();return E0.includes($e)?(e.consume(v),Ee):Te(v)}return Fr(v)&&o.length<8?(e.consume(v),o+=String.fromCharCode(v),Ce):Te(v)}function mt(v){return v===93?(e.consume(v),A):Te(v)}function A(v){return v===62?(e.consume(v),Ee):v===45&&a===2?(e.consume(v),A):Te(v)}function Ee(v){return v===null||ge(v)?(e.exit("htmlFlowData"),nn(v)):(e.consume(v),Ee)}function nn(v){return e.exit("htmlFlow"),t(v)}}function B8(e,t,n){let r=this;return a;function a(o){return ge(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function q8(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Io,t,n)}}var A0={name:"htmlText",tokenize:F8};function F8(e,t,n){let r=this,a,i,o;return s;function s(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),u):A===47?(e.consume(A),_):A===63?(e.consume(A),y):Fr(A)?(e.consume(A),k):n(A)}function u(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),i=0,w):Fr(A)?(e.consume(A),g):n(A)}function c(A){return A===45?(e.consume(A),m):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),p):ge(A)?(o=f,be(A)):(e.consume(A),f)}function p(A){return A===45?(e.consume(A),m):f(A)}function m(A){return A===62?ze(A):A===45?p(A):f(A)}function w(A){let Ee="CDATA[";return A===Ee.charCodeAt(i++)?(e.consume(A),i===Ee.length?b:w):n(A)}function b(A){return A===null?n(A):A===93?(e.consume(A),x):ge(A)?(o=b,be(A)):(e.consume(A),b)}function x(A){return A===93?(e.consume(A),h):b(A)}function h(A){return A===62?ze(A):A===93?(e.consume(A),h):b(A)}function g(A){return A===null||A===62?ze(A):ge(A)?(o=g,be(A)):(e.consume(A),g)}function y(A){return A===null?n(A):A===63?(e.consume(A),S):ge(A)?(o=y,be(A)):(e.consume(A),y)}function S(A){return A===62?ze(A):y(A)}function _(A){return Fr(A)?(e.consume(A),T):n(A)}function T(A){return A===45||Rn(A)?(e.consume(A),T):R(A)}function R(A){return ge(A)?(o=R,be(A)):Ue(A)?(e.consume(A),R):ze(A)}function k(A){return A===45||Rn(A)?(e.consume(A),k):A===47||A===62||en(A)?D(A):n(A)}function D(A){return A===47?(e.consume(A),ze):A===58||A===95||Fr(A)?(e.consume(A),F):ge(A)?(o=D,be(A)):Ue(A)?(e.consume(A),D):ze(A)}function F(A){return A===45||A===46||A===58||A===95||Rn(A)?(e.consume(A),F):Ne(A)}function Ne(A){return A===61?(e.consume(A),Te):ge(A)?(o=Ne,be(A)):Ue(A)?(e.consume(A),Ne):D(A)}function Te(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),a=A,B):ge(A)?(o=Te,be(A)):Ue(A)?(e.consume(A),Te):(e.consume(A),te)}function B(A){return A===a?(e.consume(A),a=void 0,ue):A===null?n(A):ge(A)?(o=B,be(A)):(e.consume(A),B)}function te(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||en(A)?D(A):(e.consume(A),te)}function ue(A){return A===47||A===62||en(A)?D(A):n(A)}function ze(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function be(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Ce}function Ce(A){return Ue(A)?qe(e,mt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):mt(A)}function mt(A){return e.enter("htmlTextData"),o(A)}}var Ks={name:"labelEnd",resolveAll:Y8,resolveTo:Z8,tokenize:K8},H8={tokenize:J8},$8={tokenize:X8},G8={tokenize:Q8};function Y8(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&qn(e,0,e.length,n),e}function Z8(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);let l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=cr(s,e.slice(i+1,i+r+3)),s=cr(s,[["enter",c,t]]),s=cr(s,$u(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=cr(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=cr(s,e.slice(o+1)),s=cr(s,[["exit",l,t]]),qn(e,i,e.length,s),e}function K8(e,t,n){let r=this,a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(ji(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(H8,c,o?c:f)(p):p===91?e.attempt($8,c,o?u:f)(p):o?c(p):f(p)}function u(p){return e.attempt(G8,c,f)(p)}function c(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function J8(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return en(f)?Zs(e,i)(f):i(f)}function i(f){return f===41?c(f):ig(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return en(f)?Zs(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?sg(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return en(f)?Zs(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function X8(e,t,n){let r=this;return a;function a(s){return og.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Q8(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}var C0={name:"labelStartImage",resolveAll:Ks.resolveAll,tokenize:W8};function W8(e,t,n){let r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}var M0={name:"labelStartLink",resolveAll:Ks.resolveAll,tokenize:e5};function e5(e,t,n){let r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}var ap={name:"lineEnding",tokenize:t5};function t5(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),qe(e,t,"linePrefix")}}var Js={name:"thematicBreak",tokenize:n5};function n5(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ge(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ue(u)?qe(e,s,"whitespace")(u):s(u))}}var Xn={continuation:{tokenize:o5},exit:l5,name:"list",tokenize:i5},r5={partial:!0,tokenize:u5},a5={partial:!0,tokenize:s5};function i5(e,t,n){let r=this,a=r.events[r.events.length-1],i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){let w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ep(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Js,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ep(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Io,r.interrupt?n:c,e.attempt(r5,p,f))}function c(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return Ue(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function o5(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(Io,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!Ue(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(a5,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(e,e.attempt(Xn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function s5(e,t,n){let r=this;return qe(e,a,"listItemIndent",r.containerState.size+1);function a(i){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function l5(e){e.exit(this.containerState.type)}function u5(e,t,n){let r=this;return qe(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function a(i){let o=r.events[r.events.length-1];return!Ue(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}var lg={name:"setextUnderline",resolveTo:c5,tokenize:f5};function c5(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);let o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function f5(e,t,n){let r=this,a;return i;function i(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),Ue(u)?qe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ge(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}var o2={tokenize:p5};function p5(e){let t=this,n=e.attempt(Io,r,e.attempt(this.parser.constructs.flowInitial,a,qe(e,e.attempt(this.parser.constructs.flow,a,e.attempt(w0,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}var s2={resolveAll:f2()},l2=c2("string"),u2=c2("text");function c2(e){return{resolveAll:f2(e==="text"?d5:void 0),tokenize:t};function t(n){let r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(c){return u(c)?i(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),i(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;let f=a[c],p=-1;if(f)for(;++p<f.length;){let m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function f2(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function d5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){let r=e[n-1][1],a=t.sliceStream(r),i=a.length,o=-1,s=0,l;for(;i--;){let u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){let u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}var R0={};fp(R0,{attentionMarkers:()=>w5,contentInitial:()=>h5,disable:()=>S5,document:()=>m5,flow:()=>y5,flowInitial:()=>g5,insideSpan:()=>x5,string:()=>v5,text:()=>b5});var m5={[42]:Xn,[43]:Xn,[45]:Xn,[48]:Xn,[49]:Xn,[50]:Xn,[51]:Xn,[52]:Xn,[53]:Xn,[54]:Xn,[55]:Xn,[56]:Xn,[57]:Xn,[62]:Wh},h5={[91]:S0},g5={[-2]:np,[-1]:np,[32]:np},y5={[35]:_0,[42]:Js,[45]:[lg,Js],[60]:k0,[61]:lg,[95]:Js,[96]:ng,[126]:ng},v5={[38]:tg,[92]:eg},b5={[-5]:ap,[-4]:ap,[-3]:ap,[33]:C0,[38]:tg,[42]:tp,[60]:[b0,A0],[91]:M0,[92]:[T0,eg],[93]:Ks,[95]:tp,[96]:x0},x5={null:[tp,s2]},w5={null:[42,95]},S5={null:[]};function p2(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},a={},i=[],o=[],s=[],l=!0,u={attempt:D(R),check:D(k),consume:S,enter:_,exit:T,interrupt:D(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:h,events:[],now:x,parser:e,previous:null,sliceSerialize:w,sliceStream:b,write:m},f=t.tokenize.call(c,u),p;return t.resolveAll&&i.push(t),c;function m(B){return o=cr(o,B),g(),o[o.length-1]!==null?[]:(F(t,0),c.events=$u(i,c.events,c),c.events)}function w(B,te){return _5(b(B),te)}function b(B){return T5(o,B)}function x(){let{_bufferIndex:B,_index:te,line:ue,column:ze,offset:be}=r;return{_bufferIndex:B,_index:te,line:ue,column:ze,offset:be}}function h(B){a[B.line]=B.column,Te()}function g(){let B;for(;r._index<o.length;){let te=o[r._index];if(typeof te=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<te.length;)y(te.charCodeAt(r._bufferIndex));else y(te)}}function y(B){l=void 0,p=B,f=f(B)}function S(B){ge(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,Te()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=B,l=!0}function _(B,te){let ue=te||{};return ue.type=B,ue.start=x(),c.events.push(["enter",ue,c]),s.push(ue),ue}function T(B){let te=s.pop();return te.end=x(),c.events.push(["exit",te,c]),te}function R(B,te){F(B,te.from)}function k(B,te){te.restore()}function D(B,te){return ue;function ue(ze,be,Ce){let mt,A,Ee,nn;return Array.isArray(ze)?$e(ze):"tokenize"in ze?$e([ze]):v(ze);function v(Je){return Me;function Me(Ot){let Pn=Ot!==null&&Je[Ot],$n=Ot!==null&&Je.null,Er=[...Array.isArray(Pn)?Pn:Pn?[Pn]:[],...Array.isArray($n)?$n:$n?[$n]:[]];return $e(Er)(Ot)}}function $e(Je){return mt=Je,A=0,Je.length===0?Ce:Qn(Je[A])}function Qn(Je){return Me;function Me(Ot){return nn=Ne(),Ee=Je,Je.partial||(c.currentConstruct=Je),Je.name&&c.parser.constructs.disable.null.includes(Je.name)?Hn(Ot):Je.tokenize.call(te?Object.assign(Object.create(c),te):c,u,Dn,Hn)(Ot)}}function Dn(Je){return l=!0,B(Ee,nn),be}function Hn(Je){return l=!0,nn.restore(),++A<mt.length?Qn(mt[A]):Ce}}}function F(B,te){B.resolveAll&&!i.includes(B)&&i.push(B),B.resolve&&qn(c.events,te,c.events.length-te,B.resolve(c.events.slice(te),c)),B.resolveTo&&(c.events=B.resolveTo(c.events,c))}function Ne(){let B=x(),te=c.previous,ue=c.currentConstruct,ze=c.events.length,be=Array.from(s);return{from:ze,restore:Ce};function Ce(){r=B,c.previous=te,c.currentConstruct=ue,c.events.length=ze,s=be,Te()}}function Te(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function T5(e,t){let n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex,o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){let s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function _5(e,t){let n=-1,r=[],a;for(;++n<e.length;){let i=e[n],o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function O0(e){let r={constructs:ZD([R0,...(e||{}).extensions||[]]),content:a(e2),defined:[],document:a(n2),flow:a(o2),lazy:{},string:a(l2),text:a(u2)};return r;function a(i){return o;function o(s){return p2(r,i,s)}}}function D0(e){for(;!ag(e););return e}var d2=/[\0\t\n\r]/g;function P0(){let e=1,t="",n=!0,r;return a;function a(i,o,s){let l=[],u,c,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(d2.lastIndex=f,u=d2.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}var E5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function m2(e){return e.replace(E5,k5)}function k5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){let a=n.charCodeAt(1),i=a===120||a===88;return Qh(n.slice(i?2:1),i?16:10)}return Hu(n)||e}var g2={}.hasOwnProperty;function N0(e,t,n){return typeof t!="string"&&(n=t,t=void 0),A5(n)(D0(O0(n).document().write(P0()(e,t,!0))))}function A5(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(J),autolinkProtocol:D,autolinkEmail:D,atxHeading:i(Nn),blockQuote:i(Ot),characterEscape:D,characterReference:D,codeFenced:i(Pn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Pn,o),codeText:i($n,o),codeTextData:D,data:D,codeFlowValue:D,definition:i(Er),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(kr),hardBreakEscape:i(ht),hardBreakTrailing:i(ht),htmlFlow:i(kt,o),htmlFlowData:D,htmlText:i(kt,o),htmlTextData:D,image:i(rn),label:o,link:i(J),listItem:i(In),listItemValue:p,listOrdered:i(wt,f),listUnordered:i(wt),paragraph:i(ct),reference:v,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Nn),strong:i(Ar),thematicBreak:i(vn)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:Me,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Qn,characterReferenceMarkerNumeric:Qn,characterReferenceValue:Dn,characterReference:Hn,codeFenced:l(x),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:l(h),codeText:l(ue),codeTextData:F,data:F,definition:l(),definitionDestinationString:S,definitionLabelString:g,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(Te),hardBreakTrailing:l(Te),htmlFlow:l(B),htmlFlowData:F,htmlText:l(te),htmlTextData:F,image:l(be),label:mt,labelText:Ce,lineEnding:Ne,link:l(ze),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:$e,resourceDestinationString:A,resourceTitleString:Ee,resource:nn,setextHeading:l(k),setextHeadingLineSequence:R,setextHeadingText:T,strong:l(),thematicBreak:l()}};y2(t,(e||{}).mdastExtensions||[]);let n={};return r;function r(N){let Q={type:"root",children:[]},ke={stack:[Q],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},Ie=[],We=-1;for(;++We<N.length;)if(N[We][1].type==="listOrdered"||N[We][1].type==="listUnordered")if(N[We][0]==="enter")Ie.push(We);else{let bn=Ie.pop();We=a(N,bn,We)}for(We=-1;++We<N.length;){let bn=t[N[We][0]];g2.call(bn,N[We][1].type)&&bn[N[We][1].type].call(Object.assign({sliceSerialize:N[We][2].sliceSerialize},ke),N[We][1])}if(ke.tokenStack.length>0){let bn=ke.tokenStack[ke.tokenStack.length-1];(bn[1]||h2).call(ke,void 0,bn[0])}for(Q.position={start:jo(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:jo(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)Q=t.transforms[We](Q)||Q;return Q}function a(N,Q,ke){let Ie=Q-1,We=-1,bn=!1,ln,un,Zt,cn;for(;++Ie<=ke;){let Kt=N[Ie];switch(Kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Kt[0]==="enter"?We++:We--,cn=void 0;break}case"lineEndingBlank":{Kt[0]==="enter"&&(ln&&!cn&&!We&&!Zt&&(Zt=Ie),cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:cn=void 0}if(!We&&Kt[0]==="enter"&&Kt[1].type==="listItemPrefix"||We===-1&&Kt[0]==="exit"&&(Kt[1].type==="listUnordered"||Kt[1].type==="listOrdered")){if(ln){let Cr=Ie;for(un=void 0;Cr--;){let Lt=N[Cr];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;un&&(N[un][1].type="lineEndingBlank",bn=!0),Lt[1].type="lineEnding",un=Cr}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}Zt&&(!un||Zt<un)&&(ln._spread=!0),ln.end=Object.assign({},un?N[un][1].start:Kt[1].end),N.splice(un||Ie,0,["exit",ln,Kt[2]]),Ie++,ke++}if(Kt[1].type==="listItemPrefix"){let Cr={type:"listItem",_spread:!1,start:Object.assign({},Kt[1].start),end:void 0};ln=Cr,N.splice(Ie,0,["enter",Cr,Kt[2]]),Ie++,ke++,Zt=void 0,cn=!0}}}return N[Q][1]._spread=bn,ke}function i(N,Q){return ke;function ke(Ie){s.call(this,N(Ie),Ie),Q&&Q.call(this,Ie)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(N,Q,ke){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([Q,ke||void 0]),N.position={start:jo(Q.start),end:void 0}}function l(N){return Q;function Q(ke){N&&N.call(this,ke),u.call(this,ke)}}function u(N,Q){let ke=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==N.type&&(Q?Q.call(this,N,Ie[0]):(Ie[1]||h2).call(this,N,Ie[0]));else throw new Error("Cannot close `"+N.type+"` ("+Po({start:N.start,end:N.end})+"): it\u2019s not open");ke.position.end=jo(N.end)}function c(){return y0(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(N){if(this.data.expectingFirstListItemValue){let Q=this.stack[this.stack.length-2];Q.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function m(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.lang=N}function w(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.meta=N}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function h(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.value=N.replace(/(\r?\n|\r)$/g,"")}function g(N){let Q=this.resume(),ke=this.stack[this.stack.length-1];ke.label=Q,ke.identifier=ji(this.sliceSerialize(N)).toLowerCase()}function y(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.title=N}function S(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.url=N}function _(N){let Q=this.stack[this.stack.length-1];if(!Q.depth){let ke=this.sliceSerialize(N).length;Q.depth=ke}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function R(N){let Q=this.stack[this.stack.length-1];Q.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function D(N){let ke=this.stack[this.stack.length-1].children,Ie=ke[ke.length-1];(!Ie||Ie.type!=="text")&&(Ie=Lo(),Ie.position={start:jo(N.start),end:void 0},ke.push(Ie)),this.stack.push(Ie)}function F(N){let Q=this.stack.pop();Q.value+=this.sliceSerialize(N),Q.position.end=jo(N.end)}function Ne(N){let Q=this.stack[this.stack.length-1];if(this.data.atHardBreak){let ke=Q.children[Q.children.length-1];ke.position.end=jo(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Q.type)&&(D.call(this,N),F.call(this,N))}function Te(){this.data.atHardBreak=!0}function B(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.value=N}function te(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.value=N}function ue(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.value=N}function ze(){let N=this.stack[this.stack.length-1];if(this.data.inReference){let Q=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=Q,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function be(){let N=this.stack[this.stack.length-1];if(this.data.inReference){let Q=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=Q,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function Ce(N){let Q=this.sliceSerialize(N),ke=this.stack[this.stack.length-2];ke.label=m2(Q),ke.identifier=ji(Q).toLowerCase()}function mt(){let N=this.stack[this.stack.length-1],Q=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){let Ie=N.children;ke.children=Ie}else ke.alt=Q}function A(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.url=N}function Ee(){let N=this.resume(),Q=this.stack[this.stack.length-1];Q.title=N}function nn(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function $e(N){let Q=this.resume(),ke=this.stack[this.stack.length-1];ke.label=Q,ke.identifier=ji(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function Qn(N){this.data.characterReferenceType=N.type}function Dn(N){let Q=this.sliceSerialize(N),ke=this.data.characterReferenceType,Ie;ke?(Ie=Qh(Q,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=Hu(Q);let We=this.stack[this.stack.length-1];We.value+=Ie}function Hn(N){let Q=this.stack.pop();Q.position.end=jo(N.end)}function Je(N){F.call(this,N);let Q=this.stack[this.stack.length-1];Q.url=this.sliceSerialize(N)}function Me(N){F.call(this,N);let Q=this.stack[this.stack.length-1];Q.url="mailto:"+this.sliceSerialize(N)}function Ot(){return{type:"blockquote",children:[]}}function Pn(){return{type:"code",lang:null,meta:null,value:""}}function $n(){return{type:"inlineCode",value:""}}function Er(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kr(){return{type:"emphasis",children:[]}}function Nn(){return{type:"heading",depth:0,children:[]}}function ht(){return{type:"break"}}function kt(){return{type:"html",value:""}}function rn(){return{type:"image",title:null,url:"",alt:null}}function J(){return{type:"link",title:null,url:"",children:[]}}function wt(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function In(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function Ar(){return{type:"strong",children:[]}}function Lo(){return{type:"text",value:""}}function vn(){return{type:"thematicBreak"}}}function jo(e){return{line:e.line,column:e.column,offset:e.offset}}function y2(e,t){let n=-1;for(;++n<t.length;){let r=t[n];Array.isArray(r)?y2(e,r):C5(e,r)}}function C5(e,t){let n;for(n in t)if(g2.call(t,n))switch(n){case"canContainEols":{let r=t[n];r&&e[n].push(...r);break}case"transforms":{let r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{let r=t[n];r&&Object.assign(e[n],r);break}}}function h2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Po({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Po({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Po({start:t.start,end:t.end})+") is still open")}function ug(e){let t=this;t.parser=n;function n(r){return N0(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function v2(e,t){let n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function b2(e,t){let n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function x2(e,t){let n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function w2(e,t){let n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function S2(e,t){let n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function T2(e,t){let n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ua(r.toLowerCase()),i=e.footnoteOrder.indexOf(r),o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);let l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);let u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function _2(e,t){let n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function E2(e,t){if(e.options.allowDangerousHtml){let n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function cg(e,t){let n=t.referenceType,r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];let a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});let o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function k2(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cg(e,t);let a={src:ua(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);let i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function A2(e,t){let n={src:ua(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function C2(e,t){let n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);let r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function M2(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cg(e,t);let a={href:ua(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);let i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function R2(e,t){let n={href:ua(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function O2(e,t,n){let r=e.all(t),a=n?M5(n):D2(t),i={},o=[];if(typeof t.checked=="boolean"){let c=r[0],f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){let c=r[s];(a||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!a?o.push(...c.children):o.push(c)}let l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});let u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function M5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=D2(n[r])}return t}function D2(e){let t=e.spread;return t==null?e.children.length>1:t}function P2(e,t){let n={},r=e.all(t),a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){let o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}let i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function N2(e,t){let n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I2(e,t){let n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function j2(e,t){let n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L2(e,t){let n=e.all(t),r=n.shift(),a=[];if(r){let o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){let o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Fu(t.children[1]),l=Xh(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}let i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function V2(e,t,n){let r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length,l=-1,u=[];for(;++l<s;){let f=t.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let w={type:"element",tagName:i,properties:p,children:[]};f&&(w.children=e.all(f),e.patch(f,w),w=e.applyData(f,w)),u.push(w)}let c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function U2(e,t){let n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B2(e){let t=String(e),n=/\r?\n|\r/g,r=n.exec(t),a=0,i=[];for(;r;)i.push(z2(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(z2(t.slice(a),a>0,!1)),i.join("")}function z2(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===9||i===32;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===9||i===32;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function q2(e,t){let n={type:"text",value:B2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function F2(e,t){let n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}var H2={blockquote:v2,break:b2,code:x2,delete:w2,emphasis:S2,footnoteReference:T2,heading:_2,html:E2,imageReference:k2,image:A2,inlineCode:C2,linkReference:M2,link:R2,listItem:O2,list:P2,paragraph:N2,root:I2,strong:j2,table:L2,tableCell:U2,tableRow:V2,text:q2,thematicBreak:F2,toml:fg,yaml:fg,definition:fg,footnoteDefinition:fg};function fg(){}var $2=typeof self=="object"?self:globalThis,P5=(e,t)=>{let n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);let[i,o]=t[a];switch(i){case 0:case-1:return n(o,a);case 1:{let s=n([],a);for(let l of o)s.push(r(l));return s}case 2:{let s=n({},a);for(let[l,u]of o)s[r(l)]=r(u);return s}case 3:return n(new Date(o),a);case 4:{let{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case 5:{let s=n(new Map,a);for(let[l,u]of o)s.set(r(l),r(u));return s}case 6:{let s=n(new Set,a);for(let l of o)s.add(r(l));return s}case 7:{let{name:s,message:l}=o;return n(new $2[s](l),a)}case 8:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{let{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new $2[i](o),a)};return r},L0=e=>P5(new Map,e)(0);var Gu="",{toString:N5}={},{keys:I5}=Object,ip=e=>{let t=typeof e;if(t!=="object"||!e)return[0,t];let n=N5.call(e).slice(8,-1);switch(n){case"Array":return[1,Gu];case"Object":return[2,Gu];case"Date":return[3,Gu];case"RegExp":return[4,Gu];case"Map":return[5,Gu];case"Set":return[6,Gu];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},dg=([e,t])=>e===0&&(t==="function"||t==="symbol"),j5=(e,t,n,r)=>{let a=(o,s)=>{let l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=ip(o);switch(s){case 0:{let c=o;switch(l){case"bigint":s=8,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return a([-1],o)}return a([s,c],o)}case 1:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}let c=[],f=a([s,c],o);for(let p of o)c.push(i(p));return f}case 2:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());let c=[],f=a([s,c],o);for(let p of I5(o))(e||!dg(ip(o[p])))&&c.push([i(p),i(o[p])]);return f}case 3:return a([s,o.toISOString()],o);case 4:{let{source:c,flags:f}=o;return a([s,{source:c,flags:f}],o)}case 5:{let c=[],f=a([s,c],o);for(let[p,m]of o)(e||!(dg(ip(p))||dg(ip(m))))&&c.push([i(p),i(m)]);return f}case 6:{let c=[],f=a([s,c],o);for(let p of o)(e||!dg(ip(p)))&&c.push(i(p));return f}}let{message:u}=o;return a([s,{name:l,message:u}],o)};return i},V0=(e,{json:t,lossy:n}={})=>{let r=[];return j5(!(t||n),!!t,new Map,r)(e),r};var Yu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?L0(V0(e,t)):structuredClone(e):(e,t)=>L0(V0(e,t));function L5(e,t){let n=[{type:"text",value:"\u21A9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function V5(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function J2(e){let t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||L5,r=e.options.footnoteBackLabel||V5,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[],l=-1;for(;++l<e.footnoteOrder.length;){let u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;let c=e.all(u),f=String(u.identifier).toUpperCase(),p=ua(f.toLowerCase()),m=0,w=[],b=e.footnoteCounts.get(f);for(;b!==void 0&&++m<=b;){w.length>0&&w.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,m);typeof g=="string"&&(g={type:"text",value:g}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}let x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){let g=x.children[x.children.length-1];g&&g.type==="text"?g.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...w)}else c.push(...w);let h={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,h),s.push(h)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Yu(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}var mg=function(e){if(e==null)return q5;if(typeof e=="function")return hg(e);if(typeof e=="object")return Array.isArray(e)?U5(e):z5(e);if(typeof e=="string")return B5(e);throw new Error("Expected function, string, or object as test")};function U5(e){let t=[],n=-1;for(;++n<e.length;)t[n]=mg(e[n]);return hg(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function z5(e){let t=e;return hg(n);function n(r){let a=r,i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function B5(e){return hg(t);function t(n){return n&&n.type===e}}function hg(e){return t;function t(n,r,a){return Boolean(F5(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function q5(){return!0}function F5(e){return e!==null&&typeof e=="object"&&"type"in e}var X2=[],U0=!0,gg=!1,z0="skip";function B0(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;let i=mg(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,c){let f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){let m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=X2,w,b,x;if((!t||i(l,u,c[c.length-1]||void 0))&&(m=H5(n(l,c)),m[0]===gg))return m;if("children"in l&&l.children){let h=l;if(h.children&&m[0]!==z0)for(b=(r?h.children.length:-1)+o,x=c.concat(h);b>-1&&b<h.children.length;){let g=h.children[b];if(w=s(g,b,x)(),w[0]===gg)return w;b=typeof w[1]=="number"?w[1]:b+o}}return m}}}function H5(e){return Array.isArray(e)?e:typeof e=="number"?[U0,e]:e==null?X2:[e]}function op(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),B0(e,i,s,a);function s(l,u){let c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return o(l,f,c)}}var q0={}.hasOwnProperty,$5={};function W2(e,t){let n=t||$5,r=new Map,a=new Map,i=new Map,o={...H2,...n.handlers},s={all:u,applyData:Y5,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:G5,wrap:K5};return op(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){let f=c.type==="definition"?r:a,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),s;function l(c,f){let p=c.type,m=s.handlers[p];if(q0.call(s.handlers,p)&&m)return m(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in c){let{children:b,...x}=c,h=Yu(x);return h.children=s.all(c),h}return Yu(c)}return(s.options.unknownHandler||Z5)(s,c,f)}function u(c){let f=[];if("children"in c){let p=c.children,m=-1;for(;++m<p.length;){let w=s.one(p[m],c);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Q2(w.value)),!Array.isArray(w)&&w.type==="element")){let b=w.children[0];b&&b.type==="text"&&(b.value=Q2(b.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function G5(e,t){e.position&&(t.position=f0(e))}function Y5(e,t){let n=t;if(e&&e.data){let r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{let o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Yu(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Z5(e,t){let n=t.data||{},r="value"in t&&!(q0.call(n,"hProperties")||q0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function K5(e,t){let n=[],r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Q2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function yg(e,t){let n=W2(e,t),r=n.one(e,void 0),a=J2(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&("children"in i,i.children.push({type:"text",value:`
`},a)),i}function vg(e,t){return e&&"run"in e?async function(n,r){let a=yg(n,{file:r,...t});await e.run(a,r)}:function(n,r){return yg(n,{file:r,...e||t})}}function F0(e){if(e)throw e}var wg=Ae(lP(),1);function sp(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function H0(){let e=[],t={run:n,use:r};return t;function n(...a){let i=-1,o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){let c=e[++i],f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,c?uP(c,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function uP(e,t){let n;return r;function r(...o){let s=e.length>o.length,l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){let c=u;if(s&&n)throw c;return a(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}var Ta={basename:J5,dirname:X5,extname:Q5,join:W5,sep:"/"};function J5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');lp(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function X5(e){if(lp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Q5(e){lp(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){let s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function W5(...e){let t=-1,n;for(;++t<e.length;)lp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":eq(n)}function eq(e){lp(e);let t=e.codePointAt(0)===47,n=tq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function tq(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function lp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var cP={cwd:nq};function nq(){return"/"}function Zu(e){return Boolean(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fP(e){if(typeof e=="string")e=new URL(e);else if(!Zu(e)){let t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){let t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rq(e)}function rq(e){if(e.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let t=e.pathname,n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){let r=t.codePointAt(n+2);if(r===70||r===102){let a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}var $0=["history","path","basename","stem","extname","dirname"],Xs=class{constructor(t){let n;t?Zu(t)?n={path:t}:typeof t=="string"||aq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":cP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$0.length;){let i=$0[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)$0.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ta.basename(this.path):void 0}set basename(t){Y0(t,"basename"),G0(t,"basename"),this.path=Ta.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ta.dirname(this.path):void 0}set dirname(t){pP(this.basename,"dirname"),this.path=Ta.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ta.extname(this.path):void 0}set extname(t){if(G0(t,"extname"),pP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ta.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Zu(t)&&(t=fP(t)),Y0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ta.basename(this.path,this.extname):void 0}set stem(t){Y0(t,"stem"),G0(t,"stem"),this.path=Ta.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){let a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){let a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){let a=new Wt(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}};function G0(e,t){if(e&&e.includes(Ta.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ta.sep+"`")}function Y0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function pP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function aq(e){return Boolean(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var dP=function(e){let r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i};var iq={}.hasOwnProperty,up=class extends dP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H0()}copy(){let t=new up,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];t.use(...r)}return t.data((0,wg.default)(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(J0("data",this.frozen),this.namespace[t]=n,this):iq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(J0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;let t=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();let n=xg(t),r=this.parser||this.Parser;return Z0("parse",r),r(String(n),n)}process(t,n){let r=this;return this.freeze(),Z0("process",this.parser||this.Parser),K0("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){let s=xg(t),l=r.parse(s);r.run(l,s,function(c,f,p){if(c||!f||!p)return u(c);let m=f,w=r.stringify(m,p);sq(w)?p.value=w:p.result=w,u(c,p)});function u(c,f){c||!f?o(c):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Z0("processSync",this.parser||this.Parser),K0("processSync",this.compiler||this.Compiler),this.process(t,a),hP("processSync","process",n),r;function a(i,o){n=!0,F0(i),r=o}}run(t,n,r){mP(t),this.freeze();let a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){let l=xg(n);a.run(t,l,u);function u(c,f,p){let m=f||t;c?s(c):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),hP("runSync","run",r),a;function i(o,s){F0(o),a=s,r=!0}}stringify(t,n){this.freeze();let r=xg(n),a=this.compiler||this.Compiler;return K0("stringify",a),mP(t),a(t,r)}use(t,...n){let r=this.attachers,a=this.namespace;if(J0("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){let[c,...f]=u;l(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=(0,wg.default)(!0,a.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){let f=u[c];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...w]=c,b=r[p][1];sp(b)&&sp(m)&&(m=(0,wg.default)(!0,b,m)),r[p]=[u,m,...w]}}}},X0=new up().freeze();function Z0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function K0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function J0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mP(e){if(!sp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function xg(e){return oq(e)?e:new Xs(e)}function oq(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function sq(e){return typeof e=="string"||lq(e)}function lq(e){return Boolean(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var uq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gP=[],yP={allowDangerousHtml:!0},cq=/^(https?|ircs?|mailto|xmpp)$/i,fq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q0(e){let t=pq(e),n=dq(e);return mq(t.runSync(t.parse(n),n),e)}function pq(e){let t=e.rehypePlugins||gP,n=e.remarkPlugins||gP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yP}:yP;return X0().use(ug).use(n).use(vg,r).use(t)}function dq(e){let t=e.children||"",n=new Xs;return typeof t=="string"?n.value=t:(""+t,void 0),n}function mq(e,t){let n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||bP;for(let c of fq)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+uq+c.id,void 0);return n&&i&&void 0,op(e,u),m0(e,{Fragment:Ku.Fragment,components:a,ignoreInvalidStyle:!0,jsx:Ku.jsx,jsxs:Ku.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let m;for(m in Qf)if(Object.hasOwn(Qf,m)&&Object.hasOwn(c.properties,m)){let w=c.properties[m],b=Qf[m];(b===null||b.includes(c.tagName))&&(c.properties[m]=l(String(w||""),m,c))}}if(c.type==="element"){let m=n?!n.includes(c.tagName):i?i.includes(c.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(c,f,p)),m&&p&&typeof f=="number")return s&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function bP(e){let t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||cq.test(e.slice(0,t))?e:""}var Sg=Ae(et()),W0=({text:e,gradient:t="linear-gradient(90deg, #334155, #cbd5e1, #334155)",animationDuration:n=2,className:r=""})=>((0,Sg.useEffect)(()=>{let a="shimmer-animation-style";if(!document.getElementById(a)){let i=document.createElement("style");i.id=a,i.textContent=`
        @keyframes shimmer {
          0% { background-position: 0% center; }
          100% { background-position: 200% center; }
        }
      `,document.head.appendChild(i)}},[]),Sg.default.createElement("span",{className:r,style:{background:t,backgroundSize:"200% auto",color:"transparent",WebkitBackgroundClip:"text",backgroundClip:"text",animation:`shimmer ${n}s linear infinite`}},e));var tn=Ae(et());function hq(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}var xP=(e,t)=>{switch(e){case ts:return{title:"Obsidian API"};case $i:switch(t.command){case"view":return{title:`Inspect: ${t.path}`};case"str_replace":return{title:`Edit: ${t.path}`};case"create":return{title:`Create: ${t.path}`};case"insert":return{title:`Edit: ${t.path} @ ${t.insert_line}`};case"undo_edit":return{title:`Undo: ${t.path}`};default:return{title:"File Editor"}}default:return{title:hq(e)}}},wP=e=>{let{callingAgentId:t,threadId:n,toolCallId:r,toolName:a,args:i}=e,{result:o,error:s,isLoading:l}=vm(t,n,r);if(a===es)return console.error("Unexpected sub-agent call in ToolCallLeaf component",e),tn.default.createElement("div",{className:"meta-bg-red-100 meta-text-red-800 meta-p-2 meta-rounded meta-text-sm meta-my-2"},"Error: Unexpected sub-agent call in ToolCallLeaf component");switch(a){case ts:return tn.default.createElement(tn.default.Fragment,null,tn.default.createElement("div",{className:"tool-call-args"},tn.default.createElement("pre",{className:"meta-bg-gray-50 dark:meta-bg-gray-900 meta-p-2 meta-rounded meta-overflow-x-auto meta-text-xs meta-my-2"},i.functionBody)),o&&tn.default.createElement("div",{className:"tool-call-result"},(()=>{let c=JSON.stringify(o.result,null,2),f=c.length>1e3;return tn.default.createElement("pre",null,f?`${c.slice(0,1e3)}... (truncated)`:c)})()));case $i:switch(i.command){case"view":default:return tn.default.createElement(tn.default.Fragment,null,tn.default.createElement("div",{className:"tool-call-args"},tn.default.createElement("pre",{className:"meta-bg-gray-50 dark:meta-bg-gray-900 meta-p-2 meta-rounded meta-overflow-x-auto meta-text-xs meta-my-2"},JSON.stringify(i,null,2))),o&&tn.default.createElement("div",{className:"tool-call-result"},(()=>{let c=typeof o.result=="string"?o.result:JSON.stringify(o.result,null,2),f=c.length>1e3;return tn.default.createElement("pre",null,f?`${c.slice(0,1e3)}... (truncated)`:c)})()))}default:return tn.default.createElement(tn.default.Fragment,null,tn.default.createElement("div",{className:"tool-call-args"},(()=>{if(a===ts)return tn.default.createElement("pre",{className:"meta-bg-gray-50 dark:meta-bg-gray-900 meta-p-2 meta-rounded meta-overflow-x-auto meta-text-xs meta-my-2"},i.functionBody);let c=JSON.stringify(i,null,2),f=c.length>1e3;return tn.default.createElement("code",{className:"meta-bg-gray-50 dark:meta-bg-gray-900 meta-block meta-rounded-b-md meta-overflow-x-auto meta-text-xs meta-whitespace-pre meta-text-gray-800 dark:meta-text-gray-200"},"\u2192 "+(f?`${c.slice(0,1e3)}... (truncated)`:c))})()),o&&tn.default.createElement("div",{className:"tool-call-result"},(()=>{let c=JSON.stringify(o.result,null,2),f=c.length>1e3;return tn.default.createElement("pre",null,"\u2190 "+(f?`${c.slice(0,1e3)}... (truncated)`:c))})()))}};var gq=e=>e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),yq=({callingAgentId:e,threadId:t,toolCallId:n,toolName:r,args:a})=>{let i=r===es,o=i?gq(a.agentId):xP(r,a).title,{result:s,error:l,isLoading:u}=vm(e,t,n),c=i?ym(e,n):null,[f,p]=(0,Ke.useState)(i?u:!1);return(0,Ke.useEffect)(()=>{window.subAgentData=c},[c]),(0,Ke.useEffect)(()=>{i&&(u?p(!0):!u&&!l&&p(!1))},[u,l,i]),Ke.default.createElement("div",{"data-tool-call-id":n,"data-calling-agent-id":e,"data-arg-agent-id":a.agentId,"data-thread-id":t,className:`${n} tool-call-container meta-rounded-lg meta-border meta-border-solid meta-border-gray-300 dark:meta-border-gray-700 meta-mt-2 meta-bg-gray-100 dark:meta-bg-gray-800/50`},Ke.default.createElement("div",{onClick:()=>p(!f),className:(0,ew.default)("meta-p-2 meta-cursor-pointer meta-rounded-t-lg hover:meta-bg-gray-200 dark:hover:meta-bg-gray-700/50 meta-font-medium meta-flex meta-items-center meta-gap-2 meta-border-b meta-border-b-solid meta-border-gray-300 dark:meta-border-gray-700",{"meta-border-b-0":!f,"meta-border-b-1 meta-border-b-solid":f})},Ke.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"meta-h-4 meta-w-4 meta-mr-2 meta-text-gray-500 dark:meta-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ke.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3"})),Ke.default.createElement("span",{className:"meta-text-xs"},u?Ke.default.createElement(W0,{text:o}):o),l&&Ke.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"meta-h-4 meta-w-4 meta-text-red-500",viewBox:"0 0 20 20",fill:"currentColor"},Ke.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))),Ke.default.createElement(ex,{initial:!1},f&&Ke.default.createElement(Qx.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},style:{overflow:"hidden"}},i&&c?Ke.default.createElement("div",{className:"meta-border-t meta-border-gray-300 dark:meta-border-gray-700 meta-px-2"},Ke.default.createElement(tw,{isLoading:u,messages:c.messages,chunks:c.chunks,agentId:a.agentId,threadId:n})):Ke.default.createElement(wP,{callingAgentId:e,threadId:t,toolCallId:n,toolName:r,args:a}),l&&Ke.default.createElement("code",{className:"meta-p-3 meta-bg-red-50 dark:meta-bg-red-900/20 meta-block meta-text-xs meta-overflow-x-auto meta-border-t meta-border-gray-300 dark:meta-border-gray-700 meta-whitespace-pre meta-text-red-800 dark:meta-text-red-200"},JSON.stringify(l,null,2)))))},vq=({message:e,isLoading:t,agentId:n,threadId:r})=>{var i,o,s,l;let a=e.role==="user";return Ke.default.createElement("div",{className:"meta-mb-2 meta-w-full"},Ke.default.createElement("div",{className:(0,ew.default)("meta-rounded-lg",{"meta-bg-blue-500 meta-text-white meta-p-2":a,"meta-text-gray-900 dark:meta-text-gray-100":!a})},a?Ke.default.createElement(Ke.default.Fragment,null,Ke.default.createElement("div",{className:"meta-flex meta-items-start"},Ke.default.createElement("svg",{className:"meta-w-4 meta-h-4 meta-mr-2 meta-text-white meta-fill-current meta-shrink-0 meta-mt-0.5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Ke.default.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})),Ke.default.createElement("p",{className:"meta-m-0 meta-whitespace-pre-wrap"},(i=e.content)==null?void 0:i.filter(u=>u.type==="text").map(u=>u.text).join("")))):Ke.default.createElement(Ke.default.Fragment,null,((o=e.content)==null?void 0:o.filter(u=>u.type==="text").map(u=>u.text).join(""))&&Ke.default.createElement("div",{className:"meta-prose meta-prose-sm dark:meta-prose-invert meta-max-w-none meta-bg-gray-200 dark:meta-bg-gray-700 meta-p-3 meta-rounded-lg meta-overflow-auto"},Ke.default.createElement(Q0,null,(s=e.content)==null?void 0:s.filter(u=>u.type==="text").map(u=>u.text).join(""))),(l=e.content)==null?void 0:l.filter(u=>u.type==="tool-call").map(u=>Ke.default.createElement(yq,{key:u.toolCallId,...u,callingAgentId:n,threadId:r})))))},tw=({isLoading:e,messages:t=[],chunks:n=[],agentId:r,threadId:a})=>{let i=(0,Ke.useRef)(null);return(0,Ke.useEffect)(()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},[n,t]),e&&n.length===0&&t.length===0?Ke.default.createElement("div",{className:"meta-flex-1 meta-overflow-y-auto meta-w-full meta-h-full meta-p-2"},Ke.default.createElement("div",{className:"meta-text-center meta-py-2 meta-font-medium"},Ke.default.createElement(W0,{text:"..."}))):Ke.default.createElement("div",{"data-agent-id":r,"data-testid":"AgentResponseArea",className:"meta-flex-1 meta-overflow-y-auto meta-w-full meta-h-full meta-mt-2",ref:i},t.filter(o=>o.role!=="tool").map((o,s)=>Ke.default.createElement(vq,{key:o.id||`msg-${s}`,message:o,isLoading:e,agentId:r,threadId:a})))};var nw=Ae(Jb());var SP=({plugin:e,component:t})=>{var h,g;let n=Ef(),[r,a]=(0,Yt.useState)(!1),i=(0,Yt.useRef)(null),o="root",{messages:s,chunks:l,appendMessage:u,appendResponseChunk:c,reset:f,getMessages:p}=ym((h=e.agent)==null?void 0:h.name,o),[m,w]=(0,Yt.useState)(null),b=(0,Yt.useCallback)(async y=>{var R,k,D,F,Ne,Te;if(!y.trim())return;i.current&&(console.warn("[unanticipated state] abortControllerRef.current is not null when handleSubmit is called"),(R=i.current)==null||R.abort()),w(null);let S=new AbortController;i.current=S,a(!0),u({role:"user",content:[{type:"text",text:y}],id:Gn()});let _=B=>{let te={role:"assistant",content:[{type:"text",text:B}],id:Gn()};u(te)},T=(B,te)=>{var ze;let ue;switch(B){case 401:case 403:ue="\u{1F511} Your API key or plan is invalid or has been revoked. Please check billing or re-authenticate. You can enter your own API key in the settings.";break;case 429:{let be=(ze=te.responseHeaders)==null?void 0:ze["retry-after"];ue=be?`You've hit your monthly free quota. Try again after ${be}s or enter your own API key in the settings to avoid this.`:"Quota exhausted. Please enter your own API key in the settings or wait for reset.";break}case 400:ue="Bad request \u2014 check prompt size, model name, or other parameters.";break;default:ue=`Error ${B}. Please try again later.`}w(ue)};try{if(e.agent){let B=p(),te=e.agent.streamText({messages:B,maxSteps:e.agent.settings.maxSteps||10,maxRetries:e.agent.settings.maxRetries||2,maxTokens:e.agent.settings.maxTokens||8e3,temperature:.2,abortSignal:S.signal},n);for await(let ue of te.fullStream){if(ue.type==="error"){if(Np.isInstance(ue.error)){let ze=ue.error,be=(D=(k=ze.errors)==null?void 0:k.find(Ce=>fn.isInstance(Ce)))==null?void 0:D.statusCode;T(be!=null?be:500,ze)}else T((Ne=(F=ue.error)==null?void 0:F.statusCode)!=null?Ne:500,ue.error);break}c(ue)}}else _("Agent not initialized. Please check your settings.")}catch(B){if(fn.isInstance(B))T((Te=B.statusCode)!=null?Te:500,B);else if(B.name==="AbortError")_("Request cancelled.");else{let te=`Unexpected error: ${B.message||B}`;_(te),w(te)}}finally{a(!1),i.current=null}},[e,n,u,c,p,w]),x=(0,Yt.useCallback)(()=>{i.current&&(console.log("%c[handleCancellation] abortControllerRef.current","color: red;",i.current),i.current.abort(),i.current=null)},[]);return Yt.default.createElement("div",{className:"meta-plugin-container meta-flex meta-flex-col meta-h-full"},Yt.default.createElement("header",{className:(0,nw.default)("meta-flex meta-justify-between meta-items-center meta-border-t-0","meta-border-b meta-border-solid meta-border-b-gray-200 dark:meta-border-b-gray-700","meta-pb-2 meta-px-4 meta-mx-[-20px]")},Yt.default.createElement("p",{className:"meta-text-sm meta-font-mono meta-text-gray-800 dark:meta-text-gray-200 meta-mt-0 meta-mb-0"},"Obsidian Assistant"),Yt.default.createElement("div",{className:"meta-flex meta-items-center meta-gap-2"},r&&Yt.default.createElement("button",{onClick:x,className:"meta-px-2 meta-py-1 meta-rounded meta-text-sm meta-bg-transparent meta-border meta-border-gray-300 hover:meta-border-gray-400 dark:meta-border-gray-600 dark:hover:meta-border-gray-500 meta-text-gray-700 dark:meta-text-gray-300 meta-transition-colors meta-flex meta-items-center meta-gap-1"},Yt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"meta-w-4 meta-h-4 meta-text-gray-600 dark:meta-text-gray-400"},Yt.default.createElement("rect",{x:"6",y:"6",width:"12",height:"12",fill:"currentColor"})),"Stop"),Yt.default.createElement("button",{onClick:()=>{i.current&&(console.log("%c[abort prev] abortControllerRef.current","color: red;",i.current),i.current.abort(),i.current=null),f()},disabled:r,className:(0,nw.default)("meta-px-2 meta-py-1 meta-rounded meta-text-sm meta-transition-colors",r?"meta-bg-gray-100 meta-text-gray-400 dark:meta-bg-gray-800 dark:meta-text-gray-500 meta-cursor-not-allowed":"meta-bg-gray-200 hover:meta-bg-gray-300 dark:meta-bg-gray-700 dark:hover:meta-bg-gray-600")},"Clear Chat"))),Yt.default.createElement("div",{className:"meta-flex-1 meta-overflow-auto meta-flex meta-flex-col"},Yt.default.createElement(tw,{isLoading:r,messages:s,chunks:l,agentId:(g=e.agent)==null?void 0:g.name,threadId:o})),Yt.default.createElement("div",{className:"meta-sticky meta-bottom-0 meta-left-0 meta-right-0"},Yt.default.createElement(qC,{onSubmit:b,onCancel:x,isLoading:r})),m&&Yt.default.createElement("div",{className:"meta-bg-red-100 meta-border meta-border-red-400 meta-text-red-700 meta-px-4 meta-py-2 meta-rounded"},m))};var rw=null;function TP(e){rw=e}function bq(){if(!rw)throw new Error("MetaPlugin instance is not registered. Call registerPluginInstance in plugin.onload().");return rw}var _P=(e,t="default")=>bq().getProcessor(e,t);var Qs="meta-sidebar-view",Tg=class extends _g.ItemView{constructor(n,r){super(n);this.root=null;this.plugin=r,this.component=new _g.Component,this.component.load()}getViewType(){return Qs}getDisplayText(){return"Vibe Chat"}getIcon(){return"brain"}async onOpen(){let{contentEl:n,app:r,plugin:a}=this;n.empty();let i=n.createDiv({cls:"meta-sidebar-root",attr:{style:"user-select:all;"}});this.root=(0,EP.createRoot)(i),this.root.render(aw.createElement(zC,{value:{app:r,plugin:a,getProcessor:_P}},aw.createElement(SP,{plugin:this.plugin,component:this.component})))}async onClose(){this.root&&(this.root.unmount(),this.root=null),this.component.unload();let{contentEl:n}=this;n.empty()}};async function Eg(e){let{workspace:t}=e.app;t.detachLeavesOfType(Qs);let n=t.getRightLeaf(!1);n&&(await n.setViewState({type:Qs,active:!0}),t.revealLeaf(n))}function kP(e){if(!e.body||typeof e.body!="string")return e;try{let t=JSON.parse(e.body);if(!t.tools||!Array.isArray(t.tools))return e;let n=t.tools.map(a=>a.name===$i?{name:"str_replace_editor",type:"text_editor_20250124"}:a),r={...t,tools:n};return{...e,body:JSON.stringify(r)}}catch(t){return console.error("Error transforming Anthropic request:",t),e}}var kg=class{constructor(){this.chunks=[];this.messages=[];this.currentMessage=null;this.currentTextDelta="";this.currentMessageIndex=-1}reset(){this.chunks=[],this.messages=[],this.currentMessage=null,this.currentTextDelta="",this.currentMessageIndex=-1}appendChunk(t){this.chunks.push(t),this.processChunk(t)}processChunk(t){switch(t.type){case"step-start":this.startNewAssistantMessage(t.messageId);break;case"text-delta":this.appendTextDelta(t.textDelta);break;case"tool-call":this.addToolCall(t);break;case"tool-result":this.addToolResult(t);break;case"error":this.finalizeCurrentMessage();let n=t.error;if(n&&n.toolCallId&&n.toolName){let r={role:"tool",id:"msg-"+n.toolCallId,content:[{type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n,isError:!0}]};this.messages.push(r)}else console.warn("[ChunkProcessor] error:",t),console.warn("[ChunkProcessor]      : ai module doesn't report provider-specific errors. check event stream logs directly.");break;case"step-finish":this.finalizeCurrentMessage();break;case"finish":break;default:console.log("[ChunkProcessor] unknown chunk type:",t);break}}startNewAssistantMessage(t){this.finalizeCurrentMessage(),this.currentMessage={role:"assistant",content:[],id:t},this.currentTextDelta="",this.messages.push(this.currentMessage),this.currentMessageIndex=this.messages.length-1}appendTextDelta(t){if(!this.currentMessage||this.currentMessageIndex===-1)return;this.currentTextDelta+=t;let n=this.currentMessage.content.findIndex(r=>r.type==="text");n>=0?this.currentMessage.content[n].text=this.currentTextDelta:this.currentMessage.content.unshift({type:"text",text:this.currentTextDelta}),this.messages[this.currentMessageIndex]=this.currentMessage}addToolCall(t){if(!this.currentMessage||this.currentMessageIndex===-1)return;let n={type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,args:t.args};this.currentMessage.content.push(n),this.messages[this.currentMessageIndex]=this.currentMessage}addToolResult(t){this.finalizeCurrentMessage();let n={role:"tool",id:"msg-"+t.toolCallId,content:[{type:"tool-result",toolCallId:t.toolCallId,toolName:t.toolName,result:t.result}]};this.messages.push(n)}finalizeCurrentMessage(){this.currentMessage&&(this.currentMessage=null,this.currentTextDelta="",this.currentMessageIndex=-1)}getMessages(){return this.messages.slice()}getChunks(){return this.chunks.slice()}debug(){let t=[];for(let n of this.messages)for(let r of n.content){let a="";switch(r.type){case"text":a=r.text;break;case"tool-call":a=`${r.toolName}(id=${r.toolCallId}, args=${JSON.stringify(r.args)})`;break;case"tool-result":a=`${r.toolName}(id=${r.toolCallId}, result=${JSON.stringify(r.result)})${r.isError?" [ERROR]":""}`;break;default:a=`Unknown part type: ${r.type}`}t.push({role:n.role,type:r.type,details:a})}console.table(t)}appendMessage(t){this.messages.push(t)}loadState(t){this.reset(),this.messages=t.messages,this.chunks=t.chunks}};async function AP(e,t){var n;try{let r=require("path"),a=e.app.vault.adapter,i=(n=e.app.plugins)==null?void 0:n.getPluginFolder(),o=t(r.join(i,"sample-meta-plugin"));await a.exists(o)||await a.mkdir(o);let s=t(r.join(o,"main.ts")),l=`
import { Plugin, MarkdownView } from 'obsidian';

export default class SamplePlugin extends Plugin {
  async onload() {
    console.log('Sample plugin loaded!');
    
    this.addCommand({
      id: 'sample-command',
      name: 'Sample Command',
      callback: () => {
        const view = this.app.workspace.getActiveViewOfType(MarkdownView);
        if (view) {
          const editor = view.editor;
          const cursor = editor.getCursor();
          editor.replaceRange('Hello from Sample Plugin!', cursor);
        }
      }
    });
  }

  onunload() {
    console.log('Sample plugin unloaded!');
  }
}
`;await a.write(s,l);let u=t(r.join(o,"manifest.json")),c=`{
  "id": "sample-meta-plugin",
  "name": "Sample Meta Plugin",
  "version": "1.0.0",
  "minAppVersion": "0.15.0",
  "description": "A sample plugin created by Vibesidian",
  "author": "Vibesidian",
  "isDesktopOnly": false
}
`;return await a.write(u,c),await e.bundlePlugin(s)}catch(r){return console.error("Error creating sample plugin:",r),{success:!1,error:r}}}async function CP(e,t){var n;try{let r=require("path"),a=e.app.vault.adapter,i=(n=e.app.plugins)==null?void 0:n.getPluginFolder(),o=t(r.join(i,"advanced-meta-plugin"));await a.exists(o)||await a.mkdir(o);let s=t(r.join(o,"src"));await a.exists(s)||await a.mkdir(s);let l=t(r.join(o,"main.ts")),u=`
import { Plugin } from 'obsidian';
import { createAdvancedCommand } from './src/commands';
import { VERSION } from './src/version';

export default class AdvancedPlugin extends Plugin {
  async onload() {
    console.log(\`Advanced plugin v\${VERSION} loaded!\`);
    createAdvancedCommand(this);
  }

  onunload() {
    console.log('Advanced plugin unloaded!');
  }
}
`;await a.write(l,u);let c=t(r.join(s,"commands.ts")),f=`
import { MarkdownView, type Plugin } from 'obsidian';
import { formatMessage } from './utils';

export function createAdvancedCommand(plugin: Plugin) {
  plugin.addCommand({
    id: 'advanced-command',
    name: 'Advanced Command',
    callback: () => {
      const view = plugin.app.workspace.getActiveViewOfType(MarkdownView);
      if (view) {
        const editor = view.editor;
        const cursor = editor.getCursor();
        editor.replaceRange(formatMessage('Hello from Advanced Plugin!'), cursor);
      }
    }
  });
}
`;await a.write(c,f);let p=t(r.join(s,"utils.ts")),m=`
export function formatMessage(message: string): string {
  return \`[${new Date().toISOString()}] \${message}\`;
}
`;await a.write(p,m);let w=t(r.join(s,"version.ts")),b=`
export const VERSION = '1.0.0';
`;await a.write(w,b);let x=t(r.join(o,"manifest.json")),h=`{
  "id": "advanced-meta-plugin",
  "name": "Advanced Meta Plugin",
  "version": "1.0.0",
  "minAppVersion": "0.15.0",
  "description": "An advanced plugin created by Vibesidian with multiple source files",
  "author": "Vibesidian",
  "isDesktopOnly": false
}
`;return await a.write(x,h),await e.bundlePlugin(l)}catch(r){return console.error("Error creating advanced plugin:",r),{success:!1,error:r}}}function wq(e){return typeof e=="object"&&e!==null&&"provider"in e&&"key"in e&&typeof e.provider=="string"&&typeof e.key=="string"}function Sq(){let e=null;async function t(n){let a=await fetch("https://cf-llm-oprah-bff.txn.workers.dev/key/generate",{headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to fetch API key: ${a.statusText}`);let i=await a.json();if(i.key){let o={provider:n,key:i.key};localStorage.setItem(yc,JSON.stringify(o))}}return async function(r){try{let a=localStorage.getItem(yc);if(a){let i=JSON.parse(a);if(wq(i)&&i.provider===r)return i.key}e||(e=t(r).finally(()=>{e=null}));return}catch(a){console.error("Error resolving API key",a);return}}}var DP=Sq(),Ag=class extends On.Plugin{constructor(){super(...arguments);this.processorsMap=new Map;this.subscribersMap=new Map;this.currentConversationId=""}async ensureDataDir(n=""){var o;let r=require("path"),a=this.app.vault.adapter,i=(0,On.normalizePath)(r.join((o=this.app.plugins)==null?void 0:o.getPluginFolder(),this.manifest.id,"d"));if(await a.exists(i)||await a.mkdir(i),n){let s=(0,On.normalizePath)(r.join(i,n));return await a.exists(s)||await a.mkdir(s),s}return i}generateConversationId(){let n=new Date,r=n.getFullYear(),a=(n.getMonth()+1).toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0"),o=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0"),l=n.getSeconds().toString().padStart(2,"0");return`${r}${a}${i}-${o}${s}${l}`}async startNewConversation(){this.currentConversationId=this.generateConversationId();let n=this.app.vault.adapter,r=require("path"),a=await this.ensureDataDir("conversations"),i=(0,On.normalizePath)(r.join(a,this.currentConversationId));await n.exists(i)||await n.mkdir(i),await this.savePluginData("activeConversation.json",{conversationId:this.currentConversationId})}async restoreActiveConversation(){let n=this.app.vault.adapter,r=require("path"),a=await this.ensureDataDir(),i=r.join(a,"activeConversation.json");if(await n.exists(i)){let o=await n.read(i),s=JSON.parse(o);this.currentConversationId=s.conversationId}else await this.startNewConversation()}async savePluginData(n,r){let a=this.app.vault.adapter,i=require("path"),o=await this.ensureDataDir(),s=i.join(o,n);return await a.write(s,JSON.stringify(r)),{path:s}}getConversationFileName(n,r){let a=n.replace(/[^a-zA-Z0-9]/g,"_"),i=r.replace(/[^a-zA-Z0-9]/g,"_");return`${a}__${i}.json`}async saveConversation(n,r){let a=this.app.vault.adapter,i=require("path"),o=await this.ensureDataDir("conversations"),s=(0,On.normalizePath)(i.join(o,this.currentConversationId));await a.exists(s)||await a.mkdir(s);let l=this.getConversationFileName(n,r),u=i.join(s,l),c=this.getProcessor(n,r),f={messages:c.getMessages(),chunks:c.getChunks()};await a.write(u,JSON.stringify(f))}async loadConversation(n,r){let a=this.app.vault.adapter,i=require("path"),o=await this.ensureDataDir("conversations"),s=(0,On.normalizePath)(i.join(o,this.currentConversationId));if(!await a.exists(s))return;let l=this.getConversationFileName(n,r),u=i.join(s,l);if(!await a.exists(u))return;let c=await a.read(u),f=JSON.parse(c);this.getProcessor(n,r).loadState(f),this.notifySubscribers(n,r)}async handleApiSettingsUpdate(){var i,o,s,l;let n=this.settings.baseUrl,r=oi.baseUrl;if(n===r&&!this.settings.apiKey){let u=await DP(n);if(u)this.settings.apiKey=u,await this.saveData(this.settings);else{this.ensureApiKeyBackground();return}}let a=()=>n.includes("anthropic");this.api={models:{list:async()=>{let u=await fetch(`${this.settings.baseUrl}/models`,{headers:{"Content-Type":"application/json",...a()?{"anthropic-version":"2023-06-01","x-api-key":this.settings.apiKey,"anthropic-dangerous-direct-browser-access":"true"}:{Authorization:`Bearer ${this.settings.apiKey}`}}});if(!u.ok)throw new Error(`Failed to fetch models: ${u.statusText}`);return{data:(await u.json()).data}}}},this.provider=a()?Vg({apiKey:this.settings.apiKey,baseURL:this.settings.baseUrl,headers:{"anthropic-dangerous-direct-browser-access":"true"},fetch:Object.assign((u,c)=>{let f=c&&kP(c);return fetch(u,f)},{preconnect:fetch.preconnect})}):Bg({apiKey:this.settings.apiKey,baseURL:this.settings.baseUrl}),this.settings.model&&((i=this.llm)==null?void 0:i.modelId)!==this.settings.model&&(this.llm=this.provider(this.settings.model)),this.agent=t1({llm:this.llm,settings:{maxSteps:this.settings.maxSteps,maxRetries:this.settings.maxRetries,maxTokens:this.settings.maxTokens},obsidianPaths:{vaultPath:this.app.vault.adapter.getBasePath(),configPath:this.app.vault.configDir,themesPath:(o=this.app.customCss)==null?void 0:o.getThemeFolder(),snippetsPath:(s=this.app.customCss)==null?void 0:s.getSnippetsFolder(),pluginsPath:(l=this.app.plugins)==null?void 0:l.getPluginFolder()}})}setThemeAttribute(){document.body.classList.contains("theme-dark")?(document.body.classList.add("meta-theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.remove("meta-theme-dark"),document.body.classList.add("theme-light"))}async initializeEsbuild(){if(!this.bundler){let{createBundler:n}=await Promise.resolve().then(()=>(OP(),RP));this.bundler=n(this.app.vault.adapter,On.normalizePath,this)}await this.bundler.initialize()}async bundlePlugin(n,r={sourcemap:!1}){return await this.initializeEsbuild(),this.bundler.bundle(n,r)}async generateText(n){if(!this.llm)throw new Error("Language model not initialized");return jp({model:this.llm,...n})}streamText(n){if(!this.llm)throw new Error("Language model not initialized");return Lp({model:this.llm,...n})}async onload(){TP(this),await this.loadSettings(),this.ensureApiKeyBackground(),this.setThemeAttribute(),this.registerEvent(this.app.workspace.on("css-change",this.setThemeAttribute)),await this.handleApiSettingsUpdate(),await this.restoreActiveConversation(),this.registerView(Qs,a=>new Tg(a,this));let n=this.addRibbonIcon("brain","Vibesidian",a=>{Eg(this)});this.addCommand({id:"open-vibesidian-sidebar",name:"Open Vibe Chat",callback:async()=>{await Eg(this)}}),this.addCommand({id:"test-bundler-sample-plugin",name:"Test Bundler: Create Sample Plugin",callback:async()=>{try{let a=await AP(this,On.normalizePath);a.success?new On.Notice(`Sample Plugin bundled successfully at: ${a.outputPath}`,5e3):new On.Notice(`Sample Plugin bundling failed: ${a.error}`,5e3)}catch(a){console.error("Error testing bundler (Sample Plugin):",a),new On.Notice("Error testing bundler (Sample Plugin). Check console for details.",5e3)}}}),this.addCommand({id:"test-bundler-advanced-plugin",name:"Test Bundler: Create Advanced Plugin",callback:async()=>{try{let a=await CP(this,On.normalizePath);a.success?new On.Notice(`Advanced Plugin bundled successfully at: ${a.outputPath}`,5e3):new On.Notice(`Advanced Plugin bundling failed: ${a.error}`,5e3)}catch(a){console.error("Error testing bundler (Advanced Plugin):",a),new On.Notice("Error testing bundler (Advanced Plugin). Check console for details.",5e3)}}});let r=new qp(this.app,this);this.addSettingTab(r)}onunload(){this.bundler&&(this.bundler.stop(),this.bundler=void 0),this.app.workspace.detachLeavesOfType(Qs)}async loadSettings(){this.settings=Object.assign({},oi,await this.loadData())}async saveSettings(){await this.saveData(this.settings),await this.handleApiSettingsUpdate(),this.app.workspace.getLeavesOfType(Qs).length>0&&Eg(this)}async refreshModelList(){let n=(await this.api.models.list()).data.map(r=>r.id);return this.settings.availableModels=n,(!this.settings.model||!n.includes(this.settings.model))&&(this.settings.model=n[0]),await this.saveSettings(),n}createKey(n,r){return`${n}:${r}`}getProcessorsMap(){return this.processorsMap}getSubscribers(n,r="default"){let a=this.createKey(n,r);return this.subscribersMap.has(a)||this.subscribersMap.set(a,new Set),this.subscribersMap.get(a)}notifySubscribers(n,r="default"){this.getSubscribers(n,r).forEach(a=>a())}getProcessor(n,r="default"){if(!n||!r)throw new Error("Agent ID and thread ID are required");let a=this.createKey(n,r);if(!this.processorsMap.has(a)){let i=new kg,o=i.appendChunk.bind(i),s=i.appendMessage.bind(i),l=i.reset.bind(i);i.appendChunk=u=>{let c=o(u);return this.notifySubscribers(n,r),this.saveConversation(n,r).catch(console.error),c},i.appendMessage=u=>{let c=s(u);return this.notifySubscribers(n,r),this.saveConversation(n,r).catch(console.error),c},i.reset=()=>{let u=l();return this.notifySubscribers(n,r),this.saveConversation(n,r).catch(console.error),u},this.processorsMap.set(a,i)}return this.processorsMap.get(a)}ensureApiKeyBackground(){this.settings.baseUrl!==oi.baseUrl||this.settings.apiKey||DP(this.settings.baseUrl).then(async n=>{n&&!this.settings.apiKey&&(this.settings.apiKey=n,await this.saveData(this.settings),await this.handleApiSettingsUpdate())}).catch(n=>console.error("Failed to resolve API key",n))}};var Tq=Ag;
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
