**Using Model:** Gemini - gemini-2.5-flash-preview-04-17
#Greptile 
### extract_instructions

### Objectives
- Use grep tile to understand authentication flow in a codebase.
- Add Google Sign-in to an application using grep tile's guidance.
- Get step-by-step instructions for coding tasks from grep tile.
- - Greptile provides AI expertise for any codebase.
- Use the chatbot to understand code structure and function.
- Get custom code integration instructions from the chatbot.
- Greptile helps engineers get up to speed quickly.

### Instructions
1.  Add your application's repository to the grep tile search session.
2.  Ask grep tile a general question about the codebase's authentication (e.g., "how does auth work in this codebase").
3.  Review the relevant code snippets and explanations provided by grep tile to understand the current setup.
4.  Add relevant external repositories (like the authentication library used, e.g., next-auth) to the grep tile context.
5.  Ask grep tile a specific question about adding the desired feature (e.g., "how do I add sign in with Google").
6.  Follow the step-by-step instructions generated by grep tile, which may include:
    - Installing necessary libraries.
    - Configuring the specific provider (e.g., Google provider).
    - Updating configuration files (e.g., `options.ts`, environment variables in `.env.local`).
    - Adding necessary components.
    - Testing the integration.

### extract_insights
- AI acts as an expert on your codebase, answering complex questions and providing deep understanding.
- Engineers can quickly get up to speed on tasks, significantly reducing the need for peer assistance.
- Integrating external documentation allows the AI to provide custom, highly relevant integration instructions.
- The tool automatically indexes large, messy codebases, ensuring its knowledge remains current and accurate.
- Workflow tool integrations automatically inject codebase context into tasks, streamlining project management effectively.
- The PR bot provides context-aware comments on code changes, greatly assisting reviewers lacking full codebase understanding.
- AI generates specific code snippets and configuration steps, accelerating feature development and setup processes.
- Debugging is enhanced by enriching error alerts with precise codebase context, pinpointing issue locations quickly.
- The system serves as a powerful codebase context engine, offering a comprehensive understanding of its structure.
- Reduced time navigating documentation and seeking help allows engineers to focus more on coding tasks.
- Onboarding for new engineers or unfamiliar codebase areas becomes much faster and more efficient.
- Automating the addition of relevant code context improves collaboration and shared understanding across teams.
- Provides specific file paths and required code modifications, making task execution direct and actionable.
- The tool supports continuous improvement by optimizing development, review, and debugging workflows significantly.
- Flexible API enables custom integrations, allowing organizations to tailor codebase intelligence to unique needs.
*   Code AI builds semantic graphs of codebases for deep understanding and navigation assistance.
*   Developers new to authentication flows gain comprehensive understanding by querying the codebase directly.
*   The tool identifies relevant code snippets and provides direct links to source files on platforms like GitHub.
*   It explains complex logic like user registration, token management, and dynamic routes within the application.
*   Integrating external open-source repositories, like NextAuth, expands the tool's knowledge base significantly.
*   The AI can analyze multiple codebases simultaneously to provide context-aware, precise instructions for tasks.
*   Adding features like "Sign in with Google" becomes a guided, step-by-step process facilitated by the AI.
*   The tool provides specific code snippets to insert into relevant configuration files like options.ts.
*   It guides developers on necessary environment variable updates in files such as .env.local.
*   Instructions include where to add UI components and how to effectively test the new integration thoroughly.
*   Using this tool drastically reduces the time traditionally spent digging through documentation or seeking help.
*   Developers save several hours on complex integration tasks by leveraging the AI's capabilities directly.
*   The AI acts as an intelligent assistant providing all necessary tools to quickly get started on new features.
*   Understanding how authentication works in a specific codebase is made significantly easier and faster.
*   Integrating third-party libraries is streamlined by having the AI analyze both codebases concurrently.
*   The auto-updating nature of the code graph ensures the information provided remains current and accurate.
*   Learning a new authentication framework like NextAuth is accelerated by exploring its source code via the tool.
*   The AI provides actionable steps derived from analyzing the interconnections within the code graph.
*   Complex development tasks become manageable with the AI breaking them down into simple, guided steps.
*   The tool empowers developers to tackle unfamiliar parts of the codebase or new technologies confidently.
*   Getting precise instructions directly related to the specific codebase context is a major advantage.
*   Developers gain insights into the 'why' behind code structure by exploring the semantic graph visually.
*   Automating the code exploration and instruction generation process boosts overall developer productivity.
*   The ability to ask overarching questions about codebase functionality provides valuable high-level understanding.
*   Specific implementation details, like referral tracking handlers, are easily identified and explained by the AI.
*   The tool serves as a personalized documentation generator tailored to the user's specific project needs.






*   New team members can onboard faster by using the tool to quickly understand existing code architecture.
*   Troubleshooting integration issues is potentially faster with the AI pointing to relevant code sections.
*   The AI's capability to reference external codebases simulates having expert knowledge readily available.
*   Developers can focus more on feature logic and less on the mechanics of integration setup processes.
*   The tool represents a shift towards AI-assisted software development workflows for common tasks.
*   Semantic code graphs provide a structured way for AI to understand complex software systems deeply.
*   Accessing relevant code snippets directly from an AI query saves manual file navigation time.
*   The tool demonstrates AI's potential to democratize complex technical knowledge within development teams.
*   Learning by doing is enhanced when the AI provides the exact code and context needed for implementation.
*   The AI helps bridge the gap between understanding high-level concepts and low-level implementation details.
*   Developers gain confidence tackling challenging tasks knowing they have an intelligent guide available.
*   The tool facilitates continuous learning about new libraries and frameworks by providing integrated context.
*   Reducing reliance on human experts frees up senior engineers for more complex, novel problems requiring creativity.
*   The AI's ability to cross-reference between internal and external code is a powerful knowledge synthesis feature.
*   Understanding the flow of execution in a codebase is made transparent through the AI's explanations.
*   The tool provides a competitive advantage by accelerating the development cycle for new features quickly.
*   Developers can iterate faster on integrations by getting immediate feedback and correct implementation steps.
*   The AI helps maintain code quality by guiding developers toward best practices embedded in reference code.
*   The tool is particularly valuable for developers working on unfamiliar parts of a large or legacy codebase.
*   AI-powered code understanding tools represent the future of developer productivity and knowledge sharing.
*   The ability to test integrations with AI-provided instructions ensures correct implementation from the start.
*   Saving hours on common tasks allows developers to focus on innovation and higher-value activities effectively.

INSIGHTS:

*   AI tools building semantic code graphs profoundly enhance developer understanding of complex internal codebase structures and interconnections.
*   Integrating external open-source library codebases allows AI to provide comprehensive, context-aware guidance for developers.
*   AI-powered development assistants significantly accelerate task completion by providing precise, step-by-step implementation instructions directly.
*   Developers save substantial time and effort previously spent manually searching documentation or seeking help from colleagues.
*   The ability to query a codebase semantically revolutionizes how developers learn and navigate unfamiliar parts of the application.
*   AI tools facilitate faster onboarding for developers by quickly providing the necessary context and steps for common tasks.
*   Accessing integrated knowledge from both internal projects and external libraries empowers developers to tackle complex integrations confidently.
*   AI provides actionable code snippets and configuration guidance, drastically reducing manual trial and error during development.
*   Reducing reliance on human experts for routine integration tasks frees up valuable senior engineering time for innovation.
*   Semantic code understanding tools represent a powerful shift towards AI-assisted workflows, boosting overall software development productivity.
*   Developers can focus more on creative problem-solving and less on the tedious mechanics of feature implementation setup.
*   The AI acts as an intelligent guide, making complex technical concepts and implementation details accessible to developers.
*   Learning new technologies is accelerated by the AI's ability to synthesize information from disparate code sources effectively.
*   Automating the process of code exploration and instruction generation streamlines the entire feature development lifecycle significantly.
*   AI-driven insights into codebase structure and flow empower developers to make better-informed design and implementation decisions.

### improve_prompt

```markdown
You are an expert code assistant specializing in web development, particularly Next.js and authentication flows using NextAuth.js.

You have access to the following information:
1.  The user's application codebase (`[USER_CODEBASE]`).
2.  Comprehensive documentation and source code for Next.js and NextAuth.js (`[NEXTJS_CONTEXT]`).

The user is a developer who is new to authentication concepts. Their goal is to add "Sign in with Google" functionality to their Next.js application using NextAuth.js.

Your task is to act as a helpful guide, first explaining the existing authentication setup in their codebase and then providing a step-by-step process to add Google Sign-in.

**Instructions:**

1.  **Analyze and Explain Existing Authentication:** Examine the `[USER_CODEBASE]` to identify how authentication is currently implemented, focusing on the use of NextAuth.js. Describe the key files and components involved (e.g., configuration files, API routes, handlers) and briefly explain the current authentication flow. Reference specific file paths or code snippets from `[USER_CODEBASE]` where relevant.
2.  **Provide Step-by-Step Guide for Google Sign-in:** Based on your analysis of the existing codebase and your knowledge from `[NEXTJS_CONTEXT]`, provide a clear, numbered step-by-step guide for adding Google Sign-in using NextAuth.js.

**Guide Requirements:**

*   **Detail:** Provide sufficient detail for someone new to NextAuth.js.
*   **Specifics:** Reference relevant files and structures within the `[USER_CODEBASE]`.
*   **Code:** Include necessary code snippets for configuration, API routes, or components, indicating where they should be placed or how they should modify existing code.
*   **Configuration:** Explicitly mention environment variables required and how to add them (e.g., in a `.env.local` file).
*   **Integration:** Explain how to integrate the sign-in button or link into the application's UI.
*   **Testing:** Include steps on how to test the implemented Google Sign-in flow.
*   **Contextual Explanations:** Explain *why* certain steps are necessary, drawing from `[NEXTJS_CONTEXT]` as needed.

Ensure the output is structured logically, starting with the explanation of the current setup and then moving into the implementation steps for Google Sign-in.
```
#codebase_comprehension