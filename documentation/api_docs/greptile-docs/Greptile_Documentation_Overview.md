# Greptile Documentation Overview

## Workflows

### Repository Discovery
- **Steps:**
  1. Index repository with `index_repository()`
  2. Check status with `get_repository_info()`
  3. Query architecture with `query_repository()`
  4. Search specific patterns with `search_repository()`
- **Memory Trigger:**
  - Notice how indexing creates the foundation for all subsequent understanding.

### Expert Consultation
- **Phases:**
  1. Discovery - What patterns exist?
  2. Analysis - How do they connect?
  3. Synthesis - What do they reveal?
  4. Implementation - How to enhance?
- **Memory Trigger:**
  - Each query builds on previous understanding like layered insight.

### Context Building
- **Pattern:**
  - `session_id` creates conversation threads that accumulate understanding.
- **Memory Trigger:**
  - Context isn't just data - it's the story of your exploration.

## Architectural Patterns

- **Blueprint First**
  - **Description:** Understand the intended architecture before diving into implementation.
  - **Seed Question:** What did the original architects assume you'd know?
  - **Approach:** Query for design decisions, not just code structure.

- **Evolutionary Architecture**
  - **Description:** How codebases adapt and grow over time.
  - **Seed Question:** What stories does this codebase tell about its evolution?
  - **Approach:** Look for patterns of change, not just current state.

- **Distributed Intelligence**
  - **Description:** Using Greptile as an expert system, not just search.
  - **Seed Question:** What would an expert notice that I'm missing?
  - **Approach:** Ask for analysis and insights, not just information.

- **Context Accumulation**
  - **Description:** Building understanding through connected queries.
  - **Seed Question:** How does this new information connect to what I already learned?
  - **Approach:** Use `session_id` to create knowledge threads.

## Consultation Phases

### Discovery - What patterns exist?
- **Objectives:**
  - Map codebase landscape
  - Identify architectural patterns
  - Locate anti-patterns
- **Key Questions:**
  - What is the intended architecture?
  - How is the code actually structured?
  - What patterns repeat across modules?

### Analysis - How do they connect?
- **Objectives:**
  - Understand relationships
  - Map dependencies
  - Identify bottlenecks
- **Key Questions:**
  - How do components interact?
  - Where are the coupling points?
  - What are the data flows?

### Synthesis - What do they reveal?
- **Objectives:**
  - Extract insights
  - Identify improvements
  - Assess risks
- **Key Questions:**
  - What do these patterns tell us?
  - What are the design implications?
  - Where are the architectural debt points?

### Implementation - How to enhance?
- **Objectives:**
  - Generate solutions
  - Create migration paths
  - Provide specifications
- **Key Questions:**
  - What should be refactored first?
  - How can we improve the architecture?
  - What are the implementation steps?

## Enhanced Usage Patterns

- **Tool Output Schemas**
  - **Description:** 2025 MCP feature for predictable tool outputs.
  - **Benefit:** Improved context efficiency and parsing.
  - **Usage:** Tools now provide structured output schemas for better integration.
- **Memory Trigger:**
  - Structured outputs enable better context management.

- **Session Management**
  - **Description:** Advanced session and context management.
  - **Patterns:**
    - Maintain `session_id` across related queries
    - Use `previous_messages` to build context
    - Track learning trajectory through sessions
  - **Memory Trigger:**
    - Sessions are conversations, not just API calls.

## Context Seeds for Discovery

- **Memory Triggers:**
  - When you index a repository, notice how it transforms from static files to living knowledge.
  - Session IDs aren't just technical - they're the DNA of your exploration journey.

- **Pattern Seeds:**
  - Architecture emerges through questions, not just answers.
  - Code patterns reflect human decision-making patterns.

- **Discovery Questions:**
  - What questions reveal this codebase's story?
  - How does this code want to be understood?

- **Reflection Hooks:**
  - How did your understanding change through this exploration?
  - What connections did you make that surprised you?

## Agents Coordination Patterns

- **Learning Amplification**
  - **Purpose:** Multiply personal learning velocity through codebase exploration.
  - **Agent Roles:**
    - Exploration Agent: Navigate and map codebase structure.
    - Pattern Agent: Extract and catalog reusable patterns.
    - Synthesis Agent: Connect insights across different codebases.
    - Learning Agent: Track personal knowledge growth and gaps.
  - **Coordination Flow:**
    - Explore, extract, connect, update.

- **Capability Multiplication**
  - **Purpose:** Enhance coding agent capabilities through codebase context.
  - **Agent Roles:**
    - Context Agent: Maintain full project understanding.
    - Generation Agent: Create code using learned patterns.
    - Validation Agent: Ensure consistency with project architecture.
    - Optimization Agent: Apply performance patterns from similar projects.
  - **Coordination Flow:**
    - Contextual awareness, create, validate, optimize.

